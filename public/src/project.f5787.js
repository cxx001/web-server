window.__require=function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({ConfigLanguageData:[function(e,t,o){"use strict";cc._RF.push(t,"2a1929cJJdAwK/6b1ZOzfFF","ConfigLanguageData");var n=null;function r(e){return e?(window.i18n.languages[e]||(cc.log("\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01window.i18n.languages[language] \u4e3a\u7a7a"),window.i18n.languages[e]=i(e)),window.i18n.languages[e]):window.i18n.curLang?i(window.i18n.curLang):void 0}function i(t){var o=e("fs"),n=e("path").join(Editor.Project.path,"./packages/i18n/config/i18n/"+t+".json");return o.readFileSync(n)}function a(e){e&&(n?n=e:(n="",n=e))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e||(cc.log("language \u672a\u5b9a\u4e49"),cc.log("window.i18n.curLang:"+window.i18n.curLang)),e!==window.i18n.curLang){var t=r(e)||{};cc.log(t),cc.log(t),window.i18n.curLang=e,a(t),this.inst=n}},parse:function(e){239===n[0]&&187===n[1]&&191===n[2]&&(n=n.slice(3)),n=n.toString("utf-8");var t=JSON.parse(n);return t.hasOwnProperty(e)?(cc.log(t[e]),t[e].toString()):"\u672a\u5b9a\u4e49\u5b57\u6bb5"},inst:n,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],o=0;o<e.length;++o){var n=e[o].getComponentsInChildren("ULabel");Array.prototype.push.apply(t,n)}for(var r=0;r<t.length;++r){t[r].updateLabel()}}},cc._RF.pop()},{fs:void 0,path:5}],CustomRichText:[function(e,t,o){"use strict";cc._RF.push(t,"cadf6TTLxFN1a/0gxNSVWAM","CustomRichText");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.menu,c=i.property,l=i.executeInEditMode,u=(i.inspector,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overflow=cc.Label.Overflow.NONE,t._overflow=cc.Label.Overflow.NONE,t._maxFragmentWidth=0,t}return n(t,e),t.prototype._updateRichTextWithMaxWidth=function(t,o,n){this.overflow==cc.Label.Overflow.SHRINK?this._updateRichTextWithMaxWidth_shrink(t,o,n):e.prototype._updateRichTextWithMaxWidth.call(this,t,o,n)},t.prototype._updateRichText=function(){this._maxFragmentWidth=0,e.prototype._updateRichText.call(this),this.overflow==cc.Label.Overflow.SHRINK&&this.maxWidth>0&&this._maxFragmentWidth>this.maxWidth?this.node.scale=this.maxWidth/this._maxFragmentWidth:this.node.scale=1},t.prototype.update=function(){cc.sys.platform==cc.sys.EDITOR_PAGE&&this._updateEditor()},t.prototype._updateEditor=function(){this.overflow!=this._overflow&&(this._overflow=this.overflow,this._updateRichText())},t.prototype._updateRichTextWithMaxWidth_shrink=function(e,t,o){var n=t;if(this._lineOffsetX>0&&n+this._lineOffsetX>this.maxWidth)for(var r=0;this._lineOffsetX<=this.maxWidth;){var i=this._getFirstWordLen(e,r,e.length),a=e.substr(r,i),s=this._measureText(o,a);if(!(this._lineOffsetX+s<=this.maxWidth)){if(r>0){var c=e.substr(0,r);this._addLabelSegment(c,o),e=e.substr(r,e.length),n=this._measureText(o,e)}this._updateLineInfo();break}this._lineOffsetX+=s,r+=i}n>this.maxWidth?(this._lineOffsetX+=n,this._addLabelSegment(e,o),this._maxFragmentWidth+=n):(this._lineOffsetX+=n,this._addLabelSegment(e,o))},r([c({type:cc.Enum(cc.Label.Overflow)})],t.prototype,"overflow",void 0),t=r([a,s("custom/customRichText"),l],t)}(cc.RichText));o.default=u,cc._RF.pop()},{}],CustomToggle:[function(e,t,o){"use strict";cc._RF.push(t,"5dcea7eMG9A2Z+BvpE03Wd/","CustomToggle");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.menu,c=i.property,l=i.inspector,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetLabel=null,t.selectedlColor=cc.Color.WHITE,t.unSelectedColor=cc.Color.RED,t}return n(t,e),t.prototype._updateCheckMark=function(){e.prototype._updateCheckMark.call(this),this.targetLabel&&(this.targetLabel.node.color=this.isChecked?this.selectedlColor:this.unSelectedColor)},r([c(cc.Label)],t.prototype,"targetLabel",void 0),r([c(cc.Color)],t.prototype,"selectedlColor",void 0),r([c(cc.Color)],t.prototype,"unSelectedColor",void 0),t=r([a,s("custom/customToggle"),l("packages://customtoggle-inspector/inspector.js")],t)}(cc.Toggle);o.default=u,cc._RF.pop()},{}],1:[function(e,t,o){"use strict";o.byteLength=function(e){var t=l(e),o=t[0],n=t[1];return 3*(o+n)/4-n},o.toByteArray=function(e){var t,o,n=l(e),a=n[0],s=n[1],c=new i(u(e,a,s)),p=0,f=s>0?a-4:a;for(o=0;o<f;o+=4)t=r[e.charCodeAt(o)]<<18|r[e.charCodeAt(o+1)]<<12|r[e.charCodeAt(o+2)]<<6|r[e.charCodeAt(o+3)],c[p++]=t>>16&255,c[p++]=t>>8&255,c[p++]=255&t;2===s&&(t=r[e.charCodeAt(o)]<<2|r[e.charCodeAt(o+1)]>>4,c[p++]=255&t);1===s&&(t=r[e.charCodeAt(o)]<<10|r[e.charCodeAt(o+1)]<<4|r[e.charCodeAt(o+2)]>>2,c[p++]=t>>8&255,c[p++]=255&t);return c},o.fromByteArray=function(e){for(var t,o=e.length,r=o%3,i=[],a=0,s=o-r;a<s;a+=16383)i.push(f(e,a,a+16383>s?s:a+16383));1===r?(t=e[o-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[o-2]<<8)+e[o-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){return 3*(t+o)/4-o}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,o){for(var n,r=[],i=t;i<o;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),r.push(p(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,o){(function(t){"use strict";var n=e("base64-js"),r=e("ieee754"),i=e("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,o){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,o)}function l(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?_(e,t,o,n):"string"==typeof t?h(e,t,o):m(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}function f(e,t){if(u(t),e=s(e,t<0?0:0|y(t)),!c.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function h(e,t,o){if("string"==typeof o&&""!==o||(o="utf8"),!c.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(t,o),r=(e=s(e,n)).write(t,o);return r!==n&&(e=e.slice(0,r)),e}function d(e,t){var o=t.length<0?0:0|y(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function _(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}function m(e,t){if(c.isBuffer(t)){var o=0|y(t.length);return 0===(e=s(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Q(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,o);case"utf8":case"utf-8":return j(this,t,o);case"ascii":return N(this,t,o);case"latin1":case"binary":return E(this,t,o);case"base64":return A(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function w(e,t,o,n,r){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=r?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(o<0){if(!r)return-1;o=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:k(e,t,o,n,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):k(e,[t],o,n,r);throw new TypeError("val must be string, number or Buffer")}function k(e,t,o,n,r){var i,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,o/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(i=o;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(o+c>s&&(o=s-c),i=o;i>=0;i--){for(var p=!0,f=0;f<c;f++)if(l(e,i+f)!==l(t,f)){p=!1;break}if(p)return i}return-1}function C(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n))>r&&(n=r):n=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function P(e,t,o,n){return X(Y(t,e.length-o),e,o,n)}function R(e,t,o,n){return X(q(t),e,o,n)}function O(e,t,o,n){return R(e,t,o,n)}function S(e,t,o,n){return X(Q(t),e,o,n)}function T(e,t,o,n){return X(Z(t,e.length-o),e,o,n)}function A(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function j(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i,a,s,c,l=e[r],u=null,p=l>239?4:l>223?3:l>191?2:1;if(r+p<=o)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[r+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[r+1],a=e[r+2],s=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=p}return M(n)}o.Buffer=c,o.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},o.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),o.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,o){return l(null,e,t,o)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,o){return p(null,e,t,o)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);r<i;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=c.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var a=e[o];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=o.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,o,n,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||o>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var i=r-n,a=o-t,s=Math.min(i,a),l=this.slice(n,r),u=e.slice(t,o),p=0;p<s;++p)if(l[p]!==u[p]){i=l[p],a=u[p];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},c.prototype.indexOf=function(e,t,o){return w(this,e,t,o,!0)},c.prototype.lastIndexOf=function(e,t,o){return w(this,e,t,o,!1)},c.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return C(this,e,t,o);case"utf8":case"utf-8":return P(this,e,t,o);case"ascii":return R(this,e,t,o);case"latin1":case"binary":return O(this,e,t,o);case"base64":return S(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function M(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var o="",n=0;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=x));return o}function N(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function E(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function L(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=J(e[i]);return r}function F(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function I(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,o,n,r,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function B(e,t,o,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);r<i;++r)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function V(e,t,o,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);r<i;++r)e[o+r]=t>>>8*(n?r:3-r)&255}function U(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function H(e,t,o,n,i){return i||U(e,0,o,4),r.write(e,t,o,n,23,4),o+4}function z(e,t,o,n,i){return i||U(e,0,o,8),r.write(e,t,o,n,52,8),o+8}c.prototype.slice=function(e,t){var o,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;o=new c(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},c.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||I(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},c.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||I(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},c.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||I(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||I(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||D(this,e,t,o,Math.pow(2,8*o)-1,0);var r=1,i=0;for(this[t]=255&e;++i<o&&(r*=256);)this[t+i]=e/r&255;return t+o},c.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||D(this,e,t,o,Math.pow(2,8*o)-1,0);var r=o-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+o},c.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},c.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},c.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,o){return H(this,e,t,!0,o)},c.prototype.writeFloatBE=function(e,t,o){return H(this,e,t,!1,o)},c.prototype.writeDoubleLE=function(e,t,o){return z(this,e,t,!0,o)},c.prototype.writeDoubleBE=function(e,t,o){return z(this,e,t,!1,o)},c.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r,i=n-o;if(this===e&&o<t&&t<n)for(r=i-1;r>=0;--r)e[r+t]=this[r+o];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},c.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var i;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(i=t;i<o;++i)this[i]=e;else{var a=c.isBuffer(e)?e:Y(new c(e,n).toString()),s=a.length;for(i=0;i<o-t;++i)this[i+t]=a[i%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function K(e){if((e=W(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var o;t=t||1/0;for(var n=e.length,r=null,i=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=65536+(r-55296<<10|o-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function q(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function Z(e,t){for(var o,n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(o=e.charCodeAt(a))>>8,r=o%256,i.push(r),i.push(n);return i}function Q(e){return n.toByteArray(K(e))}function X(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,o){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],4:[function(e,t,o){o.read=function(e,t,o,n,r){var i,a,s=8*r-n-1,c=(1<<s)-1,l=c>>1,u=-7,p=o?r-1:0,f=o?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+p],p+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+p],p+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=l}return(h?-1:1)*a*Math.pow(2,i-n)},o.write=function(e,t,o,n,r,i){var a,s,c,l=8*i-r-1,u=(1<<l)-1,p=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*c-1)*Math.pow(2,r),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[o+h]=255&s,h+=d,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[o+h]=255&a,h+=d,a/=256,l-=8);e[o+h-d]|=128*_}},{}],5:[function(e,t,o){(function(e){function t(e,t){for(var o=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),o++):o&&(e.splice(n,1),o--)}if(t)for(;o--;o)e.unshift("..");return e}function n(e){"string"!=typeof e&&(e+="");var t,o=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){o=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(o,n)}function r(e,t){if(e.filter)return e.filter(t);for(var o=[],n=0;n<e.length;n++)t(e[n],n,e)&&o.push(e[n]);return o}o.resolve=function(){for(var o="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(o=a+"/"+o,n="/"===a.charAt(0))}return o=t(r(o.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+o||"."},o.normalize=function(e){var n=o.isAbsolute(e),a="/"===i(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},o.isAbsolute=function(e){return"/"===e.charAt(0)},o.join=function(){var e=Array.prototype.slice.call(arguments,0);return o.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},o.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;o>=0&&""===e[o];o--);return t>o?[]:e.slice(t,o-t+1)}e=o.resolve(e).substr(1),t=o.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),s=a,c=0;c<a;c++)if(r[c]!==i[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),o=47===t,n=-1,r=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!r){n=i;break}}else r=!1;return-1===n?o?"/":".":o&&1===n?"/":e.slice(0,n)},o.basename=function(e,t){var o=n(e);return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},o.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,o=0,n=-1,r=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(r=!1,n=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!r){o=a+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===o+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,o){return e.substr(t,o)}:function(e,t,o){return t<0&&(t=e.length+t),e.substr(t,o)}}).call(this,e("_process"))},{_process:6}],6:[function(e,t,o){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function l(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var u,p=[],f=!1,h=-1;function d(){f&&u&&(f=!1,u.length?p=u.concat(p):h=-1,p.length&&_())}function _(){if(!f){var e=c(d);f=!0;for(var t=p.length;t;){for(u=p,p=[];++h<t;)u&&u[h].run();h=-1,t=p.length}u=null,f=!1,l(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];p.push(new m(e,t)),1!==p.length||f||c(_)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],7:[function(e,t,o){"use strict";t.exports=function(e,t){var o=new Array(arguments.length-1),n=0,r=2,i=!0;for(;r<arguments.length;)o[n++]=arguments[r++];return new Promise(function(r,a){o[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),o=0;o<t.length;)t[o++]=arguments[o];r.apply(null,t)}};try{e.apply(t||null,o)}catch(e){i&&(i=!1,a(e))}})}},{}],8:[function(e,t,o){"use strict";var n=o;n.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&"="===e.charAt(t);)++o;return Math.ceil(3*e.length)/4-o};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,o){for(var n,i=null,a=[],s=0,c=0;t<o;){var l=e[t++];switch(c){case 0:a[s++]=r[l>>2],n=(3&l)<<4,c=1;break;case 1:a[s++]=r[n|l>>4],n=(15&l)<<2,c=2;break;case 2:a[s++]=r[n|l>>6],a[s++]=r[63&l],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[n],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,o){for(var n,r=o,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(a){case 0:n=c,a=1;break;case 1:t[o++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[o++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[o++]=(3&n)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return o-r},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],9:[function(e,t,o){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var o=[];function r(e){if("string"!=typeof e){var t=i();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)s[l]=a[l],c[l]=e[a[l++]];return s[l]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),p=0;p<u.length;)u[p]=arguments[++p];if(p=0,e=e.replace(/%([%dfijs])/g,function(e,t){var o=u[p++];switch(t){case"d":case"f":return String(Number(o));case"i":return String(Math.floor(o));case"j":return JSON.stringify(o);case"s":return String(o)}return"%"}),p!==u.length)throw Error("parameter count mismatch");return o.push(e),r}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+o.join("\n  ")+"\n}"}return r.toString=i,r}t.exports=n,n.verbose=!1},{}],10:[function(e,t,o){"use strict";function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var o=this._listeners[e],n=0;n<o.length;)o[n].fn===t?o.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],n=1;n<arguments.length;)o.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,o)}return this}},{}],11:[function(e,t,o){"use strict";t.exports=i;var n=e("@protobufjs/aspromise"),r=e("@protobufjs/inquire")("fs");function i(e,t,o){return"function"==typeof t?(o=t,t={}):t||(t={}),o?!t.xhr&&r&&r.readFile?r.readFile(e,function(n,r){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,o):n?o(n):o(null,t.binary?r:r.toString("utf8"))}):i.xhr(e,t,o):n(i,this,e,t)}i.xhr=function(e,t,o){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return o(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var r=0;r<n.responseText.length;++r)e.push(255&n.responseText.charCodeAt(r))}return o(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return o(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},{"@protobufjs/aspromise":7,"@protobufjs/inquire":13}],12:[function(e,t,o){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),n=128===o[3];function r(e,n,r){t[0]=e,n[r]=o[0],n[r+1]=o[1],n[r+2]=o[2],n[r+3]=o[3]}function i(e,n,r){t[0]=e,n[r]=o[3],n[r+1]=o[2],n[r+2]=o[1],n[r+3]=o[0]}function a(e,n){return o[0]=e[n],o[1]=e[n+1],o[2]=e[n+2],o[3]=e[n+3],t[0]}function s(e,n){return o[3]=e[n],o[2]=e[n+1],o[1]=e[n+2],o[0]=e[n+3],t[0]}e.writeFloatLE=n?r:i,e.writeFloatBE=n?i:r,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,o,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,o,n);else if(isNaN(t))e(2143289344,o,n);else if(t>3.4028234663852886e38)e((r<<31|2139095040)>>>0,o,n);else if(t<1.1754943508222875e-38)e((r<<31|Math.round(t/1.401298464324817e-45))>>>0,o,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((r<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,o,n)}}function o(e,t,o){var n=e(t,o),r=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:r*(1/0):0===i?1.401298464324817e-45*r*a:r*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,i),e.readFloatLE=o.bind(null,a),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),n=128===o[7];function r(e,n,r){t[0]=e,n[r]=o[0],n[r+1]=o[1],n[r+2]=o[2],n[r+3]=o[3],n[r+4]=o[4],n[r+5]=o[5],n[r+6]=o[6],n[r+7]=o[7]}function i(e,n,r){t[0]=e,n[r]=o[7],n[r+1]=o[6],n[r+2]=o[5],n[r+3]=o[4],n[r+4]=o[3],n[r+5]=o[2],n[r+6]=o[1],n[r+7]=o[0]}function a(e,n){return o[0]=e[n],o[1]=e[n+1],o[2]=e[n+2],o[3]=e[n+3],o[4]=e[n+4],o[5]=e[n+5],o[6]=e[n+6],o[7]=e[n+7],t[0]}function s(e,n){return o[7]=e[n],o[6]=e[n+1],o[5]=e[n+2],o[4]=e[n+3],o[3]=e[n+4],o[2]=e[n+5],o[1]=e[n+6],o[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:i,e.writeDoubleBE=n?i:r,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,o,n,r,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,r,i+t),e(1/n>0?0:2147483648,r,i+o);else if(isNaN(n))e(0,r,i+t),e(2146959360,r,i+o);else if(n>1.7976931348623157e308)e(0,r,i+t),e((a<<31|2146435072)>>>0,r,i+o);else{var s;if(n<2.2250738585072014e-308)e((s=n/5e-324)>>>0,r,i+t),e((a<<31|s/4294967296)>>>0,r,i+o);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,r,i+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,r,i+o)}}}function o(e,t,o,n,r){var i=e(n,r+t),a=e(n,r+o),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=o.bind(null,a,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function i(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],13:[function(require,module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],14:[function(e,t,o){"use strict";var n=o,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),o=r(e),n="";o&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):o?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,o){return o||(t=i(t)),r(t)?t:(o||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},{}],15:[function(e,t,o){"use strict";t.exports=function(e,t,o){var n=o||8192,r=n>>>1,i=null,a=n;return function(o){if(o<1||o>r)return e(o);a+o>n&&(i=e(n),a=0);var s=t.call(i,a,a+=o);return 7&a&&(a=1+(7|a)),s}}},{}],16:[function(e,t,o){"use strict";var n=o;n.length=function(e){for(var t=0,o=0,n=0;n<e.length;++n)(o=e.charCodeAt(n))<128?t+=1:o<2048?t+=2:55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,o){if(o-t<1)return"";for(var n,r=null,i=[],a=0;t<o;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,i)),a=0);return r?(a&&r.push(String.fromCharCode.apply(String,i.slice(0,a))),r.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,o){for(var n,r,i=o,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[o++]=n:n<2048?(t[o++]=n>>6|192,t[o++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&r),++a,t[o++]=n>>18|240,t[o++]=n>>12&63|128,t[o++]=n>>6&63|128,t[o++]=63&n|128):(t[o++]=n>>12|224,t[o++]=n>>6&63|128,t[o++]=63&n|128);return o-i}},{}],17:[function(e,t,o){"use strict";t.exports=e("./src/index")},{"./src/index":26}],18:[function(e,t,o){"use strict";t.exports=i;var n,r=/\/|\./;function i(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),i[e]=t}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:n}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(e){return i[e]||null}},{}],19:[function(e,t,o){"use strict";var n=o,r=e("./enum"),i=e("./util");function a(e,t,o,n){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(d%s){",n);for(var i=t.resolvedType.values,a=Object.keys(i),s=0;s<a.length;++s)t.repeated&&i[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",i[a[s]])("m%s=%j",n,i[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,o,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,o,n){if(t.resolvedType)t.resolvedType instanceof r?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,o,n,n):e("d%s=types[%i].toObject(m%s,o)",n,o,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,o=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return o("return new this.ctor");o("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),c=i.safeProp(s.name);s.map?(o("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(o,s,n,c+"[ks[i]]")("}")("}")):s.repeated?(o("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(o,s,n,c+"[i]")("}")("}")):(s.resolvedType instanceof r||o("if(d%s!=null){",c),a(o,s,n,c),s.resolvedType instanceof r||o("}"))}return o("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var o=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?a:c).push(t[l]);if(n.length){for(o("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)o("d%s=[]",i.safeProp(n[l].name));o("}")}if(a.length){for(o("if(o.objects||o.defaults){"),l=0;l<a.length;++l)o("d%s={}",i.safeProp(a[l].name));o("}")}if(c.length){for(o("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],p=i.safeProp(u.name);if(u.resolvedType instanceof r)o("d%s=o.enums===String?%j:%j",p,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",p,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",p,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",p,p)("}")}else o("d%s=%j",p,u.typeDefault)}o("}")}var h=!1;for(l=0;l<t.length;++l){u=t[l];var d=e._fieldsArray.indexOf(u);p=i.safeProp(u.name);u.map?(h||(h=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){"),s(o,u,d,p+"[ks2[j]]")("}")):u.repeated?(o("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p),s(o,u,d,p+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",p,u.name),s(o,u,d,p),u.partOf&&o("if(o.oneofs)")("d%s=%j",i.safeProp(u.partOf.name),u.name)),o("}")}return o("return d")}},{"./enum":22,"./util":44}],20:[function(e,t,o){"use strict";t.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var o=0;o<e.fieldsArray.length;++o){var s=e._fieldsArray[o].resolve(),c=s.resolvedType instanceof n?"int32":s.type,l="m"+i.safeProp(s.name);t("case %i:",s.id),s.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",s.keyType)("r.pos++"),void 0!==r.long[s.keyType]?void 0===r.basic[c]?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,o):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):void 0===r.basic[c]?t("%s[k]=types[%i].decode(r,r.uint32())",l,o):t("%s[k]=r.%s()",l,c)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==r.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===r.basic[c]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,o):t("%s.push(r.%s())",l,c)):void 0===r.basic[c]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,o):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),o=0;o<e._fieldsArray.length;++o){var u=e._fieldsArray[o];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var n=e("./enum"),r=e("./types"),i=e("./util");function a(e){return"missing required '"+e.name+"'"}},{"./enum":22,"./types":43,"./util":44}],21:[function(e,t,o){"use strict";t.exports=function(e){for(var t,o=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),p=l.resolvedType instanceof n?"int32":l.type,f=r.basic[p];t="m"+i.safeProp(l.name),l.map?(o("if(%s!=null&&m.hasOwnProperty(%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|r.mapKey[l.keyType],l.keyType),void 0===f?o("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):o(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,p,t),o("}")("}")):l.repeated?(o("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==r.packed[p]?o("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",p,t)("w.ldelim()"):(o("for(var i=0;i<%s.length;++i)",t),void 0===f?a(o,l,u,t+"[i]"):o("w.uint32(%i).%s(%s[i])",(l.id<<3|f)>>>0,p,t)),o("}")):(l.optional&&o("if(%s!=null&&m.hasOwnProperty(%j))",t,l.name),void 0===f?a(o,l,u,t):o("w.uint32(%i).%s(%s)",(l.id<<3|f)>>>0,p,t))}return o("return w")};var n=e("./enum"),r=e("./types"),i=e("./util");function a(e,t,o,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",o,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",o,n,(t.id<<3|2)>>>0)}},{"./enum":22,"./types":43,"./util":44}],22:[function(e,t,o){"use strict";t.exports=a;var n=e("./object");((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var r=e("./namespace"),i=e("./util");function a(e,t,o,r,i){if(n.call(this,e,o),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var o=new a(e,t.values,t.options,t.comment,t.comments);return o.reserved=t.reserved,o},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,o){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=o||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)}},{"./namespace":30,"./object":31,"./util":44}],23:[function(e,t,o){"use strict";t.exports=l;var n=e("./object");((l.prototype=Object.create(n.prototype)).constructor=l).className="Field";var r,i=e("./enum"),a=e("./types"),s=e("./util"),c=/^required|optional|repeated$/;function l(e,t,o,r,i,l,u){if(s.isObject(r)?(u=i,l=r,r=i=void 0):s.isObject(i)&&(u=l,l=i,i=void 0),n.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(o))throw TypeError("type must be a string");if(void 0!==r&&!c.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=o,this.id=t,this.extend=i||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[o],this.bytes="bytes"===o,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,o){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,o)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},l.d=function(e,t,o,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(r,i){s.decorateType(r.constructor).add(new l(i,e,t,o,{default:n}))}},l._configure=function(e){r=e}},{"./enum":22,"./object":31,"./types":43,"./util":44}],24:[function(e,t,o){"use strict";var n=t.exports=e("./index-minimal");n.build="light",n.load=function(e,t,o){return"function"==typeof t?(o=t,t=new n.Root):t||(t=new n.Root),t.load(e,o)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=e("./encoder"),n.decoder=e("./decoder"),n.verifier=e("./verifier"),n.converter=e("./converter"),n.ReflectionObject=e("./object"),n.Namespace=e("./namespace"),n.Root=e("./root"),n.Enum=e("./enum"),n.Type=e("./type"),n.Field=e("./field"),n.OneOf=e("./oneof"),n.MapField=e("./mapfield"),n.Service=e("./service"),n.Method=e("./method"),n.Message=e("./message"),n.wrappers=e("./wrappers"),n.types=e("./types"),n.util=e("./util"),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},{"./converter":19,"./decoder":20,"./encoder":21,"./enum":22,"./field":23,"./index-minimal":25,"./mapfield":27,"./message":28,"./method":29,"./namespace":30,"./object":31,"./oneof":32,"./root":36,"./service":40,"./type":42,"./types":43,"./util":44,"./verifier":47,"./wrappers":48}],25:[function(e,t,o){"use strict";var n=o;function r(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=e("./writer"),n.BufferWriter=e("./writer_buffer"),n.Reader=e("./reader"),n.BufferReader=e("./reader_buffer"),n.util=e("./util/minimal"),n.rpc=e("./rpc"),n.roots=e("./roots"),n.configure=r,n.Writer._configure(n.BufferWriter),r()},{"./reader":34,"./reader_buffer":35,"./roots":37,"./rpc":38,"./util/minimal":46,"./writer":49,"./writer_buffer":50}],26:[function(e,t,o){"use strict";var n=t.exports=e("./index-light");n.build="full",n.tokenize=e("./tokenize"),n.parse=e("./parse"),n.common=e("./common"),n.Root._configure(n.Type,n.parse,n.common)},{"./common":18,"./index-light":24,"./parse":33,"./tokenize":41}],27:[function(e,t,o){"use strict";t.exports=a;var n=e("./field");((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var r=e("./types"),i=e("./util");function a(e,t,o,r,a,s){if(n.call(this,e,t,r,void 0,void 0,a,s),!i.isString(o))throw TypeError("keyType must be a string");this.keyType=o,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,o){return"function"==typeof o?o=i.decorateType(o).name:o&&"object"==typeof o&&(o=i.decorateEnum(o).name),function(n,r){i.decorateType(n.constructor).add(new a(r,e,t,o))}}},{"./field":23,"./types":43,"./util":44}],28:[function(e,t,o){"use strict";t.exports=r;var n=e("./util/minimal");function r(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)this[t[o]]=e[t[o]]}r.create=function(e){return this.$type.create(e)},r.encode=function(e,t){return this.$type.encode(e,t)},r.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},r.decode=function(e){return this.$type.decode(e)},r.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},r.verify=function(e){return this.$type.verify(e)},r.fromObject=function(e){return this.$type.fromObject(e)},r.toObject=function(e,t){return this.$type.toObject(e,t)},r.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},{"./util/minimal":46}],29:[function(e,t,o){"use strict";t.exports=i;var n=e("./object");((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var r=e("./util");function i(e,t,o,i,a,s,c,l){if(r.isObject(a)?(c=a,a=s=void 0):r.isObject(s)&&(c=s,s=void 0),void 0!==t&&!r.isString(t))throw TypeError("type must be a string");if(!r.isString(o))throw TypeError("requestType must be a string");if(!r.isString(i))throw TypeError("responseType must be a string");n.call(this,e,c),this.type=t||"rpc",this.requestType=o,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},{"./object":31,"./util":44}],30:[function(e,t,o){"use strict";t.exports=u;var n=e("./object");((u.prototype=Object.create(n.prototype)).constructor=u).className="Namespace";var r,i,a,s=e("./field"),c=e("./util");function l(e,t){if(e&&e.length){for(var o={},n=0;n<e.length;++n)o[e[n].name]=e[n].toJSON(t);return o}}function u(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var o=0;o<e.length;++o)if("string"!=typeof e[o]&&e[o][0]<=t&&e[o][1]>=t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,o=Object.keys(e),n=0;n<o.length;++n)t=e[o[n]],this.add((void 0!==t.fields?r.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:u.fromJSON)(o[n],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof r||e instanceof a||e instanceof i||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof r||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var o=t.nestedArray,n=0;n<o.length;++n)e.add(o[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},u.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var o=this;e.length>0;){var n=e.shift();if(o.nested&&o.nested[n]){if(!((o=o.nested[n])instanceof u))throw Error("path conflicts with non-namespace objects")}else o.add(o=new u(n))}return t&&o.addJSON(t),o},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,o){if("boolean"==typeof t?(o=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof u&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var r=0;r<this.nestedArray.length;++r)if(this._nestedArray[r]instanceof u&&(n=this._nestedArray[r].lookup(e,t,!0)))return n;return null===this.parent||o?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[r]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[r,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,o){r=e,i=t,a=o}},{"./field":23,"./object":31,"./util":44}],31:[function(e,t,o){"use strict";t.exports=i,i.className="ReflectionObject";var n,r=e("./util");function i(e,t){if(!r.isString(e))throw TypeError("name must be a string");if(t&&!r.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved?this:(this.root instanceof n&&(this.resolved=!0),this)},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,o){return o&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setOptions=function(e,t){if(e)for(var o=Object.keys(e),n=0;n<o.length;++n)this.setOption(o[n],e[o[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},{"./util":44}],32:[function(e,t,o){"use strict";t.exports=a;var n=e("./object");((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var r=e("./field"),i=e("./util");function a(e,t,o,r){if(Array.isArray(t)||(o=t,t=void 0),n.call(this,e,o),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=r}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var o=e.get(this.oneof[t]);o&&!o.partOf&&(o.partOf=this,this.fieldsArray.push(o))}s(this)},a.prototype.onRemove=function(e){for(var t,o=0;o<this.fieldsArray.length;++o)(t=this.fieldsArray[o]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,o){i.decorateType(t.constructor).add(new a(o,e)),Object.defineProperty(t,o,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},{"./field":23,"./object":31,"./util":44}],33:[function(e,t,o){"use strict";t.exports=P,P.filename=null,P.defaults={keepCase:!1};var n=e("./tokenize"),r=e("./root"),i=e("./type"),a=e("./field"),s=e("./mapfield"),c=e("./oneof"),l=e("./enum"),u=e("./service"),p=e("./method"),f=e("./types"),h=e("./util"),d=/^[1-9][0-9]*$/,_=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,g=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,k=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,C=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function P(e,t,o){t instanceof r||(o=t,t=new r),o||(o=P.defaults);var R,O,S,T,A,j=n(e,o.alternateCommentMode||!1),x=j.next,M=j.push,N=j.peek,E=j.skip,L=j.cmnt,F=!0,I=!1,D=t,B=o.keepCase?function(e){return e}:h.camelCase;function V(e,t,o){var n=P.filename;return o||(P.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+j.line+")")}function U(){var e,t=[];do{if('"'!==(e=x())&&"'"!==e)throw V(e);t.push(x()),E(e),e=N()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=x();switch(t){case"'":case'"':return M(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return G(t,!0)}catch(o){if(e&&k.test(t))return t;throw V(t,"value")}}function z(e,t){var o,n;do{!t||'"'!==(o=N())&&"'"!==o?e.push([n=K(x()),E("to",!0)?K(x()):n]):e.push(U())}while(E(",",!0));E(";")}function G(e,t){var o=1;switch("-"===e.charAt(0)&&(o=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return o*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(e))return o*parseInt(e,10);if(m.test(e))return o*parseInt(e,16);if(v.test(e))return o*parseInt(e,8);if(b.test(e))return o*parseFloat(e);throw V(e,"number",t)}function K(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(_.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(g.test(e))return parseInt(e,8);throw V(e,"id")}function W(){if(void 0!==R)throw V("package");if(R=x(),!k.test(R))throw V(R,"name");D=D.define(R),E(";")}function J(){var e,t=N();switch(t){case"weak":e=S||(S=[]),x();break;case"public":x();default:e=O||(O=[])}t=U(),E(";"),e.push(t)}function Y(){if(E("="),T=U(),!(I="proto3"===T)&&"proto2"!==T)throw V(T,"syntax");E(";")}function q(e,t){switch(t){case"option":return re(e,t),E(";"),!0;case"message":return Q(e,t),!0;case"enum":return oe(e,t),!0;case"service":return ce(e,t),!0;case"extend":return ue(e,t),!0}return!1}function Z(e,t,o){var n=j.line;if(e&&(e.comment=L(),e.filename=P.filename),E("{",!0)){for(var r;"}"!==(r=x());)t(r);E(";",!0)}else o&&o(),E(";"),e&&"string"!=typeof e.comment&&(e.comment=L(n))}function Q(e,t){if(!w.test(t=x()))throw V(t,"type name");var o=new i(t);Z(o,function(e){if(!q(o,e))switch(e){case"map":ee(o);break;case"required":case"optional":case"repeated":X(o,e);break;case"oneof":te(o,e);break;case"extensions":z(o.extensions||(o.extensions=[]));break;case"reserved":z(o.reserved||(o.reserved=[]),!0);break;default:if(!I||!k.test(e))throw V(e);M(e),X(o,"optional")}}),e.add(o)}function X(e,t,o){var n=x();if("group"!==n){if(!k.test(n))throw V(n,"type");var r=x();if(!w.test(r))throw V(r,"name");r=B(r),E("=");var i=new a(r,K(x()),n,t,o);Z(i,function(e){if("option"!==e)throw V(e);re(i,e),E(";")},function(){se(i)}),e.add(i),I||!i.repeated||void 0===f.packed[n]&&void 0!==f.basic[n]||i.setOption("packed",!1,!0)}else $(e,t)}function $(e,t){var o=x();if(!w.test(o))throw V(o,"name");var n=h.lcFirst(o);o===n&&(o=h.ucFirst(o)),E("=");var r=K(x()),s=new i(o);s.group=!0;var c=new a(n,r,o,t);c.filename=P.filename,Z(s,function(e){switch(e){case"option":re(s,e),E(";");break;case"required":case"optional":case"repeated":X(s,e);break;default:throw V(e)}}),e.add(s).add(c)}function ee(e){E("<");var t=x();if(void 0===f.mapKey[t])throw V(t,"type");E(",");var o=x();if(!k.test(o))throw V(o,"type");E(">");var n=x();if(!w.test(n))throw V(n,"name");E("=");var r=new s(B(n),K(x()),t,o);Z(r,function(e){if("option"!==e)throw V(e);re(r,e),E(";")},function(){se(r)}),e.add(r)}function te(e,t){if(!w.test(t=x()))throw V(t,"name");var o=new c(B(t));Z(o,function(e){"option"===e?(re(o,e),E(";")):(M(e),X(o,"optional"))}),e.add(o)}function oe(e,t){if(!w.test(t=x()))throw V(t,"name");var o=new l(t);Z(o,function(e){switch(e){case"option":re(o,e),E(";");break;case"reserved":z(o.reserved||(o.reserved=[]),!0);break;default:ne(o,e)}}),e.add(o)}function ne(e,t){if(!w.test(t))throw V(t,"name");E("=");var o=K(x(),!0),n={};Z(n,function(e){if("option"!==e)throw V(e);re(n,e),E(";")},function(){se(n)}),e.add(t,o,n.comment)}function re(e,t){var o=E("(",!0);if(!k.test(t=x()))throw V(t,"name");var n=t;o&&(E(")"),n="("+n+")",t=N(),C.test(t)&&(n+=t,x())),E("="),ie(e,n)}function ie(e,t){if(E("{",!0))do{if(!w.test(A=x()))throw V(A,"name");"{"===N()?ie(e,t+"."+A):(E(":"),"{"===N()?ie(e,t+"."+A):ae(e,t+"."+A,H(!0))),E(",",!0)}while(!E("}",!0));else ae(e,t,H(!0))}function ae(e,t,o){e.setOption&&e.setOption(t,o)}function se(e){if(E("[",!0)){do{re(e,"option")}while(E(",",!0));E("]")}return e}function ce(e,t){if(!w.test(t=x()))throw V(t,"service name");var o=new u(t);Z(o,function(e){if(!q(o,e)){if("rpc"!==e)throw V(e);le(o,e)}}),e.add(o)}function le(e,t){var o=t;if(!w.test(t=x()))throw V(t,"name");var n,r,i,a,s=t;if(E("("),E("stream",!0)&&(r=!0),!k.test(t=x()))throw V(t);if(n=t,E(")"),E("returns"),E("("),E("stream",!0)&&(a=!0),!k.test(t=x()))throw V(t);i=t,E(")");var c=new p(s,o,n,i,r,a);Z(c,function(e){if("option"!==e)throw V(e);re(c,e),E(";")}),e.add(c)}function ue(e,t){if(!k.test(t=x()))throw V(t,"reference");var o=t;Z(null,function(t){switch(t){case"required":case"repeated":case"optional":X(e,t,o);break;default:if(!I||!k.test(t))throw V(t);M(t),X(e,"optional",o)}})}for(;null!==(A=x());)switch(A){case"package":if(!F)throw V(A);W();break;case"import":if(!F)throw V(A);J();break;case"syntax":if(!F)throw V(A);Y();break;case"option":if(!F)throw V(A);re(D,A),E(";");break;default:if(q(D,A)){F=!1;continue}throw V(A)}return P.filename=null,{package:R,imports:O,weakImports:S,syntax:T,root:t}}},{"./enum":22,"./field":23,"./mapfield":27,"./method":29,"./oneof":32,"./root":36,"./service":40,"./tokenize":41,"./type":42,"./types":43,"./util":44}],34:[function(e,t,o){"use strict";t.exports=c;var n,r=e("./util/minimal"),i=r.LongBits,a=r.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function u(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=r.Buffer?function(e){return(c.create=function(e){return r.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l,c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,o):t===o?new this.buf.constructor(0):this._slice.call(this.buf,t,o)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e;var t=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},{"./util/minimal":46}],35:[function(e,t,o){"use strict";t.exports=i;var n=e("./reader");(i.prototype=Object.create(n.prototype)).constructor=i;var r=e("./util/minimal");function i(e){n.call(this,e)}r.Buffer&&(i.prototype._slice=r.Buffer.prototype.slice),i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{"./reader":34,"./util/minimal":46}],36:[function(e,t,o){"use strict";t.exports=p;var n=e("./namespace");((p.prototype=Object.create(n.prototype)).constructor=p).className="Root";var r,i,a,s=e("./field"),c=e("./enum"),l=e("./oneof"),u=e("./util");function p(e){n.call(this,"",e),this.deferred=[],this.files=[]}function f(){}p.fromJSON=function(e,t){return t||(t=new p),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},p.prototype.resolvePath=u.path.resolve,p.prototype.load=function e(t,o,n){"function"==typeof o&&(n=o,o=void 0);var r=this;if(!n)return u.asPromise(e,r,t,o);var s=n===f;function c(e,t){if(n){var o=n;if(n=null,s)throw e;o(e,t)}}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){i.filename=e;var n,a=i(t,r,o),l=0;if(a.imports)for(;l<a.imports.length;++l)(n=r.resolvePath(e,a.imports[l]))&&p(n);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(n=r.resolvePath(e,a.weakImports[l]))&&p(n,!0)}else r.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||h||c(null,r)}function p(e,t){var o=e.lastIndexOf("google/protobuf/");if(o>-1){var i=e.substring(o);i in a&&(e=i)}if(!(r.files.indexOf(e)>-1))if(r.files.push(e),e in a)s?l(e,a[e]):(++h,setTimeout(function(){--h,l(e,a[e])}));else if(s){var p;try{p=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}l(e,p)}else++h,u.fetch(e,function(o,i){--h,n&&(o?t?h||c(null,r):c(o):l(e,i))})}var h=0;u.isString(t)&&(t=[t]);for(var d,_=0;_<t.length;++_)(d=r.resolvePath("",t[_]))&&p(d);if(s)return r;h||c(null,r)},p.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,f)},p.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function d(e,t){var o=t.parent.lookup(t.extend);if(o){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,o.add(n),!0}return!1}p.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||d(0,e)||this.deferred.push(e);else if(e instanceof c)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof r)for(var t=0;t<this.deferred.length;)d(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var o=0;o<e.nestedArray.length;++o)this._handleAdd(e._nestedArray[o]);h.test(e.name)&&(e.parent[e.name]=e)}},p.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var o=0;o<e.nestedArray.length;++o)this._handleRemove(e._nestedArray[o]);h.test(e.name)&&delete e.parent[e.name]}},p._configure=function(e,t,o){r=e,i=t,a=o}},{"./enum":22,"./field":23,"./namespace":30,"./oneof":32,"./util":44}],37:[function(e,t,o){"use strict";t.exports={}},{}],38:[function(e,t,o){"use strict";o.Service=e("./rpc/service")},{"./rpc/service":39}],39:[function(e,t,o){"use strict";t.exports=r;var n=e("../util/minimal");function r(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(o)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,o,r,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,o,r,i);if(s.rpcImpl)try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,o){if(e)return s.emit("error",e,t),a(e);if(null!==o){if(!(o instanceof r))try{o=r[s.responseDelimited?"decodeDelimited":"decode"](o)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",o,t),a(null,o)}s.end(!0)})}catch(e){return s.emit("error",e,t),void setTimeout(function(){a(e)},0)}else setTimeout(function(){a(Error("already ended"))},0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"../util/minimal":46}],40:[function(e,t,o){"use strict";t.exports=s;var n=e("./namespace");((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var r=e("./method"),i=e("./util"),a=e("./rpc");function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var o=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)o.add(r.fromJSON(n[i],t.methods[n[i]]));return t.nested&&o.addJSON(t.nested),o.comment=t.comment,o},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),o=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof r?(this.methods[e.name]=e,e.parent=this,c(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof r){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,o){for(var n,r=new a.Service(e,t,o),s=0;s<this.methodsArray.length;++s){var c=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");r[c]=i.codegen(["r","c"],i.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return r}},{"./method":29,"./namespace":30,"./rpc":38,"./util":44}],41:[function(e,t,o){"use strict";t.exports=h;var n=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\s*\*?\/*/,c=/\n/g,l=/\s/,u=/\\(.?)/g,p={0:"\0",r:"\r",n:"\n",t:"\t"};function f(e){return e.replace(u,function(e,t){switch(t){case"\\":case"":return t;default:return p[t]||""}})}function h(e,t){var o=0,u=(e=e.toString()).length,p=1,h=null,d=null,_=0,m=!1,y=[],v=null;function g(e){return Error("illegal "+e+" (line "+p+")")}function b(){var t="'"===v?i:r;t.lastIndex=o-1;var n=t.exec(e);if(!n)throw g("string");return o=t.lastIndex,O(v),v=null,f(n[1])}function w(t){return e.charAt(t)}function k(o,n){h=e.charAt(o++),_=p,m=!1;var r,i=o-(t?2:3);do{if(--i<0||"\n"===(r=e.charAt(i))){m=!0;break}}while(" "===r||"\t"===r);for(var l=e.substring(o,n).split(c),u=0;u<l.length;++u)l[u]=l[u].replace(t?s:a,"").trim();d=l.join("\n").trim()}function C(t){var o=P(t),n=e.substring(t,o);return/^\s*\/{1,2}/.test(n)}function P(e){for(var t=e;t<u&&"\n"!==w(t);)t++;return t}function R(){if(y.length>0)return y.shift();if(v)return b();var r,i,a,s,c;do{if(o===u)return null;for(r=!1;l.test(a=w(o));)if("\n"===a&&++p,++o===u)return null;if("/"===w(o)){if(++o===u)throw g("comment");if("/"===w(o))if(t){if(s=o,c=!1,C(o)){c=!0;do{if((o=P(o))===u)break;o++}while(C(o))}else o=Math.min(u,P(o)+1);c&&k(s,o),p++,r=!0}else{for(c="/"===w(s=o+1);"\n"!==w(++o);)if(o===u)return null;++o,c&&k(s,o-1),++p,r=!0}else{if("*"!==(a=w(o)))return"/";s=o+1,c=t||"*"===w(s);do{if("\n"===a&&++p,++o===u)throw g("comment");i=a,a=w(o)}while("*"!==i||"/"!==a);++o,c&&k(s,o-2),r=!0}}}while(r);var f=o;if(n.lastIndex=0,!n.test(w(f++)))for(;f<u&&!n.test(w(f));)++f;var h=e.substring(o,o=f);return'"'!==h&&"'"!==h||(v=h),h}function O(e){y.push(e)}function S(){if(!y.length){var e=R();if(null===e)return null;O(e)}return y[0]}return Object.defineProperty({next:R,peek:S,push:O,skip:function(e,t){var o=S();if(o===e)return R(),!0;if(!t)throw g("token '"+o+"', '"+e+"' expected");return!1},cmnt:function(e){var o=null;return void 0===e?_===p-1&&(t||"*"===h||m)&&(o=d):(_<e&&S(),_!==e||m||!t&&"/"!==h||(o=d)),o}},"line",{get:function(){return p}})}h.unescape=f},{}],42:[function(e,t,o){"use strict";t.exports=v;var n=e("./namespace");((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var r=e("./enum"),i=e("./oneof"),a=e("./field"),s=e("./mapfield"),c=e("./service"),l=e("./message"),u=e("./reader"),p=e("./writer"),f=e("./util"),h=e("./encoder"),d=e("./decoder"),_=e("./verifier"),m=e("./converter"),y=e("./wrappers");function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function g(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var o=this.fields[e[t]],n=o.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=o}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,l,!0),this._ctor=e;for(var o=0;o<this.fieldsArray.length;++o)this._fieldsArray[o].resolve();var n={};for(o=0;o<this.oneofsArray.length;++o)n[this._oneofsArray[o].resolve().name]={get:f.oneOfGetter(this._oneofsArray[o].oneof),set:f.oneOfSetter(this._oneofsArray[o].oneof)};o&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,o=f.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?o("this%s={}",f.safeProp(t.name)):t.repeated&&o("this%s=[]",f.safeProp(t.name));return o("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var o=new v(e,t.options);o.extensions=t.extensions,o.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)o.add((void 0!==t.fields[l[u]].keyType?s.fromJSON:a.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)o.add(i.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var p=t.nested[l[u]];o.add((void 0!==p.id?a.fromJSON:void 0!==p.fields?v.fromJSON:void 0!==p.values?r.fromJSON:void 0!==p.methods?c.fromJSON:n.fromJSON)(l[u],p))}return t.extensions&&t.extensions.length&&(o.extensions=t.extensions),t.reserved&&t.reserved.length&&(o.reserved=t.reserved),t.group&&(o.group=!0),t.comment&&(o.comment=t.comment),o},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),o=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var o=this.oneofsArray;for(t=0;t<o.length;)o[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),g(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),g(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),g(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),g(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],o=0;o<this.fieldsArray.length;++o)t.push(this._fieldsArray[o].resolve().resolvedType);this.encode=h(this)({Writer:p,types:t,util:f}),this.decode=d(this)({Reader:u,types:t,util:f}),this.verify=_(this)({types:t,util:f}),this.fromObject=m.fromObject(this)({types:t,util:f}),this.toObject=m.toObject(this)({types:t,util:f});var n=y[e];if(n){var r=Object.create(this);r.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(r),r.toObject=this.toObject,this.toObject=n.toObject.bind(r)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){f.decorateType(t,e)}}},{"./converter":19,"./decoder":20,"./encoder":21,"./enum":22,"./field":23,"./mapfield":27,"./message":28,"./namespace":30,"./oneof":32,"./reader":34,"./service":40,"./util":44,"./verifier":47,"./wrappers":48,"./writer":49}],43:[function(e,t,o){"use strict";var n=o,r=e("./util"),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var o=0,n={};for(t|=0;o<e.length;)n[i[o+t]]=e[o++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},{"./util":44}],44:[function(e,t,o){"use strict";var n,r,i=t.exports=e("./util/minimal"),a=e("./roots");i.codegen=e("@protobufjs/codegen"),i.fetch=e("@protobufjs/fetch"),i.path=e("@protobufjs/path"),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),o=new Array(t.length),n=0;n<t.length;)o[n]=e[t[n++]];return o}return[]},i.toObject=function(e){for(var t={},o=0;o<e.length;){var n=e[o++],r=e[o++];void 0!==r&&(t[n]=r)}return t};var s=/\\/g,c=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(t,o){if(t.$type)return o&&t.$type.name!==o&&(i.decorateRoot.remove(t.$type),t.$type.name=o,i.decorateRoot.add(t.$type)),t.$type;n||(n=e("./type"));var r=new n(o||t.name);return i.decorateRoot.add(r),r.ctor=t,Object.defineProperty(t,"$type",{value:r,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:r,enumerable:!1}),r};var u=0;i.decorateEnum=function(t){if(t.$type)return t.$type;r||(r=e("./enum"));var o=new r("Enum"+u++,t);return i.decorateRoot.add(o),Object.defineProperty(t,"$type",{value:o,enumerable:!1}),o},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e("./root")))}})},{"./enum":22,"./root":36,"./roots":37,"./type":42,"./util/minimal":46,"@protobufjs/codegen":9,"@protobufjs/fetch":11,"@protobufjs/path":14}],45:[function(e,t,o){"use strict";t.exports=r;var n=e("../util/minimal");function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=r.zero=new r(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var o=e>>>0,n=(e-o)/4294967296>>>0;return t&&(n=~n>>>0,o=~o>>>0,++o>4294967295&&(o=0,++n>4294967295&&(n=0))),new r(o,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):i},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===a?i:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}},{"../util/minimal":46}],46:[function(e,t,o){(function(t){"use strict";var n=o;function r(e,t,o){for(var n=Object.keys(t),r=0;r<n.length;++r)void 0!==e[n[r]]&&o||(e[n[r]]=t[n[r]]);return e}function i(e){function t(e,o){if(!(this instanceof t))return new t(e,o);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&r(this,o)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=e("@protobufjs/aspromise"),n.base64=e("@protobufjs/base64"),n.EventEmitter=e("@protobufjs/eventemitter"),n.float=e("@protobufjs/float"),n.inquire=e("@protobufjs/inquire"),n.utf8=e("@protobufjs/utf8"),n.pool=e("@protobufjs/pool"),n.LongBits=e("./longbits"),n.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var o=e[t];return!(null==o||!e.hasOwnProperty(t))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var o=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(o.lo,o.hi,t):o.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var e=Object.keys(this),o=e.length-1;o>-1;--o)if(1===t[e[o]]&&void 0!==this[e[o]]&&null!==this[e[o]])return e[o]}},n.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,o){return new e(t,o)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./longbits":45,"@protobufjs/aspromise":7,"@protobufjs/base64":8,"@protobufjs/eventemitter":10,"@protobufjs/float":12,"@protobufjs/inquire":13,"@protobufjs/pool":15,"@protobufjs/utf8":16}],47:[function(e,t,o){"use strict";t.exports=function(e){var t=r.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),o={};e.oneofsArray.length&&t("var p={}");for(var n=0;n<e.fieldsArray.length;++n){var c=e._fieldsArray[n].resolve(),l="m"+r.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,n,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,n,l+"[i]")("}");else{if(c.partOf){var u=r.safeProp(c.partOf.name);1===o[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),o[c.partOf.name]=1,t("p%s=1",u)}a(t,c,n,l)}c.optional&&t("}")}return t("return null")};var n=e("./enum"),r=e("./util");function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,o,r){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",r)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",o,r)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",r)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',r)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',r)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",r)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",i(t,"buffer"))}return e}function s(e,t,o){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",o)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",o)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",o)("return%j",i(t,"boolean key"))}return e}},{"./enum":22,"./util":44}],48:[function(e,t,o){"use strict";var n=o,r=e("./message");n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var o="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+o,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var o=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=this.lookup(o);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof r){var i=e.$type.toObject(e,t);return i["@type"]=e.$type.fullName,i}return this.toObject(e,t)}}},{"./message":28}],49:[function(e,t,o){"use strict";t.exports=p;var n,r=e("./util/minimal"),i=r.LongBits,a=r.base64,s=r.utf8;function c(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}function f(e,t,o){t[o]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function d(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function _(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}p.create=r.Buffer?function(){return(p.create=function(){return new n})()}:function(){return new p},p.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(p.alloc=r.pool(p.alloc,r.Array.prototype.subarray)),p.prototype._push=function(e,t,o){return this.tail=this.tail.next=new c(e,t,o),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e},p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(d,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.uint64=function(e){var t=i.from(e);return this._push(d,t.length(),t)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(d,t.length(),t)},p.prototype.bool=function(e){return this._push(f,1,e?1:0)},p.prototype.fixed32=function(e){return this._push(_,4,e>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(e){var t=i.from(e);return this._push(_,4,t.lo)._push(_,4,t.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var m=r.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var n=0;n<e.length;++n)t[o+n]=e[n]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(r.isString(e)){var o=p.alloc(t=a.length(e));a.decode(e,o,0),e=o}return this.uint32(t)._push(m,t,e)},p.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0)},p.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},p._configure=function(e){n=e}},{"./util/minimal":46}],50:[function(e,t,o){"use strict";t.exports=a;var n=e("./writer");(a.prototype=Object.create(n.prototype)).constructor=a;var r=e("./util/minimal"),i=r.Buffer;function a(){n.call(this)}a.alloc=function(e){return(a.alloc=r._Buffer_allocUnsafe)(e)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var n=0;n<e.length;)t[o++]=e[n++]};function c(e,t,o){e.length<40?r.utf8.write(e,t,o):t.utf8Write(e,o)}a.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=i.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},{"./util/minimal":46,"./writer":49}],GrayLable:[function(e,t,o){"use strict";cc._RF.push(t,"58e99AlN4JA27qo4O0kJGdL","GrayLable");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,i.menu),c=i.requireComponent,l=i.executeInEditMode,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onEnable=function(){this._originalNodeColor=this.node.color,this.node.color=this.calcGrayColor(this.node.color);var e=this.getComponent(cc.LabelOutline);e&&(this._originalOutlineColor=e.color,e.color=this.calcGrayColor(e.color))},t.prototype.onDisable=function(){this.node.color=this._originalNodeColor;var e=this.getComponent(cc.LabelOutline);e&&this._originalOutlineColor&&(e.color=this._originalOutlineColor)},t.prototype.calcGrayColor=function(e){var t=.299*e.getR()+.587*e.getG()+.184*e.getB();return t=Math.min(255,t),t=Math.max(0,t),new cc.Color(t,t,t,e.getA())},t=r([a,c(cc.Label),s("custom/GrayLable"),l],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],JsonOb:[function(e,t,o){"use strict";cc._RF.push(t,"4cc0foYT7NDrrMdVzYTd9Xk","JsonOb"),Object.defineProperty(o,"__esModule",{value:!0});var n=Object.prototype,r={obj:"[object Object]",array:"[object Array]"},i=["push","pop","shift","unshift","short","reverse","splice"],a=function(){function e(e,t){n.toString.call(e)!==r.obj&&n.toString.call(e)!==r.array&&console.error("\u8bf7\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\u6216\u6570\u7ec4"),this._callback=t,this.observe(e)}return e.prototype.observe=function(e,t){var o=this;n.toString.call(e)===r.array&&this.overrideArrayProto(e,t),Object.keys(e).forEach(function(i){var a=o,s=e[i],c=t&&t.slice();c?c.push(i):c=[i],Object.defineProperty(e,i,{get:function(){return s},set:function(e){s!==e&&("[object Object]"===n.toString.call(e)&&a.observe(e,c),a._callback(e,s,c),s=e)}}),n.toString.call(e[i])!==r.obj&&n.toString.call(e[i])!==r.array||o.observe(e[i],c)},this)},e.prototype.overrideArrayProto=function(e,t){var o,n=Array.prototype,r=Object.create(Array.prototype),a=this;i.forEach(function(e){Object.defineProperty(r,e,{value:function(){var r=this.slice();return o=n[e].apply(this,arguments),a.observe(this,t),a._callback(this,r,t),o}})}),e.__proto__=r},e}();o.JsonOb=a,cc._RF.pop()},{}],PdkUtils:[function(e,t,o){"use strict";cc._RF.push(t,"e3a44YA1h9EkZEcPnimzVFV","PdkUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../manager/user_manager");(function(e){var t;function o(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i)n[i]=o(e[i]);return n}if(e instanceof Object){var a={};for(var s in e)e.hasOwnProperty(s)&&(a[s]=o(e[s]));return a}throw new Error("Unable to copy obj! Its type isn't supported.")}function r(e,t){var o;if(null!=e){for(var n=((o={})[1]=[],o[2]=[],o[3]=[],o[4]=[],o),r=null,i=[],a=0;a<t;a++){var s=e[a],c=15&s;if(1==c?c=14:2==c&&(c=15),null==r||r!=c){var l=i.length;if(l>0){var u=i.slice();n[l].unshift(u)}r=c,i.length=0,i.unshift(s)}else i.unshift(s)}var p=i.length;if(p>0&&n[p]){u=i.slice();n[p].unshift(u)}return n}cc.error("getSortCard null")}function i(e,o){if(o<=0)return{type:t.CardType_error,value:null};var n=r(e,o);if(4==o&&1==n[4].length)return{type:t.CardType_bomb,value:n[4][0]};if(1==o&&1==n[1].length)return{type:t.CardType_single,value:n[1][0]};if(2==o&&1==n[2].length)return{type:t.CardType_pair,value:n[2][0]};if(o>=5&&o==n[1].length){for(var i=null,a=[],s=0;s<n[1].length;s++){if(1==(g=15&(_=n[1][s][0]))&&(g=14),null!=i&&i+1!=g)break;a.push(_),i=g}if(a.length==o)return{type:t.CardType_straight,value:a}}if(o==2*n[2].length){i=null;var c=[];for(s=0;s<n[2].length;s++){if(1==(g=15&(_=n[2][s][0]))&&(g=14),null!=i&&i+1!=g)break;n[2][s].forEach(function(e){c.push(e)}),i=g}if(c.length==o)return{type:t.CardType_straightPair,value:c}}if(o>=3&&o<=5&&1==n[3].length){a=n[3][0].slice();n[3]=[];for(s=1;s<5;s++)for(var l=n[s],u=0;u<l.length;u++)for(var p=l[u],f=0;f<p.length;f++){var h=p[f];a.push(h)}if(a.length==o)return{type:t.CardType_3Add2,value:a}}if(n[3].length>=2&&o>=3*n[3].length&&o<=5*n[3].length){i=null;var d=[];for(s=0;s<n[3].length;s++){var _;if(1==(g=15&(_=n[3][s][0]))?g=14:2==g&&(g=15),null==i||i+1==g)n[3][s].forEach(function(e){d.push(e)}),i=g;else{if(!(d.length/3<2))break;d=[],n[3][s].forEach(function(e){d.push(e)}),i=g}}var m=d.length/3;if(m>=2){d.forEach(function(e){for(var t=!1,o=0;o<n[3].length;o++){for(var r=n[3][o],i=0;i<r.length;i++){if(e==r[i]){r.splice(i,1),t=!0;break}}if(t)break}});for(s=1;s<5;s++){for(f=n[s],u=0;u<f.length;u++)for(var y=f[u],v=0;v<y.length;v++){var g=y[v];if(d.push(g),d.length%(5*m)==0)break}if(d.length%(5*m)==0)break}if(d.length==o)return{type:t.CardType_airplane,value:d}}}return{type:t.CardType_error,value:null}}(function(e){e[e.CardType_error=0]="CardType_error",e[e.CardType_single=1]="CardType_single",e[e.CardType_pair=2]="CardType_pair",e[e.CardType_straight=3]="CardType_straight",e[e.CardType_straightPair=4]="CardType_straightPair",e[e.CardType_3Add2=5]="CardType_3Add2",e[e.CardType_airplane=6]="CardType_airplane",e[e.CardType_4Add3=7]="CardType_4Add3",e[e.CardType_bomb=8]="CardType_bomb"})(t=e.ExtractType||(e.ExtractType={})),e.clone=o,e.getSortCard=r,e.getCardTypeAndCard=i,e.getExtractCardType=function(e,a,s,c){var l={};if(a<=0)return l;var u=r(e,a),p=null,f=null;if(null!=c&&c>0){var h=i(s,c);p=h.type,f=h.value}var d=0;null!=f&&(d=15&f[0]),1==d?d=14:2==d&&(d=15);var _=0,m=function(e,t){void 0===t&&(t=!1),l[_]||(l[_]=[]),t?l[_].push(e):l[_].push([e]),_++};if(p==t.CardType_single){n.default.instance.mPlayerCount,n.default.instance.mChairID;for(var y=null,v=null,g=1;g<5;g++)for(var b=u[g],w=0;w<b.length;w++)(B=b[w]).length<4&&(1==(S=15&B[0])?S=14:2==S&&(S=15),S>d&&(null==y||S>y)&&(y=S,v=B[0]));y&&m(v)}if(p==t.CardType_pair){var k=o(u);for(g=0;g<k[2].length;g++)1==(S=15&(L=k[2][g])[0])?S=14:2==S&&(S=15),S>d&&m(L,!0);for(g=0;g<k[3].length;g++)1==(S=15&(L=k[3][g])[0])?S=14:2==S&&(S=15),S>d&&(L.splice(0,1),m(L,!0))}if(null==p||p==t.CardType_straight){var C=[];for(g=1;g<5;g++)for(b=u[g],w=0;w<b.length;w++)(B=b[w]).length<4&&(1==(S=15&B[0])?S=14:2==S&&(S=15),C[S]=B[B.length-1]);C[15]=null,cc.log("xx",C);var P=3;if(null!=f)for(1==(P=15&f[0])?P=14:2==P&&(P=15),g=P+=1;g<=14;g++){var R=[];for(w=0;w<f.length&&null!=C[g+w];w++)R.push(C[g+w]);R.length==f.length&&m(R,!0)}else for(R=[],g=0;g<=15;g++)cc.log("xxx",C[g]),null!=C[g]?R.push(C[g]):(R.length>=5&&m(R,!0),R=[])}if(null==p||p==t.CardType_straightPair){var O={};for(g=1;g<5;g++)for(b=u[g],w=0;w<b.length;w++)(B=b[w]).length<4&&B.length>=2&&(1==(S=15&B[0])?S=14:2==S&&(S=15),O[S]=[B[B.length-2],B[B.length-1]],cc.log("=>>",O));if(O[15]=null,P=3,null!=f&&(1==(P=15&f[0])?P=14:2==P&&(P=15),P+=1),null!=f)for(g=P;g<=14;g++)for(R=[],w=0;w<=.5*f.length-1&&null!=O[g+w]&&O[g+w].length>=2&&O[g+w].length<=3;w++){var S=O[g+w][O[g+w].length-1];R.push(S),S=O[g+w][O[g+w].length-2],R.push(S),R.length==f.length&&m(R,!0)}else for(R=[],g=0;g<15;g++)null!=O[g]&&O[g].length>=2&&O[g].length<=3?(S=O[g][O[g].length-1],R.push(S),S=O[g][O[g].length-2],R.push(S)):(R.length>=4&&R.length%2==0&&m(R,!0),R=[])}if(null==p||p==t.CardType_3Add2){var T=o(u);for(g=0;g<T[3].length;g++)if(1==(S=15&(L=T[3][g])[0])?S=14:2==S&&(S=15),S>d){if((R=o(L)).length%5!=0)for(w=0;w<T[1].length;w++){for(var A=T[1][w],j=0;j<A.length&&(R.push(A[j]),R.length%5!=0);j++);if(R.length%5==0)break}if(R.length%5!=0)for(var x=0;x<T[2].length;x++){for(w=0;w<T[2][x].length&&(R.push(T[2][x][w]),R.length%5!=0);w++);if(R.length%5==0)break}if(R.length%5!=0)for(var M=0;M<T[3].length;M++)if(1==(X=15&(K=T[3][M])[0])?X=14:2==X&&(X=15),S!=X){for(w=0;w<K.length;w++){var N=K[w];if(R.push(N),R.length%5==0)break}if(R.length%5==0)break}(null==f||null!=f&&R.length==f.length||R.length==a&&a>=3)&&m(R,!0)}}if(p==t.CardType_4Add3){var E=o(u);for(g=0;g<E[3].length;g++)if(1==(S=15&(K=E[3][g])[0])?S=14:2==S&&(S=15),S>d){if((R=o(K)).length%7!=0)for(w=0;w<E[0].length;w++){for(var L=E[0][w],F=0;F<L.length;F++){var I=L[F];if(R.push(I),R.length%7==0)break}if(R.length%7==0)break}if(R.length%7!=0)for(w=0;w<E[1].length;w++){for(L=E[0][w],F=0;F<L.length&&(I=L[F],R.push(I),R.length%7!=0);F++);if(R.length%7==0)break}if(R.length%7!=0)for(w=0;w<E[2].length;w++){for(L=E[0][w],F=0;F<L.length&&(I=L[F],R.push(I),R.length%7!=0);F++);if(R.length%7==0)break}(null==f||null!=f&&R.length==f.length)&&m(R,!0)}}if(null==p||p==t.CardType_airplane){var D=[];for(g=1;g<5;g++)for(b=u[g],w=0;w<b.length;w++){var B;(B=b[w]).length<4&&(1==(S=15&B[0])?S=14:2==S&&(S=15),D[S]=o(B))}if(D[15]=null,P=3,null!=f&&(1==(P=15&f[0])?P=14:2==P&&(P=15),P+=1),null!=f){var V=f.length/5;for(g=P;g<=14;g++){R=[];var U=[],H=!0;for(w=0;w<V-1;w++){if(null==D[g+w]||3!=D[g+w].length){H=!1;break}for(U[g+w]=!0,F=0;F<D[g+w].length;F++){var z=D[g+w][F];R.push(z)}}if(1==H){for(var G=0;G<u[1].length;G++){for(z=u[1][G],w=0;w<z.length;w++){var K=z[w];if(R.push(K),R.length%(5*V)==0)break}if(R.length%(5*V)==0)break}if(R.length%(5*V)!=0)for(var W=0;W<u[2].length;W++){var J=u[2][W];for(w=0;w<J.length&&(K=J[w],R.push(K),R.length%(5*V)!=0);w++);if(R.length%(5*V)==0)break}if(R.length%(5*V)!=0)for(var Y=0;Y<u[3].length;Y++)if(2==(S=15&(X=u[3][Y])[0])?S=14:2==S&&(S=15),null==U[S]){for(F=0;F<X.length&&(K=X[F],R.push(K),R.length%(5*V)!=0);F++);if(R.length%(5*V)==0)break}m(R,!0)}}}else for(R=[],U=[],g=0;g<15;g++)if(null!=D[g]&&3==D[g].length)for(U[g]=!0,w=0;w<D[g].length;w++)K=D[g][w],R.push(K);else{if(R.length>=6){if(V=R.length/3,R.length%(5*V)!=0)for(var q=0;q<u[1].length;q++){for(J=u[1][q],w=0;w<J.length&&(K=J[w],R.push(K),R.length%(5*V)!=0);w++);if(R.length%(5*V)==0)break}if(R.length%(5*V)!=0)for(var Z=0;Z<u[2].length;Z++){for(J=u[2][Z],w=0;w<J.length&&(K=J[w],R.push(K),R.length%(5*V)!=0);w++);if(R.length%(5*V)==0)break}if(R.length%(5*V)!=0)for(var Q=0;Q<u[3].length;Q++){var X;if(2==(S=15&(X=u[3][Q])[0])?S=14:2==S&&(S=15),null==U[S]){for(F=0;F<X.length&&(K=X[F],R.push(K),R.length%(5*V)!=0);F++);if(R.length%(5*V)==0)break}}m(R,!0)}R=[],U=[]}}null!=p&&p==t.CardType_bomb||(d=0);var $=o(u);for(cc.log("xx",$),g=0;g<$[4].length;g++)1==(S=15&(K=$[4][g])[0])?S=14:2==S&&(S=15),S>d&&m(K,!0);return l._index=_,l}})(o.PdkUtils||(o.PdkUtils={})),cc._RF.pop()},{"../../../../manager/user_manager":"user_manager"}],SdkBridge:[function(e,t,o){"use strict";cc._RF.push(t,"55e2aeL+19OLLDNMQC3zH2X","SdkBridge"),window.onGetPlatformMsg=function(e){console.log("receive message from JAVA:"+e);var t=e;"string"==typeof e&&(t=JSON.parse(e)),null!=window.onHandlerPlatformMsg?window.onHandlerPlatformMsg(t):console.log("onHandlerPlatformMsg\u672a\u6ce8\u518c")},cc._RF.pop()},{}],SdkHandler:[function(e,t,o){"use strict";cc._RF.push(t,"060044QnGlKMLxCOVFe4KKM","SdkHandler");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../manager/game_manager"),i=cc._decorator,a=i.ccclass,s=(i.property,function(){function e(){window.onHandlerPlatformMsg=function(e){var t=e.functionName;if(console.log("functionName:"+t),"onExitGame"==t);else if("preLoadGame"==t);else if("onHideGame"==t){var o=e.params.isHide;console.log("receive message isHideGame:"+o)}else if("onChangeGame"==t){var n=e.params.gameName;r.GameManager.changeGame(n)}else console.log("receive message :"+t+", but the function unuse")}}return e=n([a],e)}());o.default=s,cc._RF.pop()},{"../manager/game_manager":"game_manager"}],SdkInterface:[function(e,t,o){"use strict";cc._RF.push(t,"c5824GaGwNH+Yp9GtJBa6t0","SdkInterface"),window.sdkInterface={SDKCall:function(e){var t=window.prompt(e,"JsCallPlatform");return console.log("SDKCall result:"+t),t},EnterGame:function(){var e=JSON.stringify({functionName:"enterGame",params:""});return sdkInterface.SDKCall(e)},ExitGame:function(){var e=JSON.stringify({functionName:"exitGame",params:""});return sdkInterface.SDKCall(e)},vibratePhone:function(e){console.log("vibratePhone");var t={functionName:"vibrate",params:{time:e}},o=JSON.stringify(t);return sdkInterface.SDKCall(o)}},cc._RF.pop()},{}],SdkStorage:[function(e,t,o){"use strict";cc._RF.push(t,"7fac2aWgG9GYZhEY+K5Djhd","SdkStorage"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../manager/local_storage"),r=function(){function e(){}return e.setLoginToken=function(e){n.default.setItem(this.loginType,e)},e.getLoginToken=function(e){return n.default.getItem(e)},e.clearLoginToken=function(){n.default.delete(this.loginType)},e}();o.default=r,cc._RF.pop()},{"../manager/local_storage":"local_storage"}],String:[function(e,t,o){"use strict";cc._RF.push(t,"d26dbt/E95ET7Ymyh8rm0az","String"),String.prototype.format=function(e){for(var t=this,o=0;o<arguments.length;o++)if(void 0!=arguments[o]){var n=new RegExp("({)"+o+"(})","g");t=t.replace(n,arguments[o])}return t.toString()},cc._RF.pop()},{}],TLabel:[function(e,t,o){"use strict";cc._RF.push(t,"0425e79VPBLRKL77ZZzP2iH","TLabel");var n=e("./ConfigLanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"UI/TLabel"},properties:{ULabelKey:{get:function(){return this._ulabelKey},set:function(e){var t=this.getComponent("ULabel");t&&(t.i18nKey=this._ulabelKey),this._ulabelKey!==e&&(this._ulabelKey=e)}},_ulabelKey:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label),t=this.getComponent("ULabel");if(t&&(t.i18nKey=this._ulabelKey),e&&t)return this.label=e,void this.updateULabel()},updateULabel:function(){var e=this.getComponent("ULabel");(e&&(e.i18nKey=this._ulabelKey),this.label||(this.label=this.getComponent(cc.Label)),this.label)?e?n.parse(e.i18nKey)&&(this.label.string=n.parse(e.i18nKey)):cc.error("Failed to update localized ULabel, ULabel component is invalid!"):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{"./ConfigLanguageData":"ConfigLanguageData"}],ToggleObjectContral:[function(e,t,o){"use strict";cc._RF.push(t,"82cf7Xly8dI4bdntr5gAxCB","ToggleObjectContral");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeTab=[],t.deActiveTab=[],t._toggle=null,t}return n(t,e),t.prototype.onLoad=function(){null==this._toggle&&(this._toggle=this.getComponent(cc.Toggle)),this._toggle.node.on("toggle",function(e){for(var t=e,o=0;o<this.activeTab.length;o++)this.activeTab[o].active=t.isChecked;for(o=0;o<this.deActiveTab.length;o++)this.deActiveTab[o].active=!t.isChecked},this)},t.prototype.start=function(){},r([s([cc.Node])],t.prototype,"activeTab",void 0),r([s([cc.Node])],t.prototype,"deActiveTab",void 0),r([s(cc.Toggle)],t.prototype,"_toggle",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],UButton:[function(e,t,o){"use strict";cc._RF.push(t,"01cc5nTAA1E3bS4424pvL3J","UButton");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../framework/core/mvvm/view_base"),a=(e("../manager/debug"),cc._decorator),s=a.ccclass,c=a.menu,l=a.property,u=(a.executeInEditMode,a.inspector,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewBase=null,t}return n(t,e),t.prototype.onEnable=function(){var e=this;this._init||(this._init=!0,this.viewBase&&this.viewBase.cacheComponent(this.node.name,this),this.node.on("click",function(){e.viewBase.buttonClick(e.node,"")},this))},t.prototype.onChangeLanguage=function(){},t.prototype.onFocusInEditor=function(){this.resetInEditor()},t.prototype.resetInEditor=function(){var e=this.getComponent(cc.Button);if(e.zoomScale>1.01&&(e.zoomScale=.92),null==this.viewBase)for(var t=this.node;null!=t&&(this.viewBase=t.getComponent(i.default),null==this.viewBase);)t=t.parent},r([l(i.default)],t.prototype,"viewBase",void 0),t=r([s,c("UI/UButton")],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../framework/core/mvvm/view_base":"view_base","../manager/debug":"debug"}],ULabel:[function(e,t,o){"use strict";cc._RF.push(t,"6b325DQJvVPo4dXNsYj36mB","ULabel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../framework/core/mvvm/view_base"),a=e("../manager/language_manager"),s=e("../lib/ConfigLanguageData"),c=cc._decorator,l=c.ccclass,u=c.menu,p=c.property,f=c.executeInEditMode,h=(c.inspector,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewBase=null,t.i18nKey="",t}return n(t,e),t.prototype.onChangeLanguage=function(){this.targetComponent.string=a.default.t(this.i18nKey)},t.prototype.onEnable=function(){this._init||(this._init=!0,this.targetComponent=this.getComponent(cc.Label),this.viewBase&&this.viewBase.cacheComponent(this.node.name,this))},t.prototype.resetInEditor=function(){if(null==this.viewBase)for(var e=this.node.parent;null!=e&&(this.viewBase=e.getComponent(i.default),null==this.viewBase);)e=e.parent},t.prototype.updateLabel=function(){this.targetComponent?s.parse(this.i18nKey)&&(this.targetComponent.string=s.parse(this.i18nKey)):cc.error("Failed to update Ulabel, label component is invalid!")},r([p(i.default)],t.prototype,"viewBase",void 0),r([p()],t.prototype,"i18nKey",void 0),t=r([l,u("UI/ULabel"),f],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../framework/core/mvvm/view_base":"view_base","../lib/ConfigLanguageData":"ConfigLanguageData","../manager/language_manager":"language_manager"}],USprite:[function(e,t,o){"use strict";cc._RF.push(t,"dc184b8AfVOvJf3tjVZ4Vme","USprite");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.menu,l=a.property,u=a.executeInEditMode,p=(a.inspector,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewBase=null,t.i18nKey="",t}return n(t,e),t.prototype.changeLanguage=function(){},t.prototype.onEnable=function(){this._init||(this._init=!0,this.targetComponent=this.getComponent(cc.Sprite),this.viewBase&&this.viewBase.cacheComponent(this.node.name,this))},t.prototype.resetInEditor=function(){if(null==this.viewBase)for(var e=this.node.parent;null!=e&&(this.viewBase=e.getComponent(i.default),null==this.viewBase);)e=e.parent},r([l(i.default)],t.prototype,"viewBase",void 0),r([l()],t.prototype,"i18nKey",void 0),t=r([s,c("UI/USprite"),u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../framework/core/mvvm/view_base":"view_base"}],aes:[function(e,t,o){"use strict";cc._RF.push(t,"9d22fIBAuhOe7vQJIGyIBog","aes"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.encrypt=function(e,t){},e.decrypt=function(e,t){},e.key="JDh3d2z8MO0Ps",e}();o.default=n,cc._RF.pop()},{}],app_data:[function(e,t,o){"use strict";cc._RF.push(t,"df8feY7SXJKspJnkFeg+bDY","app_data"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../manager/game_manager"),r=function(){function e(){}return e.setServerByData=function(){e.isTest?(e.ip="127.0.0.1",e.port=8686):(e.ip="47.99.50.101",e.port=8686),n.GameManager.loginServer="ws://"+e.ip+":"+e.port},e.appVersion="1.0.19",e.appName="TM",e.gameid=15,e.apiGameName="TM_LHD",e.ip="api.slddz.sincebest.com",e.proxyHost="http://test.api.h5international.sincebest.com:8080/proxy?url=",e.isIphoneX=!1,e.iphonexOffset=50,e.isTest=!1,e}();o.default=r,cc._RF.pop()},{"../../../manager/game_manager":"game_manager"}],audio_manager:[function(e,t,o){"use strict";cc._RF.push(t,"5da939ViqRDsLKyBpaSrM8B","audio_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./local_storage"),a=e("../manager/debug"),s=e("../utility/game_util"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioSource=null,t._audioPool=[],t._musicOpen="music_volume",t._soundOpen="sound_volume",t._vibrateOpen="vibrate",t._musicVolume="music_volume_number",t._soundVolume="sound_volume_number",t._musicId=-1,t._lastMusicId=-1,t._soundUrls=[],t._curMusicIndex=0,t._isLoadingMusic=!1,t.soundCtxPool=[],t.maxSoundNum=8,t._index=0,t._musicUrl="",t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){this._audioPool=[],this._soundUrls=[],this._musicId=-1,this._lastMusicId=-1,this._isLoadingMusic=!1;Number(i.default.getNumber(this._musicVolume));cc.audioEngine.setMusicVolume(0);Number(i.default.getNumber(this._soundVolume));cc.audioEngine.setEffectsVolume(0)},t.prototype.getAudio=function(e,t){s.default.loadRes(e,function(e,o){e?cc.warn(e):o&&t(o)})},t.prototype.playMusicLoop=function(){this.playHallBgMusic()},t.prototype.playHallBgMusic=function(e){if(1!=this._curMusicIndex||e){this._curMusicIndex=1,this.playMusic("sound/bgm/hall_bg",!0)}},t.prototype.playFightMusic=function(e){if(2!=this._curMusicIndex||e){this._curMusicIndex=2,this.playMusic("sound/bgm/bg_zhandou1",!0)}},t.prototype.playFightMusic2=function(e){if(3!=this._curMusicIndex||e){this._curMusicIndex=3,this.playMusic("sound/bgm/bg_zhandou2",!0)}},t.prototype.playMusic=function(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o=!1),this._musicUrl!=e||o){this._musicUrl=e,this._curMusicIndex=-1;var n=this;this.getAudio(e,function(t){cc.audioEngine.stopMusic(),n._musicId=cc.audioEngine.playMusic(t,!0),a.default.log("\u64ad\u653e\u97f3\u4e50\uff1a",e)})}},t.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},t.prototype.stopAllMusic=function(){cc.audioEngine.stopAll()},t.prototype.isMusicOpen=function(){return 0==i.default.getNumber(this._musicOpen,0)},t.prototype.setMusicOpen=function(e){void 0===e&&(e=!0),i.default.setNumber(this._musicOpen,e?0:1)},t.prototype.setMusicVolume=function(e){e=Math.max(0,e),e=Math.min(1,e),cc.audioEngine.setMusicVolume(e),i.default.setNumber(this._musicVolume,e)},t.prototype.isSoundOpen=function(){return 0==i.default.getNumber(this._soundOpen,0)},t.prototype.isNeedPlaySound=function(){return this.isSoundOpen()&&cc.audioEngine.getEffectsVolume()>0},t.prototype.setSoundOpen=function(e){void 0===e&&(e=!0),i.default.setNumber(this._soundOpen,e?0:1)},t.prototype.setSoundVolume=function(e){e=Math.max(0,e),e=Math.min(1,e),cc.audioEngine.setEffectsVolume(e),i.default.setNumber(this._soundVolume,e)},t.prototype.isVibrateOpen=function(){return 0==i.default.getNumber(this._vibrateOpen,0)},t.prototype.setVibrateOpen=function(e){void 0===e&&(e=!0),i.default.setNumber(this._vibrateOpen,e?0:1)},t.prototype.resumeMusic=function(){var e=cc.audioEngine.getState(this._musicId);a.default.log(this._musicId,e,this.isMusicOpen()),Number(e)>=0?cc.audioEngine.resumeMusic():(cc.audioEngine.stop(this._musicId),0==this._curMusicIndex&&(this._curMusicIndex=1),this.startMusic())},t.prototype.startMusic=function(){1==this._curMusicIndex?this.playHallBgMusic(!0):2==this._curMusicIndex?this.playFightMusic(!0):3==this._curMusicIndex&&this.playFightMusic2(!0)},t.prototype.playSound=function(e,t,o){void 0===t&&(t=!1),this.isNeedPlaySound()&&this.getAudio(e,function(e){var t=cc.audioEngine.playEffect(e,!1);o&&cc.audioEngine.setFinishCallback(t,o)})},t.prototype.release=function(){this.stopAllSound()},t.prototype.vibrate=function(){this.isVibrateOpen()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.stopAllSound=function(){this.soundCtxPool.forEach(function(e){e.paused||e.stop()})},t.instance=new o,r([u(cc.AudioSource)],t.prototype,"audioSource",void 0),t=o=r([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/debug":"debug","../utility/game_util":"game_util","./local_storage":"local_storage"}],auth_module:[function(e,t,o){"use strict";cc._RF.push(t,"81d51fgQHdGaLonHtGxbdPp","auth_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("./auth_view"),s=e("../../../../framework/core/module_manager"),c=e("../../../../utility/Utility"),l=e("../../../../manager/local_storage"),u=e("../../../../manager/audio_manager"),p=e("../../../../manager/language_manager"),f=e("../../../server/loginserver/login_server"),h=cc._decorator,d=h.ccclass,_=h.menu,m=function(e){function t(){var t=e.call(this)||this;return t._startBtn=null,t._assets=null,t._loadCount=0,t._httpRequestCount=0,t.windowPrefabResPath="package/hall/module/auth/AuthModule",t.viewType=a.default,t.modelType=null,t}var o;return n(t,e),o=t,t.prototype.onInit=function(){u.default.instance.playMusicLoop(),null!=l.default.getNumber("loginUserID")&&"null"!=l.default.getNumber("loginUserID")?this.view.editBoxAccount.string=l.default.getNumber("loginUserID"):this.view.editBoxAccount.string=(Math.floor(900*Math.random())+100).toString()},t.prototype.changeLanguage=function(){p.default.change(),this.view.changeLanguage(),s.default.instance.destroyAllModule(),s.default.instance.showModule(o)},t.prototype.test=function(){},t.prototype.onLoginBtnClick=function(){var e=parseInt(this.view.editBoxAccount.string);e?(c.default.instance.playButtonSound(),s.default.instance.showModuleName("NetPrompt",{showImmediately:!0}),f.default.instance.accountLogin(this.view.editBoxAccount.string),l.default.setNumber("loginUserID",e)):s.default.instance.toast("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6d4b\u8bd5\u8d26\u53f7")},t.prototype.onShow=function(){this._loadCount=0,this._httpRequestCount=0,s.default.instance.preLoadRes()},r([i.bindButtonClickEvent("ButtonChangeLanguage")],t.prototype,"changeLanguage",null),r([i.bindButtonClickEvent("ButtonTest")],t.prototype,"test",null),r([i.bindButtonClickEvent("Button_Login")],t.prototype,"onLoginBtnClick",null),t=o=r([d,_("package/hall/auth/auth"),i.moduleInit("AuthModule")],t)}(i.default);o.default=m,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/module_base":"module_base","../../../../manager/audio_manager":"audio_manager","../../../../manager/language_manager":"language_manager","../../../../manager/local_storage":"local_storage","../../../../utility/Utility":"utility","../../../server/loginserver/login_server":"login_server","./auth_view":"auth_view"}],auth_view:[function(e,t,o){"use strict";cc._RF.push(t,"51d06+UA7tPKp7zIVQPb2pK","auth_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.browserLoginNode=null,t.editBoxAccount=null,t.buttonLogin=null,t}return n(t,e),t.prototype.onLoad=function(){this.browserLoginNode.active=!0},r([c(cc.Node)],t.prototype,"browserLoginNode",void 0),r([c(cc.EditBox)],t.prototype,"editBoxAccount",void 0),r([c(cc.Node)],t.prototype,"buttonLogin",void 0),t=r([s,l("package/hall/auth/authView")],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],auto_dialog_manager:[function(e,t,o){"use strict";cc._RF.push(t,"775a45k1+xA3poq06lQmM8T","auto_dialog_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./debug"),r=[];r.push("RankingMatchAward"),r.push("Activity"),r.push("DailySign"),r.push("NoobGiftBeforeModule"),r.push("PayForModule"),r.push("BeginnerGuide"),r.push("SpecialQrcode");var i=function(){function e(){}return e.openPriorityDialog=function(){var e=r.length;if(0!=e){var t=r[e-1];r.pop(),this.dealModules(t)}},e.dealModules=function(e){e&&n.default.warn("\u6253\u5f00\u6a21\u5757\uff1a",e)},e}();o.AutoDialogManager=i,cc._RF.pop()},{"./debug":"debug"}],base64:[function(require,module,exports){(function(global){"use strict";cc._RF.push(module,"3d2fdxgZzNGCots9cHyO56V","base64");var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,t){"object"===(void 0===exports?"undefined":_typeof(exports))&&void 0!==module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:void 0,function(global){global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},o=0,n=e.length;o<n;o++)t[e.charAt(o)]=o;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(o>>>18),b64chars.charAt(o>>>12&63),t>=2?"=":b64chars.charAt(o>>>6&63),t>=1?"=":b64chars.charAt(63&o)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,o=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return r.length-=[0,0,2,1][o],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],blur_shader:[function(e,t,o){"use strict";cc._RF.push(t,"c78c1Z6I1VNgKlQ7hJFxyXT","blur_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Blur",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    uniform float num;\n    varying vec2 uv0;\n    void main () {\n        vec4 sum = vec4(0.0);\n        vec2 size = vec2(num,num);\n        sum += texture2D(texture, uv0 - 0.4 * size) * 0.05;\n        sum += texture2D(texture, uv0 - 0.3 * size) * 0.09;\n        sum += texture2D(texture, uv0 - 0.2 * size) * 0.12;\n        sum += texture2D(texture, uv0 - 0.1 * size) * 0.15;\n        sum += texture2D(texture, uv0             ) * 0.16;\n        sum += texture2D(texture, uv0 + 0.1 * size) * 0.15;\n        sum += texture2D(texture, uv0 + 0.2 * size) * 0.12;\n        sum += texture2D(texture, uv0 + 0.3 * size) * 0.09;\n        sum += texture2D(texture, uv0 + 0.4 * size) * 0.05;\n        \n        vec4 vectemp = vec4(0,0,0,0);\n        vec4 substract = vec4(0,0,0,0);\n        vectemp = (sum - substract) * color;\n    \n        float alpha = texture2D(texture, uv0).a;\n        if(alpha < 0.05) { gl_FragColor = vec4(0 , 0 , 0 , 0); }\n        else { gl_FragColor = vectemp; }\n    }\n    ",t}return n(t,e),t.prototype.setParamValue=function(e){e.setNum(.03)},t=r([s,c("custom/Shader/Blur")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],center_horizont_layout:[function(e,t,o){"use strict";cc._RF.push(t,"7d0c07VCqpI/6Yu4m2iJBmD","center_horizont_layout");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../pacakge/public/const/app_data"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.layout=null,t.cellWidth=100,t.offsetX=0,t._scrollWidth=0,t}return n(t,e),t.prototype.setLength=function(e){var t=this.scrollView.node.getComponent(cc.Widget);t&&(i.default.isIphoneX?t.right=15+i.default.iphonexOffset:t.right=15)},r([c(cc.ScrollView)],t.prototype,"scrollView",void 0),r([c(cc.Layout)],t.prototype,"layout",void 0),r([c],t.prototype,"cellWidth",void 0),r([c],t.prototype,"offsetX",void 0),t=r([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../pacakge/public/const/app_data":"app_data"}],clubList_item:[function(e,t,o){"use strict";cc._RF.push(t,"f3195ZuUkVPE7DT5MihE3j/","clubList_item");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../manager/texture_manager"),a=e("../../../framework/core/module_manager"),s=e("../../club/club_module"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Sprite_flag=null,t.Sprite_head=null,t.Label_clubName=null,t.Button_enterClub=null,t.Label_offer=null,t.Label_invate=null,t.Label_totalCount=null,t.Label_onlineCount=null,t.clubListData=null,t}return n(t,e),t.prototype.onLoad=function(){this.Button_enterClub.on("click",this.enterClub,this)},t.prototype.enterClub=function(){var e=this.clubListData.clubId;a.default.instance.showModule(s.ClubModule,e)},t.prototype.initUI=function(e){var t=this;this.clubListData=e;var o=e.myMemInfo;0==o.lastId?(i.default.instance.getLocalSprite("offer_1",function(e){t.Sprite_flag.spriteFrame=e}),this.Label_offer.string="\u76df\u4e3b"):0!=o.invateCode?(i.default.instance.getLocalSprite("offer_2",function(e){t.Sprite_flag.spriteFrame=e}),this.Label_offer.string="\u5408\u4f19\u4eba"):(this.Sprite_flag.node.active=!1,this.Label_offer.string="\u6210\u5458"),i.default.instance.getSprite(e.leaderUrl,function(e){t.Sprite_head.spriteFrame=e}),0==o.invateCode?this.Label_invate.string="\u65e0":this.Label_invate.string=o.invateCode,this.Label_clubName.string=e.clubName,this.Label_totalCount.string=e.totalPlayerNum,this.Label_onlineCount.string=e.onlinePlayerNum},r([u(cc.Sprite)],t.prototype,"Sprite_flag",void 0),r([u(cc.Sprite)],t.prototype,"Sprite_head",void 0),r([u(cc.Label)],t.prototype,"Label_clubName",void 0),r([u(cc.Node)],t.prototype,"Button_enterClub",void 0),r([u(cc.Label)],t.prototype,"Label_offer",void 0),r([u(cc.Label)],t.prototype,"Label_invate",void 0),r([u(cc.Label)],t.prototype,"Label_totalCount",void 0),r([u(cc.Label)],t.prototype,"Label_onlineCount",void 0),t=r([l],t)}(cc.Component);o.ClubListItem=p,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../manager/texture_manager":"texture_manager","../../club/club_module":"club_module"}],clubMemList_model:[function(e,t,o){"use strict";cc._RF.push(t,"c2797RFHDtMko/eBlUC3YTa","clubMemList_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/model_base"),a=e("../net_clubRoute"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curPageNum=0,t.totalPageNum=0,t.pageCeilNum=25,t.clubId=0,t}return n(t,e),t.prototype.send_getClubMember=function(e,t,o,n){var r={clubId:e,pageIdx:t,pageNum:o,isOutPartner:n};this.send(a.ClubRoute.getClubMember,r)},t=r([c],t)}(i.default));o.ClubMemListModel=l,cc._RF.pop()},{"../../../framework/core/mvvm/model_base":"model_base","../net_clubRoute":"net_clubRoute"}],clubMemList_module:[function(e,t,o){"use strict";cc._RF.push(t,"3d2b6FJZaJB0b/5JOmR1PCk","clubMemList_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./clubMemList_view"),a=e("../../../framework/core/mvvm/module_base"),s=e("./clubMemList_model"),c=e("../../../framework/core/module_manager"),l=e("../../public/module/toast/toast"),u=e("../../server/hallserver/hall_server"),p=e("../net_clubRoute"),f=cc._decorator,h=f.ccclass,d=(f.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/club/clubMemList",t.viewType=i.default,t.modelType=s.ClubMemListModel,t.needAnim=!0,t.clickAnywhereClose=!1,t.needViewMask=!0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(e){this.model.netClient=u.default.instance.netClient,this.model.clearMsgEvent(),this.registerMsg(),this.model.clubId=e.clubId,this.model.curPageNum=1,this.model.send_getClubMember(this.model.clubId,this.model.curPageNum,this.model.pageCeilNum,!1)},t.prototype.registerMsg=function(){this.model.registerNetMsg(p.ClubRoute.getClubMember,this.retGetClubMember.bind(this))},t.prototype.onButtonClick=function(e,t){switch(e.name){case"Button_close":c.default.instance.destroyModule("ClubMemListModule");break;case"Button_add":c.default.instance.showModule(l.default,"\u6682\u672a\u5f00\u653e!");break;case"Button_find":c.default.instance.showModule(l.default,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237ID!");break;case"Button_leftPage":this.model.curPageNum>1&&(this.model.curPageNum=this.model.curPageNum-1,this.model.send_getClubMember(this.model.clubId,this.model.curPageNum,this.model.pageCeilNum,!1));break;case"Button_rightPage":this.model.curPageNum<this.model.totalPageNum&&(this.model.curPageNum=this.model.curPageNum+1,this.model.send_getClubMember(this.model.clubId,this.model.curPageNum,this.model.pageCeilNum,!1))}},t.prototype.retGetClubMember=function(e){if(0==e.code){var t=Math.ceil(e.totalNum/this.model.pageCeilNum);this.model.totalPageNum=t,this.view.loadMemList(e.members,this.model.curPageNum,t)}else c.default.instance.showModule(l.default,"\u83b7\u53d6\u6210\u5458\u5217\u8868\u9519\u8befcode="+e.code)},t=r([h,a.moduleInit("ClubMemListModule")],t)}(a.default));o.default=d,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../framework/core/mvvm/module_base":"module_base","../../public/module/toast/toast":"toast","../../server/hallserver/hall_server":"hall_server","../net_clubRoute":"net_clubRoute","./clubMemList_model":"clubMemList_model","./clubMemList_view":"clubMemList_view"}],clubMemList_view:[function(e,t,o){"use strict";cc._RF.push(t,"94ddcoMcWlH9Z8ZYMwnMED7","clubMemList_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/view_base"),a=e("../../../manager/texture_manager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EditBox_id=null,t.Label_pageIdx=null,t.Sprite_memNode=null,t.Button_item=null,t}return n(t,e),t.prototype.onShow=function(){},t.prototype.onLoad=function(){},t.prototype.loadMemList=function(e,t,o){this.Label_pageIdx.string=t+"/"+o,this.Sprite_memNode.node.removeAllChildren();for(var n=function(t){var o=e[t],n=cc.instantiate(r.Button_item);n.active=!0,n.parent=r.Sprite_memNode.node;var i=(t+1)%5;0==i&&(i=5);var s=Math.ceil((t+1)/5);n.x=250*(i-1)-501,n.y=-58-98*(s-1);var c=n.getChildByName("Sprite_head").getComponent(cc.Sprite),l=n.getChildByName("Label_name").getComponent(cc.Label),u=n.getChildByName("Label_state").getComponent(cc.Label);a.default.instance.getSprite(o.avatarUrl,function(e){c.spriteFrame=e}),l.string=o.name,0==o.lastOfflineTime?(u.string="\u5728\u7ebf",u.node.color=cc.color(33,197,40,255)):(u.string="\u79bb\u7ebf",u.node.color=cc.color(170,170,170,255))},r=this,i=0;i<e.length;i++)n(i)},r([l(cc.EditBox)],t.prototype,"EditBox_id",void 0),r([l(cc.Label)],t.prototype,"Label_pageIdx",void 0),r([l(cc.Sprite)],t.prototype,"Sprite_memNode",void 0),r([l(cc.Node)],t.prototype,"Button_item",void 0),t=r([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../framework/core/mvvm/view_base":"view_base","../../../manager/texture_manager":"texture_manager"}],clubRank_model:[function(e,t,o){"use strict";cc._RF.push(t,"32d07kxfHdNJK+o02MCZKqr","clubRank_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/model_base"),a=e("../net_clubRoute"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curPageNum=1,t.pageCeilNum=6,t.totalPageNum=0,t}return n(t,e),t.prototype.send_getRankList=function(e,t,o){var n={rankType:e,pageIdx:t,pageNum:o};this.send(a.ClubRoute.getRankList,n)},t=r([c],t)}(i.default));o.ClubRankModel=l,cc._RF.pop()},{"../../../framework/core/mvvm/model_base":"model_base","../net_clubRoute":"net_clubRoute"}],clubRank_module:[function(e,t,o){"use strict";cc._RF.push(t,"5d0451DYWNHfKjM8fQ1c5p6","clubRank_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/module_base"),a=e("../../../framework/core/module_manager"),s=e("../../public/module/toast/toast"),c=e("../../server/hallserver/hall_server"),l=e("../net_clubRoute"),u=e("./clubRank_view"),p=e("./clubRank_model"),f=cc._decorator,h=f.ccclass,d=(f.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/club/clubRank",t.viewType=u.default,t.modelType=p.ClubRankModel,t.needAnim=!0,t.clickAnywhereClose=!1,t.needViewMask=!0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(){this.model.netClient=c.default.instance.netClient,this.model.clearMsgEvent(),this.registerMsg(),this.model.curPageNum=1,this.model.send_getRankList(0,this.model.curPageNum,this.model.pageCeilNum)},t.prototype.registerMsg=function(){this.model.registerNetMsg(l.ClubRoute.getRankList,this.retGetRankList.bind(this))},t.prototype.retGetRankList=function(e){if(0==e.code){var t=Math.ceil(e.totalNum/this.model.pageCeilNum);this.model.totalPageNum=t,this.view.loadRankList(e.list,this.model.curPageNum,this.model.pageCeilNum,e.myRank)}else a.default.instance.showModule(s.default,"\u83b7\u53d6\u6392\u884c\u699c\u9519\u8befcode="+e.code)},t.prototype.onButtonClick=function(e,t){switch(e.name){case"Button_close":a.default.instance.destroyModule("ClubRankModule");break;case"Button_leftPage":this.model.curPageNum>1&&(this.model.curPageNum=this.model.curPageNum-1,this.model.send_getRankList(0,this.model.curPageNum,this.model.pageCeilNum));break;case"Button_rightPage":this.model.curPageNum<this.model.totalPageNum&&(this.model.curPageNum=this.model.curPageNum+1,this.model.send_getRankList(0,this.model.curPageNum,this.model.pageCeilNum))}},t=r([h,i.moduleInit("ClubRankModule")],t)}(i.default));o.default=d,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../framework/core/mvvm/module_base":"module_base","../../public/module/toast/toast":"toast","../../server/hallserver/hall_server":"hall_server","../net_clubRoute":"net_clubRoute","./clubRank_model":"clubRank_model","./clubRank_view":"clubRank_view"}],clubRank_view:[function(e,t,o){"use strict";cc._RF.push(t,"32f75H5tTdIMZQmvnKbOAEa","clubRank_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/view_base"),a=e("../../../manager/texture_manager"),s=e("../../../manager/user_manager"),c=e("../../../utility/Utility"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Label_rank=null,t.Sprite_head=null,t.Label_name=null,t.Label_coins=null,t.Label_pageIdx=null,t.Sprite_rankNode=null,t.Sprite_item=null,t}return n(t,e),t.prototype.onShow=function(){var e=this,t=s.default.instance.getUserData();this.Label_name.string=t.name,this.Label_coins.string=c.default.instance.formateNumb(t.coin).toString(),a.default.instance.getSprite(t.avatarUrl,function(t){e.Sprite_head.spriteFrame=t})},t.prototype.loadRankList=function(e,t,o,n){this.Label_rank.string=0==n?"\u699c\u5916":n.toString(),this.Label_pageIdx.string=t.toString(),this.Sprite_rankNode.node.removeAllChildren();for(var r=function(n){var r=e[n],s=cc.instantiate(i.Sprite_item);s.active=!0,s.parent=i.Sprite_rankNode.node,s.x=0,s.y=-50-82*n;var l=s.getChildByName("Sprite_front").getComponent(cc.Sprite),u=s.getChildByName("Label_before").getComponent(cc.Label),p=s.getChildByName("Sprite_head").getComponent(cc.Sprite),f=s.getChildByName("Label_name").getComponent(cc.Label),h=cc.find("Sprite_coinIcon/Label_coins",s).getComponent(cc.Label);a.default.instance.getSprite(r.avatarUrl,function(e){p.spriteFrame=e}),f.string=r.name,h.string=c.default.instance.formateNumb(r.coin).toString();var d=n+1+(t-1)*o;d<4?(l.node.active=!0,u.node.active=!1,a.default.instance.getLocalSprite("club_rank{0}.png".format(d),function(e){l.spriteFrame=e})):(l.node.active=!1,u.node.active=!0,u.string=d.toString())},i=this,s=0;s<e.length;s++)r(s)},r([p(cc.Label)],t.prototype,"Label_rank",void 0),r([p(cc.Sprite)],t.prototype,"Sprite_head",void 0),r([p(cc.Label)],t.prototype,"Label_name",void 0),r([p(cc.Label)],t.prototype,"Label_coins",void 0),r([p(cc.Label)],t.prototype,"Label_pageIdx",void 0),r([p(cc.Sprite)],t.prototype,"Sprite_rankNode",void 0),r([p(cc.Node)],t.prototype,"Sprite_item",void 0),t=r([u],t)}(i.default);o.default=f,cc._RF.pop()},{"../../../framework/core/mvvm/view_base":"view_base","../../../manager/texture_manager":"texture_manager","../../../manager/user_manager":"user_manager","../../../utility/Utility":"utility"}],club_data:[function(e,t,o){"use strict";cc._RF.push(t,"6296e8dguVH7bh9GtGgd2px","club_data"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){function t(t){return t.tbType==e.TableType.GameTable?t.gameInfo.chairCount>t.gameInfo.players.length?-1:999:0}(function(e){e[e.PWTable=0]="PWTable",e[e.GameTable=1]="GameTable"})(e.TableType||(e.TableType={})),e.rank=function(e){e.sort(function(e,o){return t(e)-t(o)})}}(o.Club||(o.Club={})),cc._RF.pop()},{}],club_model:[function(e,t,o){"use strict";cc._RF.push(t,"ae68fQklP5GPpS8z64klx0N","club_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./net_clubRoute"),a=e("../../framework/core/mvvm/model_base"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectClub=null,t.playWays=[],t}return n(t,e),t.prototype.send_enterClub=function(e){var t={clubId:e};this.send(i.ClubRoute.enterClub,t)},t.prototype.send_setClubPlayway=function(e){this.send(i.ClubRoute.setClubPlayway,e)},t.prototype.send_getClubTable=function(e,t,o,n){var r={clubId:e,gameMode:t||0,gameId:o||0,playwayId:n||"0"};this.send(i.ClubRoute.getClubTable,r)},t.prototype.send_getClubPlayway=function(e,t,o,n){var r={clubId:e,gameMode:t||0,gameId:o||0,playwayId:n||"0"};this.send(i.ClubRoute.getClubPlayway,r)},t.prototype.reset=function(){},t=r([c],t)}(a.default));o.ClubModel=l,cc._RF.pop()},{"../../framework/core/mvvm/model_base":"model_base","./net_clubRoute":"net_clubRoute"}],club_module:[function(e,t,o){"use strict";cc._RF.push(t,"2d741++vGpL0o+CMKqwabI7","club_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/module_base"),a=e("./club_view"),s=e("../server/hallserver/hall_server"),c=e("./net_clubRoute"),l=e("../../framework/core/module_manager"),u=e("../../manager/local_storage"),p=e("../public/module/toast/toast"),f=e("../../manager/event_manager"),h=e("./club_data"),d=e("./club_model"),_=e("../hall/hall_module"),m=e("./mem/clubMemList_module"),y=e("./rank/clubRank_module"),v=cc._decorator,g=v.ccclass,b=(v.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/club/club",t.viewType=a.ClubView,t.modelType=d.ClubModel,t}return n(t,e),t.prototype.onShow=function(e){this.model.netClient=s.default.instance.netClient,this.model.clearMsgEvent(),this.view.clickToggleFunc=this.clickToggleFunc.bind(this),this.registerMsg();var t=u.default.getNumber("_select_club_id");e||t?(e=e||t,this.model.send_enterClub(e)):l.default.instance.showModule(_.default,null,function(){l.default.instance.destroyModule("ClubModule")})},t.prototype.registerMsg=function(){this.model.registerNetMsg(c.ClubRoute.enterClub,this.retRefreshCLub.bind(this)),this.model.registerNetMsg(c.ClubRoute.getClubPlayway,this.retGetClubPlayway.bind(this)),this.model.registerNetMsg(c.ClubRoute.getClubTable,this.retGetClubTable.bind(this)),this.model.registerNetMsg(c.ClubRoute.onRefreshClubTable,this.retRefreshClubTable.bind(this)),this.model.registerNetMsg(c.ClubRoute.onRemoveClubTable,this.onRemoveClubTable.bind(this))},t.prototype.onButtonClick=function(e,t){switch(e.name){case"Button_close":l.default.instance.showModule(_.default,null,function(){l.default.instance.destroyModule("ClubModule")});break;case"Button_mode":0==u.default.getNumber("_club_gameMode",0)?(u.default.setNumber("_club_gameMode",1),this.view.enterClubAction(1)):(u.default.setNumber("_club_gameMode",0),this.view.enterClubAction(0)),u.default.setNumber("_club_gameId",0),this.enterClubAllTable();break;case"Button_memList":l.default.instance.showModule(m.default,this.model.selectClub);break;case"Button_rank":l.default.instance.showModule(y.default)}},t.prototype.clickToggleFunc=function(e){"alltoggle<Toggle>"==e.name?(u.default.setNumber("_club_gameId",0),this.enterClubAllTable()):"pdk<Toggle>"==e.name&&(u.default.setNumber("_club_gameId",15),this.enterClubSingleGame())},t.prototype.updateSelectClub=function(e){u.default.setNumber("_select_club_id",e.clubInfo.clubId),this.model.selectClub=e.clubInfo,this.view.updateClubInfo(e.clubInfo);var t={content:"<color=#00ffff>{0}</color>".format(e.clubInfo.announcement),tag:"",showCount:1e3};f.default.instance.dispatch("Event_Notify_Data",t),0==u.default.getNumber("_club_gameId",0)?this.enterClubAllTable():this.enterClubSingleGame();var o=u.default.getNumber("_club_gameMode",0);this.view.enterClubAction(o)},t.prototype.enterClubAllTable=function(){var e=u.default.getNumber("_club_gameMode",0);this.view.clearTableList(),this.view.mTables=[],this.model.playWays=[],this.model.send_getClubTable(this.model.selectClub.clubId,e,0,"0")},t.prototype.enterClubSingleGame=function(){var e=u.default.getNumber("_select_club_id"),t=u.default.getNumber("_club_gameMode",0),o=u.default.getNumber("_club_gameId",0),n=u.default.getString("_club_playwayId","0");this.view.clearTableList(),this.view.mTables=[],this.model.playWays=[],this.model.send_getClubPlayway(e,t,o,n)},t.prototype.retRefreshCLub=function(e){0==e.code?this.updateSelectClub(e):l.default.instance.showModule(p.default,"\u5f02\u5e38\u9519\u8befcode="+e.code)},t.prototype.retGetClubPlayway=function(e){if(0==e.code){var t=e.playways.length;if(t<=0)l.default.instance.showModule(p.default,"\u5f53\u524d\u5927\u5385\u6682\u672a\u8bbe\u7f6e\u73a9\u6cd5.");else{for(var o=[],n=0;n<t;n++){var r={playWay:e.playways[n],tbType:h.Club.TableType.PWTable,tableid:e.playways[n].id};o.push(r)}this.model.playWays=this.model.playWays.concat(o),this.view.appendTable(o,!0);var i=u.default.getNumber("_club_gameMode",0),a=u.default.getNumber("_club_gameId",0),s=u.default.getString("_club_playwayId","0");this.model.send_getClubTable(this.model.selectClub.clubId,i,a,s)}}else l.default.instance.showModule(p.default,"\u83b7\u53d6\u4ff1\u4e50\u90e8\u73a9\u6cd5\u5931\u8d25.")},t.prototype.retGetClubTable=function(e){if(0==e.code){for(var t=[],o=0;o<e.tableInfos.length;o++){var n=e.tableInfos[o],r={gameInfo:n,tableid:n.tableId,tbType:h.Club.TableType.GameTable};t.push(r)}this.view.appendTable(t,!0)}else l.default.instance.showModule(p.default,"\u83b7\u53d6\u4ff1\u4e50\u90e8\u684c\u5b50\u5931\u8d25.")},t.prototype.onRemoveClubTable=function(e){this.view.removeTableItem(e.tableId),cc.log("----------\x3e>>>onremove",e)},t.prototype.retRefreshClubTable=function(e){var t=u.default.getNumber("_club_gameMode",0);if(e.gameMode==t){var o={tbType:h.Club.TableType.GameTable,gameInfo:e,tableid:e.tableId};this.view.appendTable([o],!1)}},t=r([g,i.moduleInit("ClubModule")],t)}(i.default));o.ClubModule=b,cc._RF.pop()},{"../../framework/core/module_manager":"module_manager","../../framework/core/mvvm/module_base":"module_base","../../manager/event_manager":"event_manager","../../manager/local_storage":"local_storage","../hall/hall_module":"hall_module","../public/module/toast/toast":"toast","../server/hallserver/hall_server":"hall_server","./club_data":"club_data","./club_model":"club_model","./club_view":"club_view","./mem/clubMemList_module":"clubMemList_module","./net_clubRoute":"net_clubRoute","./rank/clubRank_module":"clubRank_module"}],club_view:[function(e,t,o){"use strict";cc._RF.push(t,"bf3cd6WSgZBJZhvZ4G5HyOK","club_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/view_base"),a=e("../../framework/tools/scrollview/listview"),s=e("../../manager/scene_manager"),c=e("../../manager/local_storage"),l=e("./component_table"),u=e("../server/hallserver/hall_server"),p=e("./club_data"),f=e("../../manager/texture_manager"),h=e("../../manager/user_manager"),d=e("../../utility/Utility"),_=e("../../framework/core/module_manager"),m=e("../public/module/toast/toast"),y=cc._decorator,v=y.ccclass,g=y.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollview=null,t.view=null,t.content=null,t.prefab=null,t.m_tablelist=null,t.clubName=null,t.mTables=[],t.Sprite_leftFrame=null,t.Node_top=null,t.Sprite_modeIcon=null,t.Node_tips=null,t.Sprite_scolle=null,t.Toggle_all=null,t.Toggle_pdk=null,t.clickClubFunc=null,t.clickToggleFunc=null,t}return n(t,e),t.prototype.onShow=function(){0==c.default.getNumber("_club_gameId",0)?this.Toggle_all.isChecked=!0:this.Toggle_pdk.isChecked=!0,this.Node_top.active=!1,this.Node_top.y=80,this.Sprite_leftFrame.active=!1,this.Sprite_leftFrame.x=-767},t.prototype.onLoad=function(){var e=new a.ListView({scrollview:this.scrollview,view:this.view,content:this.content,item_prefab:this.prefab,cb_host:this,item_update_func:this.update_table_list_item,row:2,gap_x:18,direction:a.ListViewDir.Horizontal});this.m_tablelist=e,this.Toggle_all.node.on("toggle",this.toggleCB,this),this.Toggle_pdk.node.on("toggle",this.toggleCB,this)},t.prototype.setClickClubFunc=function(e){this.clickClubFunc=e},t.prototype.toggleCB=function(e){this.clickToggleFunc&&this.clickToggleFunc(e)},t.prototype.removeTable=function(e){for(var t=0;t<e.length;t++)for(var o=e[t],n=0;n<this.m_tablelist.datas.length;n++){if(this.m_tablelist.datas[n].tableid==o.tableid){this.m_tablelist.remove_data(n,1),this.mTables=this.mTables.splice(n,1);break}}},t.prototype.appendTable=function(e,t){if(e&&!(e.length<=0)){for(var o=[],n=0;n<e.length;n++){for(var r=e[n],i=!0,a=0;a<this.mTables.length;a++){var s=this.mTables[a];if(r.tableid==s.tableid){this.mTables[a]=r,i=!1;break}}i&&(cc.log("-----\x3e>>>>>\u65b0\u589e",r),o.push(r))}if(o.length>0){this.mTables=this.mTables.concat(e);for(a=0;a<o.length;a++)this.m_tablelist.append_data(o[a])}t&&p.Club.rank(this.mTables),this.refreshTableItem()}},t.prototype.refreshTableItem=function(){for(var e=0;e<this.m_tablelist.datas.length;e++){var t=this.mTables[e];this.m_tablelist.refresh_item(e,t)}},t.prototype.removeTableItem=function(e){for(var t=0;t<this.m_tablelist.datas.length;t++){this.mTables[t].tableid==e&&(this.m_tablelist.remove_data(t,1),this.mTables.splice(t,1))}},t.prototype.updateClubInfo=function(e){this.clubName.string=e.clubName;var t=cc.find("Sprite_topFrame/Sprite_coinFrame",this.Node_top).getChildByName("Label_coin").getComponent(cc.Label),o=h.default.instance.getUserData();t.string=d.default.instance.formateNumb(o.coin).toString()},t.prototype.enterClubAction=function(e){var t=this;if(0==e?f.default.instance.getLocalSprite("club_111",function(e){t.Sprite_modeIcon.spriteFrame=e}):f.default.instance.getLocalSprite("club_118",function(e){t.Sprite_modeIcon.spriteFrame=e}),0==e){var o=cc.find("Sprite_topFrame/Sprite_scoreFrame",this.Node_top),n=cc.find("Sprite_topFrame/Sprite_coinFrame",this.Node_top);o.active=!1,n.active=!0;for(var r=(l=this.node.getChildByName("Sprite_butomFrame").getChildByName("Node_vector")).children,i=0;i<r.length;i++){r[i].active=!1}this.Node_tips.active=!1;var a=l.getChildByName("Button_rank"),s=l.getChildByName("Button_personCard"),c=l.getChildByName("Button_partner");a.active=!0,s.active=!0,c.active=!0,c.x=346}else{o=cc.find("Sprite_topFrame/Sprite_scoreFrame",this.Node_top),n=cc.find("Sprite_topFrame/Sprite_coinFrame",this.Node_top);o.active=!0,n.active=!1;var l;for(r=(l=this.node.getChildByName("Sprite_butomFrame").getChildByName("Node_vector")).children,i=0;i<r.length;i++){r[i].active=!0}this.Node_tips.active=!0,(a=l.getChildByName("Button_rank")).active=!1,(c=l.getChildByName("Button_partner")).x=116}this.Node_top.active=!0,this.Node_top.stopAllActions(),this.Node_top.y=80,this.Node_top.runAction(cc.moveTo(.3,this.Node_top.x,0)),this.Sprite_leftFrame.active=!0,this.Sprite_leftFrame.stopAllActions(),this.Sprite_leftFrame.x=-767,this.Sprite_leftFrame.runAction(cc.moveTo(.3,-667,this.Sprite_leftFrame.y))},t.prototype.clearTableList=function(){this.m_tablelist.set_data([])},t.prototype.update_table_list_item=function(e,t,o,n){if(t){var r=e.getComponent(l.TableInfo);r.clickFunc=this.clickTableItem.bind(this),r.setData(t,o)}},t.prototype.checkIsCanMoney=function(e){var t=!1;if(0==e.gameMode){var o=h.default.instance.getUserData().coin,n=e.lowerLimit,r=e.upperLimit;0==r?o>=n&&(t=!0):o>=n&&o<=r&&(t=!0)}return t},t.prototype.clickTableItem=function(e){if(cc.log("data",e),s.default.lastEntranceOpenModuleName="ClubModule",e.tbType==p.Club.TableType.PWTable){if(!this.checkIsCanMoney(e.playWay))return void _.default.instance.showModule(m.default,"\u60a8\u91d1\u5e01\u4e0d\u8db3, \u5f53\u524d\u684c\u5b50\u9650\u5236{0}.".format(e.playWay.lowerLimit));var t=e.playWay;u.default.instance.createGame(t.gameId,t.clubId,t.id.toString())}else if(e.tbType==p.Club.TableType.GameTable){if(e.gameInfo.players.length>=e.gameInfo.chairCount)return void _.default.instance.showModule(m.default,"\u5f53\u524d\u684c\u5b50\u4eba\u6570\u5df2\u6ee1.");if(!this.checkIsCanMoney(e.gameInfo))return void _.default.instance.showModule(m.default,"\u60a8\u91d1\u5e01\u4e0d\u8db3, \u5f53\u524d\u684c\u5b50\u9650\u5236{0}.".format(e.gameInfo.lowerLimit));var o=e.gameInfo;u.default.instance.enterGame(o)}},t.prototype.onDisable=function(){},t.prototype.on_destroy=function(){},r([g(cc.ScrollView)],t.prototype,"scrollview",void 0),r([g(cc.Node)],t.prototype,"view",void 0),r([g(cc.Node)],t.prototype,"content",void 0),r([g(cc.Node)],t.prototype,"prefab",void 0),r([g(cc.Label)],t.prototype,"clubName",void 0),r([g(cc.Node)],t.prototype,"Sprite_leftFrame",void 0),r([g(cc.Node)],t.prototype,"Node_top",void 0),r([g(cc.Sprite)],t.prototype,"Sprite_modeIcon",void 0),r([g(cc.Node)],t.prototype,"Node_tips",void 0),r([g(cc.Sprite)],t.prototype,"Sprite_scolle",void 0),r([g(cc.Toggle)],t.prototype,"Toggle_all",void 0),r([g(cc.Toggle)],t.prototype,"Toggle_pdk",void 0),t=r([v],t)}(i.default);o.ClubView=b,cc._RF.pop()},{"../../framework/core/module_manager":"module_manager","../../framework/core/mvvm/view_base":"view_base","../../framework/tools/scrollview/listview":"listview","../../manager/local_storage":"local_storage","../../manager/scene_manager":"scene_manager","../../manager/texture_manager":"texture_manager","../../manager/user_manager":"user_manager","../../utility/Utility":"utility","../public/module/toast/toast":"toast","../server/hallserver/hall_server":"hall_server","./club_data":"club_data","./component_table":"component_table"}],component_club:[function(e,t,o){"use strict";cc._RF.push(t,"84395DVG41H15xIada5Rx+/","component_club");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../manager/texture_manager"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatar=null,t.clubName=null,t.member=null,t.clickBtn=null,t.clubData=null,t.clubInfCall=null,t}return n(t,e),t.prototype.onLoad=function(){this.clickBtn.on("click",this.clickItem,this)},t.prototype.clickItem=function(){this.clubData&&(cc.log("-----------\x3e>>>\u9009\u62e9\u4ff1\u4e50\u90e8"),this.clubInfCall&&this.clubInfCall(this.clubData,this))},t.prototype.setClubName=function(e){this.clubName.string=e},t.prototype.setBgOpacity=function(e){this.clickBtn.opacity=e},t.prototype.setAvatar=function(e){var t=this;i.default.instance.getSprite(e,function(e){t.node&&!t.node.isValid&&(t.avatar.spriteFrame=e)})},r([c(cc.Sprite)],t.prototype,"avatar",void 0),r([c(cc.Label)],t.prototype,"clubName",void 0),r([c(cc.Label)],t.prototype,"member",void 0),r([c(cc.Node)],t.prototype,"clickBtn",void 0),t=r([s],t)}(cc.Component);o.ClubInfo=l,cc._RF.pop()},{"../../manager/texture_manager":"texture_manager"}],component_marquee:[function(e,t,o){"use strict";cc._RF.push(t,"8213dU4cZhCUZ+YAN6B4wei","component_marquee");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=e("../../manager/event_manager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.labelPrefab=null,t.mask=null,t.offset=0,t.startOffset=0,t.endOffset=0,t.speed=100,t.tag="",t.m_availableLabelQueue=[],t.m_playingLabelQueue=[],t.m_isEmpty=!1,t.m_max_count=10,t.m_index=0,t.m_message_queue=[],t.m_playing_queue=[],t}return n(t,e),t.prototype.onload=function(){},t.prototype.start=function(){this.m_isEmpty=!0,this.bindEvent()},t.prototype.reset=function(){for(var e=0;e<this.m_playingLabelQueue.length;e++){var t=this.m_playingLabelQueue[e];t.node.active=!1,this.m_availableLabelQueue.push(t)}this.m_playingLabelQueue=[]},t.prototype.showMarquee=function(e){this.root.active=e},t.prototype.play=function(e){var t=this;t.m_playing_queue.push(e),t.showMarquee(!0);var o=e.content,n=e;t.playMessage(o,t.on_next_play.bind(t),function(){if(t&&t.root.active){t.m_playing_queue.shift();n.content;n.showCount>1&&(n.showCount--,t.play(n)),0==t.m_playing_queue.length&&t.showMarquee(!1)}})},t.prototype.on_next_play=function(){if(this&&this.root.active){var e=this.m_message_queue.shift();e?(this.play(e),this.m_isEmpty=!1):this.m_isEmpty=!0}},t.prototype.playMessage=function(e,t,o){var n=this,r=n.mask.node.width,i=n.getAvailableLabel();i.string=e;var a=.5*r+n.startOffset;i.node.position=cc.v2(a,i.node.position.y),i.node.active=!0,this.scheduleOnce(function(){var e=n.calcLabelWidth(i),s=e+r+n.startOffset-n.endOffset,c=e+n.offset,l=n.calcDuration(c),u=n.calcDuration(s-c),p=a-c,f=-s+a,h=cc.callFunc(function(){t&&t()}.bind(n)),d=cc.callFunc(function(){i.node.active=!1,n.addToAvailableLabel(i),o&&o()}.bind(n)),_=cc.moveTo(l,p,0),m=cc.moveTo(u,f,0),y=cc.sequence([_,h,m,d]);i.node.runAction(y)})},t.prototype.messageFilter=function(e){return e.tag==this.tag},t.prototype.getAvailableLabel=function(){var e=this.m_availableLabelQueue.shift();return e||(e=this.cloneLabel()),e},t.prototype.cloneLabel=function(){var e=cc.instantiate(this.labelPrefab.node);return e.parent=this.labelPrefab.node.parent,e.position=this.labelPrefab.node.position,e.scale=this.labelPrefab.node.scale,e.getComponent(cc.RichText)},t.prototype.addToAvailableLabel=function(e){this.m_availableLabelQueue.push(e)},t.prototype.calcLabelWidth=function(e){return e.node.width},t.prototype.calcDuration=function(e){return e/this.speed},t.prototype.on_msg_coming=function(e){this.m_isEmpty?(this.m_isEmpty=!1,cc.log("paly__msg"),this.play(e)):(this.m_index++,e._index=this.m_index,cc.log("push__msg"),this.m_message_queue.push(e),this.sortQueue(),this.cutQueue())},t.prototype.cutQueue=function(){this.m_message_queue.length>this.m_max_count&&this.m_message_queue.splice(this.m_max_count,this.m_message_queue.length-this.m_max_count)},t.prototype.sortQueue=function(){this.m_message_queue.sort(function(e,t){return e.level==t.level?e._index-t._index:e.level-t.level})},t.prototype.bindEvent=function(){c.default.instance.on("Event_Notify_Data",this.on_msg_coming,this,!0)},t.prototype.unbindEvent=function(){c.default.instance.off("Event_Notify_Data",this.on_msg_coming,this)},t.prototype.onDisable=function(){this.unbindEvent()},t.prototype.onDestroy=function(){this.unbindEvent()},r([s(cc.Node)],t.prototype,"root",void 0),r([s(cc.RichText)],t.prototype,"labelPrefab",void 0),r([s(cc.Mask)],t.prototype,"mask",void 0),r([s(cc.Float)],t.prototype,"offset",void 0),r([s(cc.Float)],t.prototype,"startOffset",void 0),r([s(cc.Float)],t.prototype,"endOffset",void 0),r([s(cc.Float)],t.prototype,"speed",void 0),r([s(cc.String)],t.prototype,"tag",void 0),t=r([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../manager/event_manager":"event_manager"}],component_table:[function(e,t,o){"use strict";cc._RF.push(t,"11af1lxn05K0oAQ97fntOm8","component_table");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../manager/texture_manager"),a=e("../public/ui/custom_ui_state_switcher"),s=e("./club_data"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seatStyle=null,t.seatNode=[],t.avatar=[],t.playWayName=null,t.spriteJuShu=null,t.lab_JuShu=null,t.tableData=null,t.clickBtn=null,t.clickFunc=null,t}return n(t,e),t.prototype.onLoad=function(){this.clickBtn.on("click",this.clickItem,this)},t.prototype.clickItem=function(){cc.log("-----------\x3e>>>item",this.node.name),this.tableData&&(cc.log("-----------\x3e>>>\u8fdb\u5165\u6e38\u620f\u4e86"),this.clickFunc&&this.clickFunc(this.tableData))},t.prototype.setData=function(e,t){this.tableData=e,e.tbType==s.Club.TableType.GameTable?(this.setPlayWayName(e.gameInfo.playwayName),this.setStyle(e.gameInfo.players.length),this.updatePlayerAvatar(e),this.setPlayCount(e.gameInfo.gameCount,e.gameInfo.currentCount)):e.tbType==s.Club.TableType.PWTable&&(this.setStyle(5),this.setPlayWayName(e.playWay.playwayName),this.setPlayCount(0,0))},t.prototype.setPlayCount=function(e,t){this.spriteJuShu.active=t>0,t>0&&(this.lab_JuShu.string="{0} {1}/{2}".format("\u5df2\u5f00\u5c40",t,e))},t.prototype.setPlayWayName=function(e){this.playWayName.string=e},t.prototype.updatePlayerAvatar=function(e){for(var t=[],o=0;o<this.avatar.length;o++){var n=this.avatar[o];if(n.active){var r=n.getChildByName("SpriteAvatar");t.push(r.getComponent(cc.Sprite))}}for(var i=0;i<e.gameInfo.players.length;i++){var a=e.gameInfo.players[i],s=t[i];s&&this.setAvatar(a.avatarUrl,s)}},t.prototype.setAvatar=function(e,t){var o=this;i.default.instance.getSprite(e,function(e){o.node&&o.node.isValid&&(t.spriteFrame=e)})},t.prototype.setStyle=function(e){var t="two";switch(e){case 1:t="one";break;case 2:t="two";break;case 3:t="three";break;case 4:t="four";break;case 5:t="none"}this.seatStyle.SwitchState(t)},r([u(a.default)],t.prototype,"seatStyle",void 0),r([u([cc.Node])],t.prototype,"seatNode",void 0),r([u([cc.Node])],t.prototype,"avatar",void 0),r([u(cc.Label)],t.prototype,"playWayName",void 0),r([u(cc.Node)],t.prototype,"spriteJuShu",void 0),r([u(cc.Label)],t.prototype,"lab_JuShu",void 0),r([u(cc.Node)],t.prototype,"clickBtn",void 0),t=r([l],t)}(cc.Component);o.TableInfo=p,cc._RF.pop()},{"../../manager/texture_manager":"texture_manager","../public/ui/custom_ui_state_switcher":"custom_ui_state_switcher","./club_data":"club_data"}],const_code:[function(e,t,o){"use strict";cc._RF.push(t,"71cfde+/nNFhbFL2moNu7Xk","const_code"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){(function(e){e[e.OK=0]="OK"})(e.ClubCode||(e.ClubCode={})),function(e){e[e.GAME_FREE=0]="GAME_FREE",e[e.GAME_PLAYING=1]="GAME_PLAYING"}(e.GameStatus||(e.GameStatus={})),function(e){e[e.OK=0]="OK",e[e.GAME_SERVER_NO_OPEN=1]="GAME_SERVER_NO_OPEN",e[e.GAME_SERVER_NO_EXIST=2]="GAME_SERVER_NO_EXIST"}(e.ServerAdrCode||(e.ServerAdrCode={})),function(e){e[e.OK=0]="OK",e[e.NO_EXIST_ROOM=1]="NO_EXIST_ROOM",e[e.FULL_PLAYER_ROOM=2]="FULL_PLAYER_ROOM",e[e.GAME_MAINTAIN=3]="GAME_MAINTAIN",e[e.GAME_RELAY=4]="GAME_RELAY",e[e.OTHER_FAIL=5]="OTHER_FAIL"}(e.EnterTableCode||(e.EnterTableCode={}))}(o.ServerCode||(o.ServerCode={})),cc._RF.pop()},{}],countUp:[function(e,t,o){"use strict";cc._RF.push(t,"22042FnFpdNGqvZ0J0O0wm9","countUp");var n=function(){return(n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(e,t,o){var r=this;this.target=e,this.endVal=t,this.options=o,this.version="2.0.3",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(e){r.startTime||(r.startTime=e);var t=e-r.startTime;r.remaining=r.duration-t,r.useEasing?r.countDown?r.frameVal=r.startVal-r.easingFn(t,0,r.startVal-r.endVal,r.duration):r.frameVal=r.easingFn(t,r.startVal,r.endVal-r.startVal,r.duration):r.countDown?r.frameVal=r.startVal-(r.startVal-r.endVal)*(t/r.duration):r.frameVal=r.startVal+(r.endVal-r.startVal)*(t/r.duration),r.countDown?r.frameVal=r.frameVal<r.endVal?r.endVal:r.frameVal:r.frameVal=r.frameVal>r.endVal?r.endVal:r.frameVal,r.frameVal=Math.round(r.frameVal*r.decimalMult)/r.decimalMult,r.printValue(r.frameVal),t<r.duration?r.rAF=requestAnimationFrame(r.count):null!==r.finalEndVal?r.update(r.finalEndVal):r.callback&&r.callback()},this.formatNumber=function(e){var t,o,n,i,a,s=e<0?"-":"";if(t=Math.abs(e).toFixed(r.options.decimalPlaces),n=(o=(t+="").split("."))[0],i=o.length>1?r.options.decimal+o[1]:"",r.options.useGrouping){a="";for(var c=0,l=n.length;c<l;++c)0!==c&&c%3==0&&(a=r.options.separator+a),a=n[l-c-1]+a;n=a}return r.options.numerals&&r.options.numerals.length&&(n=n.replace(/[0-9]/g,function(e){return r.options.numerals[+e]}),i=i.replace(/[0-9]/g,function(e){return r.options.numerals[+e]})),s+r.options.prefix+n+i+r.options.suffix},this.easeOutExpo=function(e,t,o,n){return o*(1-Math.pow(2,-10*e/n))*1024/1023+t},this.options=n({},this.defaults,o),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el=e,this.printValue(this.startVal)}return e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold){this.finalEndVal=e;var o=this.countDown?1:-1;this.endVal=e+o*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e,t){this.error||(this.callback=t,this.updateCallback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t=this.formattingFn(e);this.updateCallback&&this.updateCallback(t),this.el&&this.el.isValid&&(this.el.string=t)},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: "+e,null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();o.CountUp=r,cc._RF.pop()},{}],createroom_model:[function(e,t,o){"use strict";cc._RF.push(t,"64b60z65AxLV4XbIEUl3c0f","createroom_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/model_base"),a=cc._decorator,s=a.ccclass,c=(a.property,a.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t=r([s],t)}(i.default));o.CreateRoomModel=c,cc._RF.pop()},{"../../../../framework/core/mvvm/model_base":"model_base"}],createroom_module:[function(e,t,o){"use strict";cc._RF.push(t,"10c59Jj5/1GCapOU0sa3KQN","createroom_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("../../../../framework/core/module_manager"),s=e("./createroom_model"),c=e("./createroom_view"),l=e("../../../pdk/module/room_config"),u=e("./data/rule_factory"),p=cc._decorator,f=p.ccclass,h=(p.menu,function(e){function t(){var t=e.call(this)||this;return t.lineHeight=1,t.windowPrefabResPath="package/public/public_createroom",t.viewType=c.CreateRoomView,t.modelType=s.CreateRoomModel,t.needAnim=!0,t.clickAnywhereClose=!1,t.needViewMask=!0,t}return n(t,e),t.prototype.onButtonClick=function(e,t){switch(e.name){case"closeview":a.default.instance.destroyModule("CreateRoomModule")}},t.prototype.onInit=function(){u.RuleFactory.instance.getConfig(l.PdkRoomConfig.config)},t=r([f,i.moduleInit("CreateRoomModule")],t)}(i.default));o.CreateRoomModule=h,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/module_base":"module_base","../../../pdk/module/room_config":"room_config","./createroom_model":"createroom_model","./createroom_view":"createroom_view","./data/rule_factory":"rule_factory"}],createroom_view:[function(e,t,o){"use strict";cc._RF.push(t,"5b4f1H8xYJAzbeN4kvxGjLM","createroom_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPos=0,t}return n(t,e),r([c(cc.Float)],t.prototype,"startPos",void 0),t=r([s],t)}(i.default));o.CreateRoomView=l,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],custom_ui_state_switcher:[function(e,t,o){"use strict";cc._RF.push(t,"bacefPPZnNGqYcS+Ay2s0CQ","custom_ui_state_switcher");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a,s=cc._decorator,c=s.ccclass,l=s.property,u=s.executeInEditMode,p=s.menu;s.inspector;(function(e){e[e.UnSelect=0]="UnSelect",e[e.Select=1]="Select"})(i||(i={})),function(e){e[e.None=0]="None",e[e.Save=1]="Save"}(a||(a={}));var f=function(){function e(){this.name="",this.value=0,this.select=0,this.lastSelectState=i.UnSelect}return r([l(cc.String)],e.prototype,"name",void 0),r([l({type:cc.Enum(a),displayName:"\u4fdd\u5b58"})],e.prototype,"value",void 0),r([l({type:cc.Enum(i),displayName:"\u9009\u62e9"})],e.prototype,"select",void 0),e=r([c("CustomStyleClass")],e)}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.styleList=[],t.nodeList=[],t}return n(t,e),t.prototype.update=function(){cc.sys.platform==cc.sys.EDITOR_PAGE&&this._updateEditor()},t.prototype._updateEditor=function(){this._checkSave(),this._checkSelect()},t.prototype._checkSelect=function(){for(var e=null,t=0;t<this.styleList.length;t++){if((o=this.styleList[t]).select==i.Select&&o.lastSelectState==i.UnSelect){e=o.name,o.lastSelectState=i.Select;break}}if(null!=e&&""!=e){for(t=0;t<this.styleList.length;t++){var o;(o=this.styleList[t]).name!=e&&(o.lastSelectState=i.UnSelect,o.select=i.UnSelect)}this.SwitchState(e)}},t.prototype._checkSave=function(){for(var e=null,t=0;t<this.styleList.length;t++){(n=this.styleList[t]).value==a.Save&&(e=n.name,n.value=a.None)}if(null!=e&&""!=e){var o=this.nodeList;for(t=0;t<o.length;t++){var n;null!=(n=o[t])&&this._refreshBrother(n,e)}}},t.prototype._refreshBrother=function(e,t){var o=this._findBrother(e,t);null==o&&((o=this._instantiateBrother(e.parent)).name=this._getBrotherName(e,t)),this._cloneBrotherTransform(o,e),this._cloneBrotherActive(o,e)},t.prototype._findBrother=function(e,t){return e.parent.getChildByName(this._getBrotherName(e,t))},t.prototype._getBrotherName=function(e,t){return"_"+t+"_"+e.name},t.prototype._instantiateBrother=function(e){var t=new cc.Node;return t.position=cc.v2(0,0),t.scale=1,t.parent=e,t},t.prototype._cloneBrotherTransform=function(e,t){e.setPosition(t.position),e.setScale(t.scaleX,t.scaleY),e.angle=t.angle,e.setAnchorPoint(t.getAnchorPoint()),e.setContentSize(t.getContentSize()),e.color=t.color,e.opacity=t.opacity,e.skewX=t.skewX,e.skewY=t.skewY,e.group=t.group},t.prototype._cloneBrotherActive=function(e,t){e.active=t.active},t.prototype.SwitchState=function(e){if(null!=e&&""!=e)for(var t=this.nodeList,o=0;o<t.length;o++){var n=t[o];if(n){var r=this._findBrother(n,e);null!=r&&(this._cloneBrotherTransform(n,r),this._cloneBrotherActive(n,r))}}},r([l([f])],t.prototype,"styleList",void 0),r([l([cc.Node])],t.prototype,"nodeList",void 0),t=r([c,u,p("custom/CustomUIStateSwitcher")],t)}(cc.Component);o.default=h,cc._RF.pop()},{}],debug:[function(e,t,o){"use strict";cc._RF.push(t,"5fc64DL+g9IT50MSR03jgH/","debug");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator.ccclass;(function(e){e[e.GoldTable=0]="GoldTable",e[e.MatchTable=1]="MatchTable",e[e.Table=2]="Table",e[e.Hall=3]="Hall",e[e.Recharge=4]="Recharge"})(o.LogType||(o.LogType={}));var i=function(){function e(){}return e.getLogStr=function(e){var t=Date.now()+": ";if(e)for(var o=e.length,n=0;n<o;n++)e[n]?t="object"==typeof e[n]?t+" "+n+": "+JSON.stringify(e[n]):t+" "+n+": "+e[n].toString():t+=": null ";else t+=": null ";return t},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.logOpen&&e&&0!=e.length){var o=e.length;1==o?console.log(e[0]):2==o?console.log(e[0],e[1]):3==o?console.log(e[0],e[1],e[2]):4==o?console.log(e[0],e[1],e[2],e[3]):5==o?console.log(e[0],e[1],e[2],e[3],e[4]):6==o?console.log(e[0],e[1],e[2],e[3],e[4],e[5]):7==o?console.log(e[0],e[1],e[2],e[3],e[4],e[5],e[6]):8==o?console.log(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):9==o?console.log(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]):console.log(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])}},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.logOpen&&e&&0!=e.length){var o=e.length;1==o?console.warn(e[0]):2==o?console.warn(e[0],e[1]):3==o?console.warn(e[0],e[1],e[2]):4==o?console.warn(e[0],e[1],e[2],e[3]):5==o?console.warn(e[0],e[1],e[2],e[3],e[4]):6==o?console.warn(e[0],e[1],e[2],e[3],e[4],e[5]):7==o?console.warn(e[0],e[1],e[2],e[3],e[4],e[5],e[6]):8==o?console.warn(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):9==o?console.warn(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]):console.warn(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])}},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.logOpen&&e&&0!=e.length){var o=e.length;1==o?console.error(e):2==o?console.error(e[0],e[1]):3==o?console.error(e[0],e[1],e[2]):4==o?console.error(e[0],e[1],e[2],e[3]):5==o?console.error(e[0],e[1],e[2],e[3],e[4]):6==o?console.error(e[0],e[1],e[2],e[3],e[4],e[5]):7==o?console.error(e[0],e[1],e[2],e[3],e[4],e[5],e[6]):8==o?console.error(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):9==o?console.error(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]):console.error(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])}},e._curIndex=0,e._isUploading=!1,e._uploadArray=[],e.logOpen=!0,e=n([r],e)}();o.default=i,cc._RF.pop()},{}],descriptor:[function(e,t,o){"use strict";cc._RF.push(t,"d9668JBOxlOULG3dzfAVoI4","descriptor"),cc._RF.pop()},{}],dialog_tips_view:[function(e,t,o){"use strict";cc._RF.push(t,"186c1oV1i1GFrE8arNvm29P","dialog_tips_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tipsLab=null,t}return n(t,e),t.prototype.showTips=function(e){this.tipsLab.string=e},r([s(cc.Label)],t.prototype,"tipsLab",void 0),t=r([a],t)}(e("../../../../framework/core/mvvm/view_base").default);o.default=c,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],dialog_tips:[function(e,t,o){"use strict";cc._RF.push(t,"702ddwNuWhHCZ6Wa1vl3Z12","dialog_tips");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,e("../../../../framework/core/mvvm/module_base")),c=e("./dialog_tips_view"),l=function(e){function t(){var t=e.call(this)||this;return t.package="public",t.layer=s.ViewLayer.High,t.windowPrefabResPath="package/public/dialog_tips",t.viewType=c.default,t.needAnim=!0,t.needViewMask=!0,t}return n(t,e),t.prototype.onShow=function(e){null!=e.Content&&this.view.showTips(e.Content),null!=e.EnterCallBack&&(this.enterCallback=e.EnterCallBack),null!=e.CloseCallBack&&(this.closeCallback=e.EnterCallBack)},t.prototype.onButtonClickName=function(e){switch(e){case"CloseBtn":this.hide(),null!=this.closeCallback&&this.closeCallback();break;case"EnterBtn":this.hide(),null!=this.enterCallback&&this.enterCallback()}},t.prototype.onHide=function(){e.prototype.onHide.call(this)},t.prototype.onDisable=function(){this.unscheduleAllCallbacks()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t=r([a,s.moduleInit("dialogtips")],t)}(s.default);o.default=l,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","./dialog_tips_view":"dialog_tips_view"}],dialog_view:[function(e,t,o){"use strict";cc._RF.push(t,"c256avMs5NKBK3mWPDo2QtC","dialog_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=e("../../../../framework/core/mvvm/view_base"),l=e("../../../../framework/core/module_manager"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_title=null,t.label_content=null,t.button_center=null,t.button_left=null,t.button_right=null,t}return n(t,e),t.prototype.show=function(){l.default.instance.playAnim(!0,this.node)},t.prototype.hide=function(){l.default.instance.playAnim(!1,this.node)},r([s(cc.Label)],t.prototype,"label_title",void 0),r([s(cc.Label)],t.prototype,"label_content",void 0),r([s(cc.Button)],t.prototype,"button_center",void 0),r([s(cc.Button)],t.prototype,"button_left",void 0),r([s(cc.Button)],t.prototype,"button_right",void 0),t=r([a],t)}(c.default);o.default=u,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/view_base":"view_base"}],diaolog:[function(e,t,o){"use strict";cc._RF.push(t,"bf477b6+1lNrrFwF76t4yWn","diaolog");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,e("../../../../framework/core/mvvm/module_base")),c=e("./dialog_view"),l=e("../../../../utility/Utility"),u=function(e){function t(){var t=e.call(this)||this;return t.package="public",t.layer=s.ViewLayer.High,t.windowPrefabResPath="package/public/public_dialog",t.viewType=c.default,t}return n(t,e),t.prototype.onInit=function(t){e.prototype.onInit.call(this,t);var o=this;this.view.button_left.node.on("click",function(e){l.default.instance.playButtonSound(),o._clickLeftBtnNotHideView||o.view.hide(),o._leftBtnCallback&&o._leftBtnCallback()}),this.view.button_right.node.on("click",function(e){l.default.instance.playButtonSound(),o._clickRightBtnNotHideView||o.view.hide(),o._rightBtnCallback&&o._rightBtnCallback()}),this.view.button_center.node.on("click",function(e){l.default.instance.playButtonSound(),o._clickCenterBtnNotHideView||o.view.hide(),o._centerBtnCallback&&o._centerBtnCallback()})},t.prototype.show_center_button=function(e,t,o,n){o=o||function(){},this.show_custom_dialog(e,t,null,null,o,null,null,n)},t.prototype.show_common=function(e,t,o,n,r){o=o||function(){},n=n||function(){},this.show_custom_dialog(e,t,n,o,null,null,r)},t.prototype.show_custom_dialog=function(e,t,o,n,r,i,a,s){if(this.view)e?this.view.label_title.node.active=!0:(this.view.label_title.node.active=!1,e=""),t||(t=""),this.view.label_title.string=e,this.view.label_content.string=t,o?(this.view.button_left.node.active=!0,this._leftBtnCallback=o,this._clickLeftBtnNotHideView=i):(this.view.button_left.node.active=!1,this._leftBtnCallback=null,this._clickLeftBtnNotHideView=null),n?(this.view.button_right.node.active=!0,this._rightBtnCallback=n,this._clickRightBtnNotHideView=a):(this.view.button_right.node.active=!1,this._rightBtnCallback=null,this._clickRightBtnNotHideView=null),r?(this.view.button_center.node.active=!0,this._centerBtnCallback=r,this._clickCenterBtnNotHideView=s):(this.view.button_center.node.active=!1,this._centerBtnCallback=null,this._clickCenterBtnNotHideView=null),this.view.show();else{var c={title:e,text:t,leftBtnCallback:o,rightBtnCallback:n,centerBtnCallback:r,clickLeftBtnNotHideView:i,clickRightBtnNotHideView:a,clickCenterBtnNotHideView:s};this.AddHandleToWaitDealQueue(this.show_custom,c,this)}},t.prototype.show_custom=function(e){this.show_custom_dialog(e.title,e.text,e.leftBtnCallback,e.rightBtnCallback,e.centerBtnCallback,e.clickLeftBtnNotHideView,e.clickRightBtnNotHideView,e.clickCenterBtnNotHideView)},t=r([a,s.moduleInit("Dialog")],t)}(s.default);o.default=u,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","../../../../utility/Utility":"utility","./dialog_view":"dialog_view"}],dissolve_shader:[function(e,t,o){"use strict";cc._RF.push(t,"fbfc8m7Ci5O5YX835OTVjwv","dissolve_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Dissolve",t._needUpdate=!0,t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    uniform float time;\n    varying vec2 uv0;\n    \n    void main()\n    {\n        vec4 c = color * texture2D(texture,uv0);\n        float height = c.r;\n        if(height < time)\n        {\n            discard;\n        }\n        if(height < time+0.04)\n        {\n            // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n            c = vec4(.9,.6,0.3,c.a);\n        }\n        gl_FragColor = c;\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Dissolve")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],editor_box_center:[function(e,t,o){"use strict";cc._RF.push(t,"6a7c0ckv7BNsbKXEvY8Xm/N","editor_box_center");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editorBox=null,t.charWidth=25,t.bgWidth=319,t.resetX=0,t}return n(t,e),t.prototype.setString=function(e){this.editorBox.string=e,this.onTextChange()},t.prototype.onTextChange=function(){var e=this.editorBox.node.getContentSize();0==this.editorBox.string.length?(e.width=this.bgWidth,this.resetX>0&&(e.width=this.resetX)):e.width=this.charWidth*this.editorBox.string.length,this.editorBox.node.setContentSize(e)},r([s(cc.EditBox)],t.prototype,"editorBox",void 0),r([s()],t.prototype,"charWidth",void 0),r([s()],t.prototype,"bgWidth",void 0),r([s()],t.prototype,"resetX",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],event_manager:[function(e,t,o){"use strict";cc._RF.push(t,"1bb5cC0WQNP+469ulGIE859","event_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./debug"),r=function(){function e(){this.handles={}}return e.prototype.dispatch=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var n=[];for(var r in this.handles)if(r==e)for(var i=0;i<this.handles[r].length;i++){var a=null,s=0,c=this.handles[r][i],l=c.callback,u=c.target,p=c.once;t&&(s=t.length),a=0==s?l.call(u):1==s?l.call(u,t[0]):2==s?l.call(u,t[0],t[1]):3==s?l.call(u,t[0],t[1],t[2]):4==s?l.call(u,t[0],t[1],t[2],t[3]):5==s?l.call(u,t[0],t[1],t[2],t[3],t[4]):6==s?l.call(u,t[0],t[1],t[2],t[3],t[4],t[5]):7==s?l.call(u,t[0],t[1],t[2],t[3],t[4],t[5],t[6]):l.call(u,t),n.push(a),p&&this.off(e,l,u)}return n},e.prototype.has=function(e,t,o){if(null==this.handles[e])return!1;for(var n=this.handles[e].length,r=0;r<n;r++)if(this.handles[e][r].callback==t&&this.handles[e][r].target==o)return!0;return!1},e.prototype.on=function(e,t,o,r,i){if(void 0===i&&(i=!1),r){null==this.handles[e]&&(this.handles[e]=[]);var a={callback:t,target:o,once:i};if(this.has(e,t,o)){n.default.warn("\u91cd\u590d\u6ce8\u518c\u4e8b\u4ef6:",e,o);for(var s=this.handles[e].length,c=0;c<s;c++)this.handles[e][c].callback==t&&this.handles[e][c].target==o&&(this.handles[e][c]=a)}else this.handles[e].push(a)}else n.default.error("\u7981\u6b62\u76f4\u63a5\u8c03\u7528EventManager.instance.on\u4e8b\u4ef6\u7ed1\u5b9a\u65b9\u6cd5\uff0c\u8bf7\u4f7f\u7528\u57fa\u7c7b\u7684\u4e8b\u4ef6\u7ed1\u5b9a\u65b9\u6cd5")},e.prototype.off=function(e,t,o){if(null!=this.handles[e])for(var n=0;n<this.handles[e].length;n++)if(this.handles[e][n].callback===t&&this.handles[e][n].target===o){this.handles[e].splice(n,1);break}},e.prototype.clearAll=function(){this.handles={}},e.instance=new e,e}();o.default=r,cc._RF.pop()},{"./debug":"debug"}],flash_shader:[function(e,t,o){"use strict";cc._RF.push(t,"46aa4kMxw1JAK6odOKjymDe","flash_shader"),cc._RF.pop()},{}],fluxay_shader:[function(e,t,o){"use strict";cc._RF.push(t,"f639apUUHhOZZdlwFpNmgQD","fluxay_shader"),cc._RF.pop()},{}],fluxay_super_shader:[function(e,t,o){"use strict";cc._RF.push(t,"a03ccVFx0RI36MwtTb9XMqy","fluxay_super_shader"),cc._RF.pop()},{}],frozen_shader:[function(e,t,o){"use strict";cc._RF.push(t,"49207UuGQpJmKBumuz6BIWN","frozen_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Frozen",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 c = color * texture2D(texture, uv0);\n        c *= vec4(0.8, 1, 0.8, 1);\n        c.b += c.a * 0.2;\n        gl_FragColor = c;\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Frozen")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],game_cfg:[function(e,t,o){"use strict";var n;cc._RF.push(t,"3f7c2+uCvBKj5yJaFTHnavx","game_cfg"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameCfg=((n={})[15]={gName:"10m\u8dd1\u5f97\u5feb",module:"PdkModule"},n[16]={gName:"\u672a\u77e5",module:""},n),cc._RF.pop()},{}],game_manager:[function(e,t,o){"use strict";cc._RF.push(t,"a2114STeaZDyJVwOKoKADGz","game_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.setGameServer=function(t,o){e.gameServer="ws://{0}:{1}".format(t,o)},e.setHallServer=function(t,o){e.hallServer="ws://{0}:{1}".format(t,o)},e}();o.GameManager=n,cc._RF.pop()},{}],game_net_route:[function(e,t,o){"use strict";cc._RF.push(t,"772a6PTN0BEvK4ZAY9YSf6U","game_net_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.enter="table.entryHandler.enter",e}();o.GameServerRoute=n,cc._RF.pop()},{}],game_server:[function(e,t,o){"use strict";cc._RF.push(t,"529aaFVvtlKi6bFuxRYeYze","game_server");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../server_base"),a=e("../../public/const/app_data"),s=e("../../public/const/module_data"),c=e("../../../manager/scene_manager"),l=e("../../public/module/netprompt/netprompt"),u=e("../../../framework/core/module_manager"),p=e("./game_net_route"),f=e("../../public/const/const_code"),h=e("../../../manager/user_manager"),d=e("../../public/model_data"),_=e("../../public/const/game_cfg"),m=cc._decorator.ccclass,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.init("GameServer")},t.prototype._init=function(){var e=this;this.model.registerNetMsg(p.GameServerRoute.enter,function(t){e.loginRsp(t)},!0)},t.prototype.loginRsp=function(e){e.code==f.ServerCode.EnterTableCode.OK||c.default.gotoHall()},t.prototype.connectServer=function(e){u.default.instance.showModule(l.default,{showImmediately:!0}),this.connect(e,function(e){"handshake"==e&&this.startCheckPing(),cc.log("connect server state:",e)})},t.prototype.onConnected=function(){u.default.instance.hideModule("NetPrompt"),this._init();var e=this,t=_.GameCfg[a.default.gameid].gName;cc.log("\u8fde\u63a5\u6e38\u620f\u670d\u6210\u529f "+t+"\uff1a",s.default.instance.isTableModuleActive()),c.default.gotoSubGame(null,function(){e.login()})},t.prototype.connectTimes=function(e){this._reconTimes>=1&&u.default.instance.showModule(l.default,{showImmediately:!0,reconnect:!0}),this._reconTimes>this._maxReconTimes&&(cc.warn("\u767b\u9646\u670d\u91cd\u8fde\u6b21\u6570\u7528\u5b8c\uff0c\u63d0\u793a\u767b\u9646\u5931\u8d25"),c.default.gotoHall())},t.prototype.login=function(){var e={openid:h.default.instance.getUserData().openid,clubId:d.default.instance.clubID,playwayId:d.default.instance.playwayId,tableId:d.default.instance.tableId};this.model.send(p.GameServerRoute.enter,e)},t.prototype.reconnectServerFail=function(){c.default.gotoHall()},t.prototype.onReconnectServer=function(){u.default.instance.showModule(l.default,{showImmediately:!0,reconnect:!0})},t=o=r([m],t)}(i.default);o.default=y,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../manager/scene_manager":"scene_manager","../../../manager/user_manager":"user_manager","../../public/const/app_data":"app_data","../../public/const/const_code":"const_code","../../public/const/game_cfg":"game_cfg","../../public/const/module_data":"module_data","../../public/model_data":"model_data","../../public/module/netprompt/netprompt":"netprompt","../server_base":"server_base","./game_net_route":"game_net_route"}],game_util:[function(e,t,o){"use strict";cc._RF.push(t,"84e0caEeoNO7JTzEdL/aReF","game_util"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("protobufjs"),r=e("./md5"),i=e("../manager/debug"),a=e("../manager/memory_storage"),s=function(){function e(){}return e._http_get=function(t,o,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){if(!(e=JSON.parse(r.responseText)))return void i.default.error("http\u8fd4\u56de\u6570\u636e\u683c\u5f0f\u9519\u8bef\uff1a",r.responseURL,r.responseText);t.useCache&&a.default.setJson(t.cacheKey,e),o&&o(e)}else{if(r.responseText&&""!=r.responseText){var e=JSON.parse(r.responseText);n(e)}else n(null);i.default.warn("http request error:",r.responseText)}},r.onerror=function(r){cc.log(r),r&&"string"==typeof r&&-1!==r.indexOf("timeout")&&(t.requestCount<6&&e._http_get(t,o,n),t.requestCount+=1)},r.ontimeout=function(r){cc.log("ontimeout"),t.requestCount<6&&e._http_get(t,o,n),t.requestCount+=1},r.timeout=5e3,r.open("GET",t.url,!0),r.send()},e.signature=function(e){for(var t=Object.keys(e).sort(),o=e.token,n=0,i=t;n<i.length;n++){var a=i[n];"token"!=a&&(o+=a+e[a])}return o+="LGCSBnMznC8IO5L1",(new r.default).hex_md5(o)},e.loadTexture=function(e,t){if(!(e.length<=0)){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status){var e=new Uint8Array(this.response),r=new Image,a="data:image/png;base64,"+n.util.base64.encode(e,0,e.length);r.src=a,r.onload=function(){var e=new cc.Texture2D;e.initWithElement(r),e.handleLoadedTexture(),t(null,e)}}else t(o.statusText,null),i.default.warn("load texture error:",o.statusText)},o.open("get",e),o.responseType="arraybuffer",o.send(null)}},e.formatParamsForHttp=function(e){var t="",o=e.baseUrl,n=0;for(var r in e.params)e.params[r]||i.default.warn("key not in params:",r,e.params),t=0==n?o+r+"="+this.encodeURL(e.params[r].toString()):t+"&"+r+"="+this.encodeURL(e.params[r].toString()),n+=1;return t},e.getQueryString=function(e,t){var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=e.substr(1).match(o);return null!=n?unescape(n[2]):null},e.encodeURL=function(e){return encodeURIComponent(e)},e.string2point=function(e){return"%"+e.charCodeAt(0).toString(16)},e.get_now_timestamp=function(){var e=new Date;return Date.parse(e.toString())/1e3},e.get_md5=function(e,t,o,n){var i=new r.default,a=i.hex_md5(o+t.toString()).replace("-","").toLowerCase();return i.hex_md5(e.toString()+a+n).replace("-","").toLowerCase()},e.stringBytesLength=function(e){for(var t=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);t+=n>=0&&n<=255||n>=65377&&n<=65439?1:2}return t},e.str2UTF8Byte=function(e){var t,o,n=new Array;t=e.length;for(var r=0;r<t;r++)(o=e.charCodeAt(r))>=65536&&o<=1114111?(n.push(o>>18&7|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)):o>=2048&&o<=65535?(n.push(o>>12&15|224),n.push(o>>6&63|128),n.push(63&o|128)):o>=128&&o<=2047?(n.push(o>>6&31|192),n.push(63&o|128)):n.push(255&o);return n},e.loadRes=function(t,o,n,r){var a=e._ResCaches[t];a?o(null,a):(r||(r=1),cc.loader.loadRes(t,n,function(a,s){a?(r+=1)<10?(e.loadRes(t,o,n,r),i.default.warn("loadRes\u5931\u8d25\uff0c\u91cd\u8bd5\uff1a",t,a)):o(a,s):(e._ResCaches[t]=s,o(a,s))}))},e.loadResArray=function(t,o,n){n||(n=1),cc.loader.loadResArray(t,function(r,a){r&&(n+=1)<10?(e.loadResArray(t,o,n),i.default.warn("loadRes\u5931\u8d25\uff0c\u91cd\u8bd5\uff1a",t,r)):o(r,a)})},e.cutStr=function(e,t){void 0===t&&(t=7);var o,n=0,r=new String;o=e.length;for(var i=0;i<o;i++){var a=e.charAt(i);if(n++,escape(a).length>4&&n++,r=r.concat(a),n>=t)return r=r.concat("...")}if(n<=t)return e},e.currencyFormatting=function(e,t){if(void 0===t&&(t=2),null==e)return"";if(e<=.001)return"0";for(var o=["","K","M","B","T"],n=0,r=e;r>=1e3;)r/=1e3,n++;return n<o.length?(Math.floor(1e3*r/10)/100).toFixed(t)+o[n]:(e/1e12).toFixed(t)+"T"},e.getRightMount=function(e){if(void 0==e)return cc.warn("mount \u5f02\u5e38",e),0;var t=e;return/^[0-9]*[1-9][0-9]*$/.test(e.toString())||(t=parseFloat(e.toFixed(2))),t},e.addThousands=function(e){if(void 0==e)return"0";if(0==e)return e;if(0==e)return e;o=(o=e+"").replace(new RegExp(",","g"),"");var t="";if(/^([-+]).*$/.test(o)&&(t=o.replace(/^([-+]).*$/,"$1"),o=o.replace(/^([-+])(.*)$/,"$2")),/^[0-9]+(\.[0-9]+)?$/.test(o)){var o=o.replace(new RegExp("^[0]+","g"),"");/^\./.test(o)&&(o="0"+o);for(var n=o.replace(/^[0-9]+(\.[0-9]+)?$/,"$1"),r=o.replace(/^([0-9]+)(\.[0-9]+)?$/,"$1"),i=/(\d+)(\d{3})/;i.test(r);)r=r.replace(i,"$1,$2");return t+r+n}return e},e.AddChild=function(e,t){if(null===t||null===e)return cc.log("prefab or parent is null"),null;var o=cc.instantiate(e);return o.position=cc.Vec2.ZERO,o.angle=0,o.scale=1,o.active=!0,t.addChild(o),o},e.setNodeString=function(e,t){var o=e.getComponent(cc.RichText);if(o)o.string=t;else{var n=e.getComponent(cc.Label);n&&(n.string=t)}},e._ResCaches={},e}();o.default=s,cc._RF.pop()},{"../manager/debug":"debug","../manager/memory_storage":"memory_storage","./md5":"md5",protobufjs:17}],gauss_blur_shader:[function(e,t,o){"use strict";cc._RF.push(t,"064bc1MKXpNkYVOSEPslK0r","gauss_blur_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="GaussBlur",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    #define repeats 5.\n    uniform sampler2D texture;\n    uniform vec4 color;\n    uniform float num;\n    varying vec2 uv0;\n    \n    vec4 draw(vec2 uv) {\n        return color * texture2D(texture,uv).rgba; \n    }\n    float grid(float var, float size) {\n        return floor(var*size)/size;\n    }\n    float rand(vec2 co){\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void main()\n    {\n        vec4 blurred_image = vec4(0.);\n        for (float i = 0.; i < repeats; i++) { \n            vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv0.x+uv0.y))+num); \n            vec2 uv2 = uv0+(q*num);\n            blurred_image += draw(uv2)/2.;\n            q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv0.x+uv0.y+24.))+num); \n            uv2 = uv0+(q*num);\n            blurred_image += draw(uv2)/2.;\n        }\n        blurred_image /= repeats;\n        gl_FragColor = vec4(blurred_image);\n    }\n    ",t}return n(t,e),t.prototype.setParamValue=function(e){e.setNum(.03)},t=r([s,c("custom/Shader/GaussBlur")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],glowing_shader:[function(e,t,o){"use strict";cc._RF.push(t,"89fe4zjTVFGcauDdI31kX8F","glowing_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc.renderer.renderEngine.renderer,s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Glowing",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float time;\n    uniform vec4 color;\n    varying vec2 uv0;\n\n    const float radius = 6.0;\n    // const vec3 color = vec3(0.9, 0.9, 0.0);\n\n    float coefficient()\n    {\n        float v = mod(time, 3.0);\n        if(v > 1.5)\n            v = 3.0 - v;\n        return v;\n    }\n\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        vec2 uv = fragCoord.xy;\n        vec2 unit = 1.0 / iResolution.xy;\n        vec4 texel = texture2D(texture, uv);\n        vec4 finalColor = vec4(0.0);\n        float density = 0.0;\n\n        if(texel.a >= 1.0)\n        {\n            finalColor = texel;\n        }\n        else\n        {\n            for(int i = 0; i < int(radius); ++i)\n            {\n                density += texture2D(texture, vec2(uv.x + unit.x * float(i), uv.y + unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x - unit.x * float(i), uv.y + unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x - unit.x * float(i), uv.y - unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x + unit.x * float(i), uv.y - unit.y * float(i))).a;\n            }\n            density = density / radius;\n            finalColor = vec4(color.rgb * density, density);\n            finalColor += vec4(texel.rgb * texel.a, texel.a);\n        }\n        fragColor = finalColor;\n    }\n\n    void main()\n    {\n        mainImage(gl_FragColor, uv0.xy);\n    }",t._defines=[],t._params=[{name:"iResolution",type:a.PARAM_FLOAT3}],t}return n(t,e),t.prototype.setParamValue=function(e){this.node.color=(new cc.Color).fromHEX("#1A7ADC");var t=new cc.Vec3(this.node.width,this.node.height,0);e.setParamValue("iResolution",t)},t=r([c,l("custom/Shader/Glowing")],t)}(i.default);o.default=u,cc._RF.pop()},{"./shader_component":"shader_component"}],hall_model:[function(e,t,o){"use strict";cc._RF.push(t,"66827g98OFNKLJTRFGukGAm","hall_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/model_base"),a=e("./hall_route"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.send_enterClub=function(e){var t={clubId:e};this.send(a.HallNetRoute.enterClub,t)},t.prototype.send_getclubList=function(){this.send(a.HallNetRoute.getClubList)},t=r([c],t)}(i.default));o.HllModel=l,cc._RF.pop()},{"../../framework/core/mvvm/model_base":"model_base","./hall_route":"hall_route"}],hall_module:[function(e,t,o){"use strict";cc._RF.push(t,"e2a200NHiJJsqsGStVg2VSk","hall_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./hall_view"),a=e("../../framework/core/mvvm/module_base"),s=e("../../framework/core/module_manager"),c=e("../server/gameserver/game_server"),l=e("../server/hallserver/hall_server"),u=e("../../manager/local_storage"),p=e("./hall_model"),f=e("./hall_route"),h=e("../../manager/game_manager"),d=e("../club/club_module"),_=e("../public/module/toast/toast"),m=e("../joinClub/joinClub_module"),y=cc._decorator,v=y.ccclass,g=(y.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/hall/hall",t.viewType=i.default,t.modelType=p.HllModel,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(){this.model.netClient=l.default.instance.netClient,this.model.clearMsgEvent(),this.registerMsg(),this.view.updateUserInfo(),this.model.send_getclubList()},t.prototype.registerMsg=function(){this.model.registerNetMsg(f.HallNetRoute.getClubList,this.retGetClubList.bind(this))},t.prototype.onButtonClick=function(e,t){var o=e.name,n=u.default.getNumber("_select_club_id");switch(o){case"Button_createClub":s.default.instance.showModule(_.default,"\u60a8\u672a\u83b7\u5f97\u521b\u5efa\u8054\u76df\u6743\u9650!");break;case"Button_joinClub":s.default.instance.showModule(m.default,null);break;case"game_15":u.default.setNumber("_club_gameId",15),s.default.instance.showModule(d.ClubModule,n);break;case"game_16":case"game_20":case"game_21":case"game_22":case"game_30":case"game_31":u.default.setNumber("_club_gameId",0),s.default.instance.showModule(d.ClubModule,n);break;case"game_23":s.default.instance.showModule(_.default,"\u656c\u8bf7\u671f\u5f85!")}},t.prototype.gotoPdk=function(){l.default.instance.close(),c.default.instance.connectServer(h.GameManager.hallServer)},t.prototype.retGetClubList=function(e){0!=e.code?this.view.showClubList(null):e.clubList.length<=0?this.view.showClubList(null):this.view.showClubList(e)},t=r([v,a.moduleInit("HallModule")],t)}(a.default));o.default=g,cc._RF.pop()},{"../../framework/core/module_manager":"module_manager","../../framework/core/mvvm/module_base":"module_base","../../manager/game_manager":"game_manager","../../manager/local_storage":"local_storage","../club/club_module":"club_module","../joinClub/joinClub_module":"joinClub_module","../public/module/toast/toast":"toast","../server/gameserver/game_server":"game_server","../server/hallserver/hall_server":"hall_server","./hall_model":"hall_model","./hall_route":"hall_route","./hall_view":"hall_view"}],hall_net_route:[function(e,t,o){"use strict";cc._RF.push(t,"2b58293OZdMrZusLXDsNIBG","hall_net_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.enter="connector.entryHandler.enter",e.joinRoom="connector.lobbyHandler.joinRoom",e.getGameServerInfo="connector.lobbyHandler.getGameServerInfo",e}();o.HallServerRoute=n,cc._RF.pop()},{}],hall_route:[function(e,t,o){"use strict";cc._RF.push(t,"05980cJy25Esb0w8JZ0g53g","hall_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.enterClub="connector.clubHandler.enterClub",e.getClubList="connector.clubHandler.getClubList",e.onRefreshClub="connector.clubHandler.onRefreshClub",e}();o.HallNetRoute=n,cc._RF.pop()},{}],hall_server:[function(e,t,o){"use strict";cc._RF.push(t,"303a4yBiJxJiLYryM7lJUj4","hall_server");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../manager/time_manager"),a=e("../../../manager/game_manager"),s=e("../../../framework/core/module_manager"),c=e("../../public/module/netprompt/netprompt"),l=e("../gameserver/game_server"),u=e("../../public/model_data"),p=e("../../public/const/app_data"),f=e("../server_base"),h=e("../../../manager/scene_manager"),d=e("./hall_net_route"),_=e("../../public/const/const_code"),m=e("../../../manager/user_manager"),y=cc._decorator,v=y.ccclass,g=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isNeedCheck=!0,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.init("HallServer")},t.prototype._init=function(){var e=this;this.model.registerNetMsg(d.HallServerRoute.enter,function(t){e.loginRsp(t)},!0),this.model.registerNetMsg(d.HallServerRoute.joinRoom,function(t){e.joinRoom(t)},!0),this.model.registerNetMsg(d.HallServerRoute.getGameServerInfo,function(t){e.enterTable(t)},!0)},t.prototype.loginRsp=function(e){if(200==e.code){m.default.instance.setUserData(e.info);var t=e.info.gameInfo;t&&this.isNeedCheck&&t.code==_.ServerCode.GameStatus.GAME_PLAYING?(u.default.instance.tableId=t.gameInfo.tableId||0,u.default.instance.clubID=t.gameInfo.clubId||0,u.default.instance.playwayId=t.gameInfo.playwayId||"0",this._enterGameServer(t.gameInfo.host,t.gameInfo.port)):h.default.showHallUI(),this.isNeedCheck=!0}},t.prototype.enterTable=function(e){e.code==_.ServerCode.ServerAdrCode.OK?this._enterGameServer(e.host,e.port):h.default.showHallUI()},t.prototype._enterGameServer=function(e,t){s.default.instance.showModule(c.default),this.close(),a.GameManager.setGameServer(e,t),l.default.instance.connectServer(a.GameManager.gameServer)},t.prototype.checkIsPlaying=function(e){if(s.default.instance.showModule(c.default),e.code==_.ServerCode.GameStatus.GAME_PLAYING){this.close();var t=e.gameInfo;a.GameManager.setGameServer(t.ip,t.port),l.default.instance.connectServer(a.GameManager.gameServer)}else h.default.showHallUI()},t.prototype.createGame=function(e,t,o){this._joinGame(e,0,t,o)},t.prototype.enterGame=function(e){s.default.instance.showModule(c.default),p.default.gameid=e.gameId,u.default.instance.tableId=e.tableId,u.default.instance.clubID=0,u.default.instance.playwayId="",this._enterGameServer(e.host,e.port)},t.prototype._joinGame=function(e,t,o,n){s.default.instance.showModule(c.default),p.default.gameid=e,u.default.instance.tableId=t,u.default.instance.clubID=o,u.default.instance.playwayId=n,this.model.send(d.HallServerRoute.getGameServerInfo,{gameId:e})},t.prototype.joinRoom=function(e){0==e.code&&(this.close(),s.default.instance.showModule(c.default,{showImmediately:!0}),l.default.instance.connectServer(a.GameManager.hallServer))},t.prototype.loginHallServer=function(){var e=this;s.default.instance.showModule(c.default),this.connectServer(a.GameManager.hallServer,function(t){if("handshake"==t){var o={code:p.default.code,userInfo:{name:p.default.code,avatarUrl:"http://sincebest-bull-test.oss-cn-hangzhou.aliyuncs.com/20180723_e852c0d11edf47529de8e7c69c848ca8.jpg",gender:1},platform:"win"};e.model.send(d.HallServerRoute.enter,o),e.startCheckPing()}})},t.prototype.connectServer=function(e,t){this.connect(e,t),cc.log("\u5927\u5385\u670d\u8fde\u63a5\u65f6\u95f4\uff1a",i.default.instance.getServerTime())},t.prototype.connectTimes=function(e){this._reconTimes>=1&&s.default.instance.showModule(c.default,{showImmediately:!0,reconnect:!0}),this._reconTimes>this._maxReconTimes&&(cc.warn("\u767b\u9646\u670d\u91cd\u8fde\u6b21\u6570\u7528\u5b8c\uff0c\u63d0\u793a\u767b\u9646\u5931\u8d25"),h.default.gotoLogin())},t.prototype.onConnected=function(){this._init(),s.default.instance.hideModule("NetPrompt")},t=o=r([v],t)}(f.default));o.default=g,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../manager/game_manager":"game_manager","../../../manager/scene_manager":"scene_manager","../../../manager/time_manager":"time_manager","../../../manager/user_manager":"user_manager","../../public/const/app_data":"app_data","../../public/const/const_code":"const_code","../../public/model_data":"model_data","../../public/module/netprompt/netprompt":"netprompt","../gameserver/game_server":"game_server","../server_base":"server_base","./hall_net_route":"hall_net_route"}],hall_view:[function(e,t,o){"use strict";cc._RF.push(t,"ca968dp/vpIPr3dFpw9bJBl","hall_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/view_base"),a=e("../../framework/core/module_manager"),s=e("../../manager/user_manager"),c=e("../../utility/Utility"),l=e("../../utility/game_util"),u=e("../../manager/scene_manager"),p=e("../../manager/texture_manager"),f=e("./component/clubList_item"),h=cc._decorator,d=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userIDLab=null,t.userNameLab=null,t.avatar=null,t.Sprite_noClubFlag=null,t.Label_noClubFlag=null,t.PageView_clubList=null,t.Sprite_clubFrame=null,t.Node_gameItem=null,t}return n(t,e),t.prototype.onShow=function(){u.default.lastEntranceOpenModuleName=""},t.prototype.onLoad=function(){a.default.instance.hideModule("NetPrompt")},t.prototype.updateUserInfo=function(){var e=this,t=s.default.instance.getUserData();l.default.setNodeString(this.userIDLab,"ID:"+t.uid);var o=c.default.instance.playerNameClamp(t.name,5,"...");l.default.setNodeString(this.userNameLab,o),p.default.instance.getSprite(t.avatarUrl,function(t){e.avatar.spriteFrame=t})},t.prototype.showClubList=function(e){if(e){this.Sprite_noClubFlag.node.active=!1,this.Label_noClubFlag.node.active=!1,this.Node_gameItem.active=!0,this.PageView_clubList.removeAllPages();for(var t=0;t<e.clubList.length;t++){var o=e.clubList[t],n=cc.instantiate(this.Sprite_clubFrame);n.active=!0,this.PageView_clubList.addPage(n),n.getComponent(f.ClubListItem).initUI(o)}}else this.Sprite_noClubFlag.node.active=!0,this.Label_noClubFlag.node.active=!0,this.Node_gameItem.active=!1},r([_(cc.Node)],t.prototype,"userIDLab",void 0),r([_(cc.Node)],t.prototype,"userNameLab",void 0),r([_(cc.Sprite)],t.prototype,"avatar",void 0),r([_(cc.Sprite)],t.prototype,"Sprite_noClubFlag",void 0),r([_(cc.Label)],t.prototype,"Label_noClubFlag",void 0),r([_(cc.PageView)],t.prototype,"PageView_clubList",void 0),r([_(cc.Node)],t.prototype,"Sprite_clubFrame",void 0),r([_(cc.Node)],t.prototype,"Node_gameItem",void 0),t=r([d],t)}(i.default);o.default=m,cc._RF.pop()},{"../../framework/core/module_manager":"module_manager","../../framework/core/mvvm/view_base":"view_base","../../manager/scene_manager":"scene_manager","../../manager/texture_manager":"texture_manager","../../manager/user_manager":"user_manager","../../utility/Utility":"utility","../../utility/game_util":"game_util","./component/clubList_item":"clubList_item"}],ice_shader:[function(e,t,o){"use strict";cc._RF.push(t,"8038fyWbzRJk6xJf044tlgp","ice_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Ice",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 clrx = color * texture2D(texture, uv0);\n        float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n        float gray = (1.5)*brightness;\n        clrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n        gl_FragColor =clrx;\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Ice")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],image_font:[function(e,t,o){"use strict";cc._RF.push(t,"fb322lbfy1HPrISjPuEBK0o","image_font");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sourceSprites=[],t.numSprites=[],t}return n(t,e),t.prototype.setNum=function(e){if(e<10)this.showCount(1),this.numSprites[0].spriteFrame=this.sourceSprites[e];else if(e<99){this.showCount(2);var t=Math.floor(e%10),o=Math.floor(e/10);this.numSprites[0].spriteFrame=this.sourceSprites[o],this.numSprites[1].spriteFrame=this.sourceSprites[t]}else if(e<999){this.showCount(3);var n=Math.floor(e/100);o=Math.floor(e/10%10),t=Math.floor(e%10);this.numSprites[0].spriteFrame=this.sourceSprites[n],this.numSprites[1].spriteFrame=this.sourceSprites[o],this.numSprites[2].spriteFrame=this.sourceSprites[t]}},t.prototype.showCount=function(e){for(var t=this.numSprites.length,o=0;o<t;o++)this.numSprites[o].node.active=o<e},r([s([cc.SpriteFrame])],t.prototype,"sourceSprites",void 0),r([s([cc.Sprite])],t.prototype,"numSprites",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],init:[function(e,t,o){"use strict";cc._RF.push(t,"bda9bM1WxxDsbMlWcBCIg8L","init");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../framework/core/module_manager"),a=e("../pacakge/public/const/app_data"),s=e("../pacakge/hall/module/auth/auth_module"),c=e("../manager/scene_manager"),l=e("../pacakge/public/loading/loading"),u=e("../utility/game_util"),p=e("../manager/event_manager"),f=cc._decorator,h=f.ccclass,d=f.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.resize(),cc.view.setResizeCallback(function(){cc.log("setResizeCallback",cc.view.getFrameSize()),p.default.instance.dispatch("_resize_"),e.resize()}),c.default.init(),a.default.setServerByData(),cc.sys.isNative?i.default.instance.showModule(l.default):u.default.loadResArray(["package/hall/module/auth/AuthModule"],function(e,t){e||i.default.instance.showModule(s.default)})},t.prototype.resize=function(){var e=this.canvas;this.curDR||(this.curDR=e.designResolution);var t=this.curDR,o=cc.view.getFrameSize(),n=o.width,r=o.height,i=n,s=r;n/r>t.width/t.height?i=(s=t.height)*n/r:s=r/n*(i=t.width),e.designResolution=cc.size(i,s),e.node.width=i,e.node.height=s;var c=o;a.default.isIphoneX=c.width/c.height>=2,a.default.designResolution=e.designResolution,a.default.iphonexOffset=a.default.designResolution.width*(44/812),cc.log("canvas",e.designResolution,a.default.iphonexOffset)},t.prototype.loadiPhoneX=function(){0},r([d(cc.Canvas)],t.prototype,"canvas",void 0),t=r([h],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../framework/core/module_manager":"module_manager","../manager/event_manager":"event_manager","../manager/scene_manager":"scene_manager","../pacakge/hall/module/auth/auth_module":"auth_module","../pacakge/public/const/app_data":"app_data","../pacakge/public/loading/loading":"loading","../utility/game_util":"game_util"}],joinClub_model:[function(e,t,o){"use strict";cc._RF.push(t,"e3675B2ya5M7ZQW4PMzZS+n","joinClub_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/model_base"),a=e("./joinClub_route"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.send_joinClubByCode=function(e){var t={invateCode:e};this.send(a.JoinClubNetRoute.joinClubByCode,t)},t=r([c],t)}(i.default));o.JoinClubModel=l,cc._RF.pop()},{"../../framework/core/mvvm/model_base":"model_base","./joinClub_route":"joinClub_route"}],joinClub_module:[function(e,t,o){"use strict";cc._RF.push(t,"9fda59H9MtDrIWtGqbRxi8b","joinClub_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./joinClub_view"),a=e("./joinClub_model"),s=e("../../framework/core/mvvm/module_base"),c=e("../../framework/core/module_manager"),l=e("../public/module/toast/toast"),u=e("./joinClub_route"),p=e("../server/hallserver/hall_server"),f=e("../club/club_module"),h=cc._decorator,d=h.ccclass,_=(h.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/joinClub/joinClub",t.viewType=i.default,t.modelType=a.JoinClubModel,t.needAnim=!0,t.clickAnywhereClose=!1,t.needViewMask=!0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(){this.model.netClient=p.default.instance.netClient,this.model.clearMsgEvent(),this.registerMsg(),this.view.emitBindFunc(this.joinClubByCode.bind(this))},t.prototype.registerMsg=function(){this.model.registerNetMsg(u.JoinClubNetRoute.joinClubByCode,this.retJoinClubByCode.bind(this)),this.model.registerNetMsg(u.JoinClubNetRoute.onjoinClub,this.retOnJoinClub.bind(this))},t.prototype.joinClubByCode=function(e){this.model.send_joinClubByCode(e)},t.prototype.retJoinClubByCode=function(e){0!=e.code&&c.default.instance.showModule(l.default,"\u4eb2\u53cb\u5708\u4e0d\u5b58\u5728")},t.prototype.retOnJoinClub=function(e){var t=e.clubId;c.default.instance.showModule(f.ClubModule,t)},t.prototype.onButtonClick=function(e,t){var o=e.name;switch(cc.log(o),o){case"Button_close":c.default.instance.destroyModule("JoinClubModule");break;case"Button_copy":c.default.instance.showModule(l.default,"\u7c98\u8d34\u677f\u4e2d\u6682\u65e0\u6b63\u786e\u7684\u9080\u8bf7\u7801!");break;case"Button_0":this.view.inputNumber(0);break;case"Button_1":this.view.inputNumber(1);break;case"Button_2":this.view.inputNumber(2);break;case"Button_3":this.view.inputNumber(3);break;case"Button_4":this.view.inputNumber(4);break;case"Button_5":this.view.inputNumber(5);break;case"Button_6":this.view.inputNumber(6);break;case"Button_7":this.view.inputNumber(7);break;case"Button_8":this.view.inputNumber(8);break;case"Button_9":this.view.inputNumber(9);break;case"Button_10":this.view.resetNumber();break;case"Button_11":this.view.deleteNumber()}},t=r([d,s.moduleInit("JoinClubModule")],t)}(s.default));o.default=_,cc._RF.pop()},{"../../framework/core/module_manager":"module_manager","../../framework/core/mvvm/module_base":"module_base","../club/club_module":"club_module","../public/module/toast/toast":"toast","../server/hallserver/hall_server":"hall_server","./joinClub_model":"joinClub_model","./joinClub_route":"joinClub_route","./joinClub_view":"joinClub_view"}],joinClub_route:[function(e,t,o){"use strict";cc._RF.push(t,"401e0hZrVlP1bU4Xi/krpUL","joinClub_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.joinClubByCode="connector.clubHandler.joinClubByCode",e.onjoinClub="onjoinClub",e}();o.JoinClubNetRoute=n,cc._RF.pop()},{}],joinClub_view:[function(e,t,o){"use strict";cc._RF.push(t,"08bb3fA3PFERq1vuJaftWYp","joinClub_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Label_input=null,t.Node_num=null,t.sendJoinClubCallBack=null,t}return n(t,e),t.prototype.onShow=function(){},t.prototype.onLoad=function(){},t.prototype.emitBindFunc=function(e){this.sendJoinClubCallBack=e},t.prototype.inputNumber=function(e){for(var t="",o=this.Node_num.getComponentsInChildren(cc.Label),n=0;n<o.length;n++){var r=o[n];if(""==r.string){r.string=e.toString(),t+=r.string,7==n&&this.sendJoinClubCallBack&&this.sendJoinClubCallBack(parseInt(t));break}t+=r.string}this.Label_input.node.active=!1},t.prototype.deleteNumber=function(){for(var e=this.Node_num.getComponentsInChildren(cc.Label),t=e.length-1;t>=0;t--){var o=e[t];if(""!=o.string){o.string="",0==t&&(this.Label_input.node.active=!0);break}}},t.prototype.resetNumber=function(){for(var e=this.Node_num.getComponentsInChildren(cc.Label),t=0;t<e.length;t++){e[t].string=""}this.Label_input.node.active=!0},r([c(cc.Label)],t.prototype,"Label_input",void 0),r([c(cc.Node)],t.prototype,"Node_num",void 0),t=r([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../framework/core/mvvm/view_base":"view_base"}],language_manager:[function(e,t,o){"use strict";cc._RF.push(t,"3cce4iqgodFs4ooORk8zT18","language_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../utility/game_util"),r=function(){function e(){}return e.init=function(t){t!==e._curLang&&(e._curLang=t,e.loadLanguageData(t))},e.change=function(){var t="zh-cn"==e._curLang?"en":"zh-cn";this.init(t)},e.loadLanguageData=function(t){n.default.loadRes("i18n/"+t,function(t,o){t?cc.log(t):e._polyInst=o.json})},e.t=function(t,o){return e._polyInst[t]||""},e._curLang="zh-cn",e}();o.default=r,cc._RF.pop()},{"../utility/game_util":"game_util"}],layout_grid:[function(e,t,o){"use strict";cc._RF.push(t,"ec173oAbDxEGaVcPfd1TRMx","layout_grid");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellSize=cc.Vec2.ZERO,t.colNum=8,t.spacingX=0,t.spacingY=0,t.prefabNode=null,t.horizontalDirection=cc.Layout.HorizontalDirection.RIGHT_TO_LEFT,t}return n(t,e),t.prototype.getChilds=function(e,t){void 0===t&&(t=!0);for(var o=[],n=0;n<e;n++){var r=this._getNode(n,this.node);r.name=n.toString(),o.push(r)}if(e<this.node.childrenCount)for(n=e;n<this.node.childrenCount;n++)this.node.children[n].active=!1;for(n=0;n<e;n++)this._setPosByIndex(n,t);return this.node.sortAllChildren(),o},t.prototype._setPosByIndex=function(e,t){if(this.horizontalDirection==cc.Layout.HorizontalDirection.RIGHT_TO_LEFT){var o=Math.floor(e%this.colNum),n=Math.floor(e/this.colNum),r=-this.cellSize.x/2-Math.abs(this.spacingX*o),i=-Math.abs(this.spacingY*n);(a=this.node.children[e]).position=cc.v2(r,i),a.zIndex=this.colNum-o+n*this.colNum,a.active=t}else{var a;o=Math.floor(e%this.colNum),n=Math.floor(e/this.colNum),r=this.cellSize.x/2+Math.abs(this.spacingX*o),i=-Math.abs(this.spacingY*n);(a=this.node.children[e]).position=cc.v2(r,i),a.zIndex=e,a.active=t}},t.prototype._getNode=function(e,t){if(t.childrenCount<=e){var o=cc.instantiate(this.prefabNode);return o.position=cc.v2(0,0),o.scale=1,o.parent=t,this._getNode(e,t)}return t.children[e]},r([s(cc.Vec2)],t.prototype,"cellSize",void 0),r([s(Number)],t.prototype,"colNum",void 0),r([s(Number)],t.prototype,"spacingX",void 0),r([s(Number)],t.prototype,"spacingY",void 0),r([s(cc.Node)],t.prototype,"prefabNode",void 0),r([s({type:cc.Enum(cc.Layout.HorizontalDirection),displayName:"\u6c34\u5e73\u65b9\u5411",serializable:!0})],t.prototype,"horizontalDirection",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],listview_demo:[function(e,t,o){"use strict";cc._RF.push(t,"6e3falSadhI6p8SIQEvEsTR","listview_demo");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./listview"),a=e("../../../manager/debug"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollview=null,t.view=null,t.content=null,t.prefab=null,t.m_list=null,t}return n(t,e),t.prototype.onLoad=function(){for(var e=new i.ListView({scrollview:this.scrollview,view:this.view,content:this.content,item_prefab:this.prefab,cb_host:this,item_update_func:this.update_list_item,select_cb:this.on_item_select,column:2,row:5,gap_y:2,direction:i.ListViewDir.Vertical}),t=[],o=0;o<100;o++)t.push("\u6211\u662f\u7b2c"+o+"\u6761\u6570\u636e\uff01");this.m_list=e,e.set_data(t),e.select_item(55),e.scroll_to(55)},t.prototype.on_item_select=function(e,t){a.default.log(e,t)},t.prototype.update_list_item=function(e,t,o){e.getComponent(cc.Label).string=t.toString(),o==this.m_list.selected_index?e.color=cc.Color.RED:e.color=cc.Color.WHITE},r([l(cc.ScrollView)],t.prototype,"scrollview",void 0),r([l(cc.Node)],t.prototype,"view",void 0),r([l(cc.Node)],t.prototype,"content",void 0),r([l(cc.Node)],t.prototype,"prefab",void 0),t=r([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../manager/debug":"debug","./listview":"listview"}],listview:[function(e,t,o){"use strict";cc._RF.push(t,"6bb60iI4glJLJxY0y1Dw/xT","listview"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=e("../../../manager/event_manager"),i=function(){function e(e){var t=this;if(this.m_selected_index=-1,this.m_scrollview=e.scrollview,this.m_view=e.view,this.m_content=e.content,this.m_item_prefab=e.item_prefab,this.m_item_prefab.active=!1,this.m_item_width=this.m_item_prefab.width,this.m_item_height=this.m_item_prefab.height,this.m_dir=e.direction||n.Vertical,this.m_width=e.width||this.m_view.width,this.m_height=e.height||this.m_view.height,this.m_gap_x=e.gap_x||0,this.m_gap_y=e.gap_y||0,this.m_row=e.row||1,this.m_col=e.column||1,this.m_cb_host=e.cb_host,this.item_update_func=e.item_update_func,this.recycle_cb=e.recycle_cb,this.select_cb=e.select_cb,this.item_select_func=e.item_select_func,this.scroll_to_end_cb=e.scroll_to_end_cb,this.item_click_func=e.item_click_func,this.item_click_ex_func=e.item_click_ex_func,this.m_auto_scrolling=e.auto_scrolling||!1,this.m_node_pool=[],this.m_dir==n.Vertical){var o=(this.m_item_width+this.m_gap_x)*this.m_col-this.m_gap_x;o>this.m_width&&(cc.log("real width > width, resize scrollview to realwidth,",this.m_width,"->",o),this.m_width=o),this.m_content.width=this.m_width}else{var i=(this.m_item_height+this.m_gap_y)*this.m_row-this.m_gap_y;i>this.m_height&&(cc.log("real height > height, resize scrollview to realheight,",this.m_height,"->",i),this.m_height=i),this.m_content.height=this.m_height}this.m_view.setContentSize(this.m_width,this.m_height),this.m_scrollview.vertical=this.m_dir==n.Vertical,this.m_scrollview.horizontal=this.m_dir==n.Horizontal,this.m_scrollview.inertia=!0,this.m_scrollview.node.on("scrolling",this.on_scrolling,this),this.m_scrollview.node.on("scroll-to-bottom",this.on_scroll_to_end,this),this.m_scrollview.node.on("scroll-to-right",this.on_scroll_to_end,this);var a=this.m_scrollview._onPreDestroy.bind(this.m_scrollview);this.m_scrollview._onPreDestroy=function(){a&&a(),t.destroy()},r.default.instance.on("_resize_",this.resize,this,!0)}return e.prototype.resize=function(){var e=this;if(this.m_scrollview.node&&this.m_scrollview.node.isValid){var t=this.m_scrollview.node,o=cc.sequence(cc.delayTime(0),cc.callFunc(function(){e.resize_content(),e.on_scrolling()}));t.stopAllActions(),t.runAction(o)}},Object.defineProperty(e.prototype,"datas",{get:function(){return this.m_datas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected_index",{get:function(){return this.m_selected_index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectd_data",{get:function(){var e=this.m_items[this.m_selected_index];return e?e.data:null},enumerable:!0,configurable:!0}),e.prototype.set_data=function(e){var t=this;this.clear_items(),this.m_items=[],this.m_datas=e,this.m_selected_index=-1,e.forEach(function(e){var o=t.pack_item(e);t.m_items.push(o)}),this.layout_items(0),this.resize_content(),this.m_start_index=-1,this.m_stop_index=-1,this.m_dir==n.Vertical?this.m_content.y=0:this.m_content.x=0,this.m_items.length>0&&this.on_scrolling()},e.prototype.insert_data=function(e){for(var t,o,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(0!=r.length)if(this.m_items||(this.m_items=[]),this.m_datas||(this.m_datas=[]),e<0||e>this.m_items.length)cc.warn("invalid index",e);else{var a=e==this.m_items.length,s=[];r.forEach(function(e){var t=n.pack_item(e);s.push(t)}),(t=this.m_datas).splice.apply(t,[e,0].concat(r)),(o=this.m_items).splice.apply(o,[e,0].concat(s)),this.layout_items(e),this.resize_content(),this.m_start_index=-1,this.m_stop_index=-1,this.m_auto_scrolling&&a&&this.scroll_to_end(),this.on_scrolling()}else cc.log("nothing to insert")},e.prototype.remove_data=function(e,t){var o=this;if(void 0===t&&(t=1),this.m_items)if(e<0||e>=this.m_items.length)cc.warn("invalid index",e);else if(t<1)cc.log("nothing to remove");else{var n=this.m_items.length,r=this.m_items.splice(e,t);this.m_datas.splice(e,t),r.forEach(function(e){o.recycle_item(e)}),e+t<n&&this.layout_items(e),this.resize_content(),this.m_items.length>0&&(this.m_start_index=-1,this.m_stop_index=-1,this.on_scrolling())}else cc.log("call set_data before call this method")},e.prototype.append_data=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_items||(this.m_items=[]),this.insert_data.apply(this,[this.m_items.length].concat(e))},e.prototype.scroll_to=function(e){if(this.m_dir==n.Vertical){var t=this.m_height-this.m_content.height;if(t>=0)return void cc.log("no need to scroll");var o=this.vertical_layout(e,this.m_item_width,this.m_item_height,this.m_col,this.m_gap_x,this.m_gap_y,!1),r=(o[0],o[1]);r<t&&(r=t,cc.log("content reach bottom")),r>0&&(r=0,cc.log("content reach top")),this.m_scrollview.setContentPosition(cc.v2(this.m_content.x,-r)),this.on_scrolling()}else{var i=this.m_content.width-this.m_width;if(i<=0)return void cc.log("no need to scroll");var a=this.horizontal_layout(e,this.m_item_width,this.m_item_height,this.m_row,this.m_gap_x,this.m_gap_y,!1),s=a[0];a[1];s>i&&(s=i,cc.log("content reach right")),s<0&&(s=0,cc.log("content reach left")),this.m_scrollview.setContentPosition(cc.v2(-s,this.m_content.y)),this.on_scrolling()}},e.prototype.scroll_to_end=function(){this.m_dir==n.Vertical?this.m_scrollview.scrollToBottom():this.m_scrollview.scrollToRight()},e.prototype.refresh_item=function(e,t){if(this.m_items)if(e<0||e>=this.m_items.length)cc.warn("invalid index",e);else{var o=this.m_items[e];o.data=t,this.m_datas[e]=t,o.node&&(this.recycle_cb&&this.recycle_cb.call(this.m_cb_host,o.node),this.item_update_func.call(this.m_cb_host,o.node,o.data,e,o))}else cc.log("call set_data before call this method")},e.prototype.select_item=function(e){e!=this.m_selected_index&&(-1!=this.m_selected_index&&this.inner_select_item(this.m_selected_index,!1),this.inner_select_item(e,!0))},e.prototype.destroy=function(){this.clear_items(),this.m_node_pool.forEach(function(e){e.destroy()}),this.m_node_pool=null,this.m_items=null,this.m_datas=null,cc.isValid(this.m_scrollview.node)&&(this.m_scrollview.node.off("scrolling",this.on_scrolling,this),this.m_scrollview.node.off("scroll-to-bottom",this.on_scroll_to_end,this),this.m_scrollview.node.off("scroll-to-right",this.on_scroll_to_end,this)),r.default.instance.off("_resize_",this.resize,this)},e.prototype.on_scroll_to_end=function(){this.scroll_to_end_cb&&this.scroll_to_end_cb.call(this.m_cb_host)},e.prototype.on_scrolling=function(){if(this.m_items&&this.m_items.length)if(this.m_dir==n.Vertical){var e=this.m_content.y;e<0&&(e=0),e>this.m_content.height-this.m_height&&(e=this.m_content.height-this.m_height);for(var t=0,o=this.m_items.length-1,r=(a=-e)-1.5*this.m_height;this.m_items[t].y-this.m_item_height>a;)t++;for(;this.m_items[o].y+this.m_item_height<r;)o--;t!=this.m_start_index&&o!=this.m_stop_index&&(this.m_start_index=t,this.m_stop_index=o,this.render_items())}else{var i=this.m_content.x;i>0&&(i=0),i<this.m_width-this.m_content.width&&(i=this.m_width-this.m_content.width);var a;for(t=0,o=this.m_items.length-1,r=(a=-i)+this.m_width;this.m_items[t].x+this.m_item_width<a;)t++;for(;this.m_items[o].x-this.m_item_width>r;)o--;t!=this.m_start_index&&o!=this.m_stop_index&&(this.m_start_index=t,this.m_stop_index=o,this.render_items())}},e.prototype.inner_select_item=function(e,t){var o=this.m_items[e];o?(o.is_select=t,o.node&&this.item_select_func&&this.item_select_func.call(this.m_cb_host,o.node,t,e),t&&(this.m_selected_index=e,this.select_cb&&this.select_cb.call(this.m_cb_host,o.data,e))):cc.warn("inner_select_item index is out of range{",0,this.m_items.length-1,"}",e)},e.prototype.spawn_node=function(e){var t=this.m_node_pool.pop();return t||((t=cc.instantiate(this.m_item_prefab)).active=!0),t.parent=this.m_content,(this.item_click_func||this.item_click_ex_func)&&(t.off("click",this.item_click,this),t.on("click",this.item_click,this)),t},e.prototype.item_click=function(e){var t=e.node;if(this.item_click_func&&this.item_click_func.call(this.m_cb_host,t),null!=this.item_click_ex_func){for(var o=void 0,n=0,r=this.m_items.length;n<r;n++)if(this.m_items[n].node==t){o=this.m_items[n];break}null!=o&&this.item_click_ex_func.call(this.m_cb_host,o.data)}},e.prototype.recycle_item=function(e){e.node&&cc.isValid(e.node)&&(this.recycle_cb&&this.recycle_cb.call(this.m_cb_host,e.node),e.node.removeFromParent(),this.m_node_pool.push(e.node),e.node=null)},e.prototype.clear_items=function(){var e=this;this.m_items&&this.m_items.forEach(function(t){e.recycle_item(t)})},e.prototype.render_items=function(){for(var e,t=0;t<this.m_start_index;t++)(e=this.m_items[t]).node&&this.recycle_item(e);for(t=this.m_items.length-1;t>this.m_stop_index;t--)(e=this.m_items[t]).node&&this.recycle_item(e);for(t=this.m_start_index;t<=this.m_stop_index;t++)(e=this.m_items[t]).node||(e.node=this.spawn_node(t),this.item_update_func.call(this.m_cb_host,e.node,e.data,t,e),this.item_select_func&&this.item_select_func.call(this.m_cb_host,e.node,e.is_select,t)),e.node.setPosition(e.x,e.y)},e.prototype.pack_item=function(e){return{x:0,y:0,data:e,node:null,is_select:!1}},e.prototype.layout_items=function(e){for(var t,o,r=e,i=this.m_items.length;r<i;r++){var a=this.m_items[r];this.m_dir==n.Vertical?(t=this.vertical_layout(r,this.m_item_width,this.m_item_height,this.m_col,this.m_gap_x,this.m_gap_y),a.x=t[0],a.y=t[1]):(o=this.horizontal_layout(r,this.m_item_width,this.m_item_height,this.m_row,this.m_gap_x,this.m_gap_y),a.x=o[0],a.y=o[1])}},e.prototype.resize_content=function(){if(this.m_items&&this.m_items.length){if(this.m_items.length<=0)return this.m_content.width=0,void(this.m_content.height=0);var e=this.m_items[this.m_items.length-1];this.m_dir==n.Vertical?this.m_content.height=Math.max(this.m_height,this.m_item_height/2-e.y):this.m_content.width=Math.max(this.m_width,e.x+this.m_item_width/2)}},e.prototype.vertical_layout=function(e,t,o,n,r,i,a){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=!0);var s=e%n*(t+r),c=-Math.floor(e/n)*(o+i);return a?[s+t/2,c-o/2]:[s,c]},e.prototype.horizontal_layout=function(e,t,o,n,r,i,a){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=!0);var s=Math.floor(e/n)*(t+r),c=-e%n*(o+i);return a?[s+t/2,c-o/2]:[s,c]},e}();o.ListView=i,function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(n=o.ListViewDir||(o.ListViewDir={})),cc._RF.pop()},{"../../../manager/event_manager":"event_manager"}],loader_wrap:[function(e,t,o){"use strict";cc._RF.push(t,"cff28sIHCpOY6v35SFUDra0","loader_wrap");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(e,t){for(var o in t)if(t.hasOwnProperty(o)){var n=t[o].dependKeys;if(n)for(var r=0;r<n.length;r++){if(n[r]==e)return!1}}return!0}),s=function(){function e(){}return e.init=function(){var e=cc.loader.release;cc.loader.release=function(t){var o=null;if(Array.isArray(t));else if(t){var n=this._getReferenceKey(t),r=this.getItem(n);r&&(o=r.dependKeys)}if(e.call(this,t),Array.isArray(t));else if(t&&o)for(var i=0;i<o.length;i++){var s=o[i];a(s,this._cache)&&this.release(s)}}},e=n([i],e)}();o.default=s,cc._RF.pop()},{}],loading_view:[function(e,t,o){"use strict";cc._RF.push(t,"cfdee+sKiZPGJMuE6PqPEq7","loading_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/view_base"),a=e("../../../manager/version_manager"),s=e("../../../manager/local_storage"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t.barRightNode=null,t.textLabel=null,t.versionLabel=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(){e.prototype.onShow.call(this),cc.sys.isNative,this.showTextLabel("\u7248\u672c\u68c0\u6d4b\u4e2d,\u8bf7\u7a0d\u540e..."),this.updateVersion(s.default.getNumber("version")),a.default.instance.checkVersion()},t.prototype.updateVersion=function(e){e&&(this.versionLabel.string="v:"+e)},t.prototype.showTextLabel=function(e){this.textLabel.string=e},t.prototype.updatePercent=function(e){this.progressBar.node.active=!0,this.progressBar.progress=e;var t=this.progressBar.node.getChildByName("SpriteBar"),o=t.getComponent(cc.Sprite).spriteFrame.getRect().width;this.barRightNode.position=new cc.Vec2(t.position.x+o*e,this.barRightNode.position.y),this.barRightNode.active=e>0,this.showTextLabel("\u8d44\u6e90\u52a0\u8f7d\u4e2d: "+(100*e).toFixed(0)+"%")},r([u(cc.ProgressBar)],t.prototype,"progressBar",void 0),r([u(cc.Node)],t.prototype,"barRightNode",void 0),r([u(cc.Label)],t.prototype,"textLabel",void 0),r([u(cc.Label)],t.prototype,"versionLabel",void 0),t=r([l],t)}(i.default);o.default=p,cc._RF.pop()},{"../../../framework/core/mvvm/view_base":"view_base","../../../manager/local_storage":"local_storage","../../../manager/version_manager":"version_manager"}],loading:[function(e,t,o){"use strict";cc._RF.push(t,"2db967D6pFHcKpm0trEd4I/","loading");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../framework/core/mvvm/module_base"),a=e("./loading_view"),s=e("../../../framework/core/module_manager"),c=e("../../../manager/debug"),l=e("../../../utility/game_util"),u=e("../../hall/module/auth/auth_module"),p=cc._decorator,f=p.ccclass,h=(p.property,function(e){function t(){var t=e.call(this)||this;return t.layer=i.ViewLayer.Highest,t.windowPrefabResPath="package/public/public_loading",t.viewType=a.default,t.modelType=null,t.bindEvent(),t}return n(t,e),t.prototype.bindEvent=function(){this.eventBind("already_up_to_date",this.already_up_to_date),this.eventBind("new_version_found",this.on_new_version_found),this.eventBind("update_progress",this.on_update_progress),this.eventBind("update_finished",this.on_update_finished),this.eventBind("get_app_version",this.on_get_app_version),this.eventBind("error_no_local_manifest",this.on_update_finished),this.eventBind("error_download_manifest_file.",this.on_update_finished)},t.prototype.show=function(){if(e.prototype.show.call(this),cc.sys.os===cc.sys.OS_ANDROID){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","removeSplashImage","()V")}},t.prototype.already_up_to_date=function(){this.view?this.loadAuth():this.AddHandleToWaitDealQueue(this.already_up_to_date,null,this)},t.prototype.on_new_version_found=function(){this.view||this.AddHandleToWaitDealQueue(this.on_new_version_found,null,this)},t.prototype.on_update_progress=function(e){this.view?this.updatePercent(e):this.AddHandleToWaitDealQueue(this.on_update_progress,e,this)},t.prototype.on_update_finished=function(){this.loadAuth()},t.prototype.on_get_app_version=function(e){this.view.updateVersion(e)},t.prototype.loadAuth=function(){var e=this;l.default.loadResArray(["package/hall/module/auth/AuthModule","package/hall/module/hall/hall_base"],function(t,o){t||(c.default.log("\u52a0\u8f7d\u5b8c\u6210"),s.default.instance.showModule(u.default,null,function(){e.hide()}))})},t.prototype.onInit=function(){},t.prototype.updatePercent=function(e){this.view.updatePercent(e)},t=r([f,i.moduleInit("LoadingModule")],t)}(i.default));o.default=h,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../framework/core/mvvm/module_base":"module_base","../../../manager/debug":"debug","../../../utility/game_util":"game_util","../../hall/module/auth/auth_module":"auth_module","./loading_view":"loading_view"}],local_storage:[function(e,t,o){"use strict";cc._RF.push(t,"6a017b2Vq1O+5jDptKm6peg","local_storage"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./debug"),r=function(){function e(){}return e.setStorageNumber=function(t,o){e.setNumber(t,o)},e.setStorageString=function(t,o){e.setString(t,o)},e.setStorage=function(t,o){e.setItem(t,o)},e.setNumber=function(e,t){try{cc.sys.localStorage.setItem(e,t.toString())}catch(t){n.default.warn(e,t)}},e.getNumber=function(e,t){try{var o=cc.sys.localStorage.getItem(e);return null==o||"null"==o?null!=t?t:null:o}catch(t){n.default.warn(e,t)}},e.setJson=function(e,t){try{cc.sys.localStorage.setItem(e,JSON.stringify(t))}catch(t){n.default.warn(e,t)}},e.getJson=function(e){try{var t=cc.sys.localStorage.getItem(e);return null==t||""==t||"null"==t?null:JSON.parse(t)}catch(t){n.default.warn(e,t)}},e.setString=function(e,t){try{cc.sys.localStorage.setItem(e,t.toString())}catch(t){n.default.warn(e,t)}},e.getString=function(e,t){try{var o=cc.sys.localStorage.getItem(e);return null==o||""==o||"null"==o?null!=t?t:null:o}catch(t){n.default.warn(e,t)}},e.setItem=function(e,t){try{cc.sys.localStorage.setItem(e,t)}catch(t){n.default.warn(e,t)}},e.getItem=function(e){try{var t=cc.sys.localStorage.getItem(e);return null==t||"null"==t?null:t}catch(t){n.default.warn(e,t)}},e.hasItem=function(e){return null!=cc.sys.localStorage.getItem(e)},e.delete=function(e){cc.sys.localStorage.setItem(e,null)},e}();o.default=r,cc._RF.pop()},{"./debug":"debug"}],log_report_manager:[function(e,t,o){"use strict";cc._RF.push(t,"6659aadWO5KNbPnwKv2zo91","log_report_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../utility/game_util"),r=e("./debug"),i=function(){function e(){}return e.init=function(t){null==t&&(t=0),e._httpUrl=e._baseHttpUrl+"&appinit_time="+Math.ceil((new Date).getTime()/1e3)+"&uid="+t+"&os="+cc.sys.os+"&"},e.report=function(t){var o={baseUrl:e._httpUrl,params:{text:t}};e.http(o)},e.report_cmd=function(t,o){var n={baseUrl:e._httpUrl,params:{cmd:t,text:o}};e.http(n)},e.report_data=function(t,o){var n={baseUrl:e._httpUrl,params:{cmd:t,text:JSON.stringify(o)}};e.http(n)},e.report_msg_cmd=function(t,o,n){var r={baseUrl:e._httpUrl,params:{msg:o}};n?r.params.request_cmd=t:r.params.response_cmd=t,e.http(r)},e.http=function(t){e._serialNumber=e._serialNumber+1,t.params.sn=e._serialNumber,t.params.time=(new Date).getTime();var o=n.default.formatParamsForHttp(t),i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&(200==i.status?r.default.log(o):(t.requestCount<2&&e.http(t),r.default.log("http request error:",i.status)))},null==t.requestCount&&(t.requestCount=0),++t.requestCount,i.timeout=1e4,i.open("GET",o,!0),i.send()},e._baseHttpUrl="https://dhqp-h5-log.cn-hangzhou.log.aliyuncs.com/logstores/h5log/track?APIVersion=0.6.0",e._serialNumber=0,e._reportFailureHttpUrls=[],e}();o.default=i,cc._RF.pop()},{"../utility/game_util":"game_util","./debug":"debug"}],login_net_route:[function(e,t,o){"use strict";cc._RF.push(t,"4bdffFaOKxLxbnbutO20Qew","login_net_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.queryEntry="gate.gateHandler.queryEntry",e}();o.LoginNetRoute=n,cc._RF.pop()},{}],login_server:[function(e,t,o){"use strict";cc._RF.push(t,"ec0d4u5LRpBeLxbiNfOL5W9","login_server");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../manager/time_manager"),a=e("../../../manager/game_manager"),s=e("../../../framework/core/module_manager"),c=e("../../public/module/netprompt/netprompt"),l=e("../../public/const/app_data"),u=e("./login_net_route"),p=e("../hallserver/hall_server"),f=e("../server_base"),h=e("../../../manager/scene_manager"),d=cc._decorator,_=d.ccclass,m=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.init("LoginServer")},t.prototype._init=function(){var e=this;this.model.registerNetMsg(u.LoginNetRoute.queryEntry,function(t){e.loginRsp(t)},!0)},t.prototype.loginRsp=function(e){cc.log("-------------\x3e>>",e),this.close(),a.GameManager.setHallServer(e.host,e.port),p.default.instance.loginHallServer()},t.prototype.accountLogin=function(e){var t=this;this.connectServer(a.GameManager.loginServer,function(o){if("handshake"==o){t.startCheckPing();var n={code:e};l.default.code=e,t.model.send(u.LoginNetRoute.queryEntry,n)}})},t.prototype.connectServer=function(e,t){this.connect(e,t),cc.log("\u767b\u9646\u670d\u8fde\u63a5\u65f6\u95f4\uff1a",i.default.instance.getServerTime())},t.prototype.onConnected=function(){this._init()},t.prototype.connectTimes=function(e){this._reconTimes>=1&&s.default.instance.showModule(c.default,{showImmediately:!0,reconnect:!0}),this._reconTimes>this._maxReconTimes&&(cc.warn("\u767b\u9646\u670d\u91cd\u8fde\u6b21\u6570\u7528\u5b8c\uff0c\u63d0\u793a\u767b\u9646\u5931\u8d25"),h.default.gotoLogin())},t=o=r([_],t)}(f.default));o.default=m,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager","../../../manager/game_manager":"game_manager","../../../manager/scene_manager":"scene_manager","../../../manager/time_manager":"time_manager","../../public/const/app_data":"app_data","../../public/module/netprompt/netprompt":"netprompt","../hallserver/hall_server":"hall_server","../server_base":"server_base","./login_net_route":"login_net_route"}],make_points_manager:[function(e,t,o){"use strict";cc._RF.push(t,"32805NOALhMYZN9kmY3XW89","make_points_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=e("../manager/debug"),i=e("../pacakge/public/const/app_data"),a=e("../pacakge/public/model_data"),s=e("../utility/game_util");(function(e){e[e.SHARE_GIFT=1003]="SHARE_GIFT",e[e.SHARE_SELF=1005]="SHARE_SELF",e[e.SHARE_SIGN_MATCH=1006]="SHARE_SIGN_MATCH",e[e.SHARE_FRIEND_INVITE=1007]="SHARE_FRIEND_INVITE",e[e.SHARE_FRIEND_BIG_ACCOUNT=1008]="SHARE_FRIEND_BIG_ACCOUNT",e[e.SHARE_MATCH_GIFT=1009]="SHARE_MATCH_GIFT",e[e.SHARE_GOLD_WIN=1010]="SHARE_GOLD_WIN",e[e.SHARE_GOLD_LOSE=1011]="SHARE_GOLD_LOSE",e[e.SHARE_MATCH_WIN=1012]="SHARE_MATCH_WIN",e[e.SHARE_MATCH_LOSE=1013]="SHARE_MATCH_LOSE",e[e.SHARE_OTHER=1014]="SHARE_OTHER",e[e.SHARE_ACTIVE_SIGN=1015]="SHARE_ACTIVE_SIGN",e[e.SHARE_FREE_COIN=1016]="SHARE_FREE_COIN",e[e.SHARE_RELIEF=1017]="SHARE_RELIEF",e[e.SHARE_PAYFOR=1018]="SHARE_PAYFOR",e[e.SHARE_RANKING_MATCH_WIN=1019]="SHARE_RANKING_MATCH_WIN",e[e.SHARE_RANKING_MATCH_LOSE=1020]="SHARE_RANKING_MATCH_LOSE",e[e.SHARE_RANKING_MATCH_WINS=1021]="SHARE_RANKING_MATCH_WINS",e[e.SHARE_RANKING_MATCH_SCREEN_SHOOT=1022]="SHARE_RANKING_MATCH_SCREEN_SHOOT",e[e.SHARE_GOLD_SHOW_CARDS=1023]="SHARE_GOLD_SHOW_CARDS",e[e.SHARE_GOLD_GAME_TASK=1024]="SHARE_GOLD_GAME_TASK",e[e.BANKRUP_OTHER=2e3]="BANKRUP_OTHER",e[e.BANKRUP_GOLD=2001]="BANKRUP_GOLD",e[e.BANKRUP_MATCH=2002]="BANKRUP_MATCH",e[e.BANKRUP_RANKING_MATCH_WIN=2003]="BANKRUP_RANKING_MATCH_WIN",e[e.BANKRUP_RANKING_MATCH_LOSE=2004]="BANKRUP_RANKING_MATCH_LOSE",e[e.ORDER_SHOP=3e3]="ORDER_SHOP",e[e.ORDER_FIRST=3001]="ORDER_FIRST",e[e.ORDER_BANKRUP_FIRST=3002]="ORDER_BANKRUP_FIRST",e[e.ORDER_BANKRUP_EVERY_DAY=3003]="ORDER_BANKRUP_EVERY_DAY",e[e.ORDER_EVERY_DAY=3004]="ORDER_EVERY_DAY",e[e.ORDER_LIMIT=3005]="ORDER_LIMIT",e[e.ORDER_BANKRUP_LIMIT=3006]="ORDER_BANKRUP_LIMIT",e[e.ORDER_BANKRUP_FAST=3007]="ORDER_BANKRUP_FAST"})(n=o.MakePointType||(o.MakePointType={}));var c=function(){function e(){}return e.getUrl=function(){var e={baseUrl:i.default.httpCurApiUrl+"data/buried?",params:{uid:a.default.instance.roleData.id,gameId:i.default.apiGameName}},t=s.default.get_tokenAndTimestamp(e.params.uid);return t&&(e.params.token=t[0],e.params.timestamp=t[1]),s.default.formatParamsForHttp(e)},e.shareRecord=function(e,t,o,i,a){void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0);var s={};if(s.buriedDataEnum=e,o>0?s.backCount=o:s.shareCount=1,e==n.SHARE_MATCH_LOSE||e==n.SHARE_SIGN_MATCH||e==n.SHARE_MATCH_WIN?s.matchId=t:e!=n.SHARE_GOLD_WIN&&e!=n.SHARE_GOLD_LOSE&&e!=n.SHARE_RANKING_MATCH_WIN&&e!=n.SHARE_RANKING_MATCH_LOSE&&e!=n.SHARE_GOLD_SHOW_CARDS||(s.goldId=t),i&&(s.shareSmallId=i),a&&(s.channelId=a),this.AppBuriedDataComplexVo.shareList.length>=this.maxLength)return r.default.warn("\u5206\u4eab\u5b58\u6ee1\u4e86\uff0c\u5148\u4e0a\u4f20\u5427"),this.tempData.shareList.push(s),void this.uploadAll();if(this.isUploading)this.tempData.shareList.push(s);else{if(this.tempData.shareList.length>0){for(var c=this.tempData.shareList.length,l=0;l<c;l++)this.AppBuriedDataComplexVo.shareList.push(this.tempData.shareList[l]);this.tempData.shareList=[]}this.AppBuriedDataComplexVo.shareList.push(s)}r.default.warn("\u5206\u4eab\u8bb0\u5f55\uff1a",this.AppBuriedDataComplexVo.shareList),this.checkLength()},e.bankrupRecord=function(e,t,o,i){void 0===o&&(o=0),void 0===i&&(i=0);var a={};if(a.buriedDataEnum=e,t&&(a.bankruptcyCount=t),i&&(a.bankruptcyGiveGold=i),e==n.BANKRUP_MATCH?a.matchId=o:e!=n.BANKRUP_GOLD&&e!=n.BANKRUP_RANKING_MATCH_LOSE&&e!=n.BANKRUP_RANKING_MATCH_WIN||(a.goldId=o),this.AppBuriedDataComplexVo.bankruptcyList.length>=this.maxLength)return r.default.warn("\u7834\u4ea7\u5b58\u6ee1\u4e86\uff0c\u5148\u4e0a\u4f20\u5427"),this.tempData.bankruptcyList.push(a),void this.uploadAll();if(this.isUploading)this.tempData.bankruptcyList.push(a);else{if(this.tempData.bankruptcyList.length>0){for(var s=this.tempData.bankruptcyList.length,c=0;c<s;c++)this.AppBuriedDataComplexVo.bankruptcyList.push(this.tempData.bankruptcyList[c]);this.tempData.bankruptcyList=[]}this.AppBuriedDataComplexVo.bankruptcyList.push(a)}r.default.warn("\u7834\u4ea7\u8bb0\u5f55\uff1a",this.AppBuriedDataComplexVo.bankruptcyList),this.checkLength()},e.orderRecord=function(e,t,o,n,i){void 0===t&&(t=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i="");var a={};if(n&&(a.createCount=n),t&&(a.showCount=t),a.orderSourceType=o,""!=i&&(a.payOutOrderId=i),a.orderDataType=e,this.AppBuriedDataComplexVo.orderList.length>=this.maxLength)return r.default.warn("\u8ba2\u5355\u5b58\u6ee1\u4e86\uff0c\u5148\u4e0a\u4f20\u5427"),this.tempData.orderList.push(a),void this.uploadAll();if(this.isUploading)this.tempData.orderList.push(a);else{if(this.tempData.orderList.length>0){for(var s=this.tempData.orderList.length,c=0;c<s;c++)this.AppBuriedDataComplexVo.orderList.push(this.tempData.orderList[c]);this.tempData.orderList=[]}this.AppBuriedDataComplexVo.orderList.push(a)}r.default.warn("\u8ba2\u5355\u8bb0\u5f55\uff1a",this.AppBuriedDataComplexVo.orderList),this.checkLength()},e.checkLength=function(){this.AppBuriedDataComplexVo.shareList.length+this.AppBuriedDataComplexVo.bankruptcyList.length+this.AppBuriedDataComplexVo.orderList.length>=this.maxLength&&this.uploadAll()},e.uploadAll=function(){if(a.default.instance.roleData.id&&!this.isUploading&&(0!=this.AppBuriedDataComplexVo.bankruptcyList.length||0!=this.AppBuriedDataComplexVo.shareList.length||0!=this.AppBuriedDataComplexVo.orderList.length)){this.isUploading=!0;var e=this,t=this.getUrl(),o=JSON.stringify(this.AppBuriedDataComplexVo);e.http(t,o,function(t){e.isUploading=!1,e.AppBuriedDataComplexVo.bankruptcyList=[],e.AppBuriedDataComplexVo.orderList=[],e.AppBuriedDataComplexVo.shareList=[],r.default.warn("\u4e0a\u4f20\u5168\u90e8\u6253\u70b9\u6210\u529f\uff01")},function(){e.isUploading=!1,r.default.warn("\u4e0a\u4f20\u5168\u90e8\u6253\u70b9\u5931\u8d25\uff01")})}},e.http=function(e,t,o,n){r.default.warn(e,t);var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)if(i.responseText&&""!=i.responseText){var e=JSON.parse(i.responseText);if(r.default.log("\u6253\u70b9\u4e0a\u4f20\u8fd4\u56de\uff1a",e),!e)return n(),void r.default.error("http\u8fd4\u56de\u6570\u636e\u683c\u5f0f\u9519\u8bef\uff1a",i.responseURL,i.responseText);o(e)}else o();else n(),r.default.log("http request error:",i.status)},i.send(t)},e.AppBuriedDataComplexVo={bankruptcyList:[],orderList:[],shareList:[]},e.maxLength=30,e.isUploading=!1,e.tempData={bankruptcyList:[],orderList:[],shareList:[]},e}();o.default=c,cc._RF.pop()},{"../manager/debug":"debug","../pacakge/public/const/app_data":"app_data","../pacakge/public/model_data":"model_data","../utility/game_util":"game_util"}],marquee_component:[function(e,t,o){"use strict";cc._RF.push(t,"6133aMImVFC84TEy7yVTiaI","marquee_component");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=e("../../../../manager/event_manager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.labelPrefab=null,t.mask=null,t.offset=0,t.startOffset=0,t.endOffset=0,t.speed=100,t.tag="",t.m_availableLabelQueue=[],t.m_playingLabelQueue=[],t.m_isEmpty=!1,t.m_max_count=10,t.m_index=0,t.m_message_queue=[],t.m_playing_queue=[],t}return n(t,e),t.prototype.onload=function(){},t.prototype.start=function(){this.m_isEmpty=!0,this.bindEvent()},t.prototype.reset=function(){for(var e=0;e<this.m_playingLabelQueue.length;e++){var t=this.m_playingLabelQueue[e];t.node.active=!1,this.m_availableLabelQueue.push(t)}this.m_playingLabelQueue=[]},t.prototype.showMarquee=function(e){this.root.active=e},t.prototype.play=function(e){var t=this;t.m_playing_queue.push(e),t.showMarquee(!0);var o=e.content,n=e;t.playMessage(o,t.on_next_play.bind(t),function(){if(t&&t.root.active){t.m_playing_queue.shift();n.content;n.showCount>1&&(n.showCount--,t.play(n)),0==t.m_playing_queue.length&&t.showMarquee(!1)}})},t.prototype.on_next_play=function(){if(this&&this.root.active){var e=this.m_message_queue.shift();e?(this.play(e),this.m_isEmpty=!1):this.m_isEmpty=!0}},t.prototype.playMessage=function(e,t,o){var n=this,r=n.mask.node.width,i=n.getAvailableLabel();i.string=e;var a=.5*r+n.startOffset;i.node.position=cc.v2(a,i.node.position.y),i.node.active=!0,this.scheduleOnce(function(){var e=n.calcLabelWidth(i),s=e+r+n.startOffset-n.endOffset,c=e+n.offset,l=n.calcDuration(c),u=n.calcDuration(s-c),p=a-c,f=-s+a,h=cc.callFunc(function(){t&&t()}.bind(n)),d=cc.callFunc(function(){i.node.active=!1,n.addToAvailableLabel(i),o&&o()}.bind(n)),_=cc.moveTo(l,p,0),m=cc.moveTo(u,f,0),y=cc.sequence([_,h,m,d]);i.node.runAction(y)})},t.prototype.messageFilter=function(e){return e.tag==this.tag},t.prototype.getAvailableLabel=function(){var e=this.m_availableLabelQueue.shift();return e||(e=this.cloneLabel()),e},t.prototype.cloneLabel=function(){var e=cc.instantiate(this.labelPrefab.node);return e.parent=this.labelPrefab.node.parent,e.position=this.labelPrefab.node.position,e.scale=this.labelPrefab.node.scale,e.getComponent(cc.RichText)},t.prototype.addToAvailableLabel=function(e){this.m_availableLabelQueue.push(e)},t.prototype.calcLabelWidth=function(e){return e.node.width},t.prototype.calcDuration=function(e){return e/this.speed},t.prototype.on_msg_coming=function(e){this.m_isEmpty?(this.m_isEmpty=!1,cc.log("paly__msg"),this.play(e)):(this.m_index++,e._index=this.m_index,cc.log("push__msg"),this.m_message_queue.push(e),this.sortQueue(),this.cutQueue())},t.prototype.cutQueue=function(){this.m_message_queue.length>this.m_max_count&&this.m_message_queue.splice(this.m_max_count,this.m_message_queue.length-this.m_max_count)},t.prototype.sortQueue=function(){this.m_message_queue.sort(function(e,t){return e.level==t.level?e._index-t._index:e.level-t.level})},t.prototype.bindEvent=function(){c.default.instance.on("Event_Notify_Data",this.on_msg_coming,this,!0)},t.prototype.unbindEvent=function(){c.default.instance.off("Event_Notify_Data",this.on_msg_coming,this)},t.prototype.onDisable=function(){this.unbindEvent()},t.prototype.onDestroy=function(){this.unbindEvent()},r([s(cc.Node)],t.prototype,"root",void 0),r([s(cc.RichText)],t.prototype,"labelPrefab",void 0),r([s(cc.Mask)],t.prototype,"mask",void 0),r([s(cc.Float)],t.prototype,"offset",void 0),r([s(cc.Float)],t.prototype,"startOffset",void 0),r([s(cc.Float)],t.prototype,"endOffset",void 0),r([s(cc.Float)],t.prototype,"speed",void 0),r([s(cc.String)],t.prototype,"tag",void 0),t=r([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../../manager/event_manager":"event_manager"}],md5:[function(e,t,o){"use strict";cc._RF.push(t,"52eb7EciQ5DNKBHipWzNpaq","md5"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,o){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),o)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var o=this.rstr2binl(e);o.length>16&&(o=this.binl_md5(o,8*e.length));for(var n=Array(16),r=Array(16),i=0;i<16;i++)n[i]=909522486^o[i],r[i]=1549556828^o[i];var a=this.binl_md5(n.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(r.concat(a),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(e){this.hexcase=0}for(var t,o=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<e.length;r++)t=e.charCodeAt(r),n+=o.charAt(t>>>4&15)+o.charAt(15&t);return n},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(e){this.b64pad=""}for(var t="",o=e.length,n=0;n<o;n+=3)for(var r=e.charCodeAt(n)<<16|(n+1<o?e.charCodeAt(n+1)<<8:0)|(n+2<o?e.charCodeAt(n+2):0),i=0;i<4;i++)8*n+6*i>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-i)&63);return t},e.prototype.rstr2any=function(e,t){var o,n,r,i,a,s=t.length,c=Array(Math.ceil(e.length/2));for(o=0;o<c.length;o++)c[o]=e.charCodeAt(2*o)<<8|e.charCodeAt(2*o+1);var l=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),u=Array(l);for(n=0;n<l;n++){for(a=Array(),i=0,o=0;o<c.length;o++)i=(i<<16)+c[o],i-=(r=Math.floor(i/s))*s,(a.length>0||r>0)&&(a[a.length]=r);u[n]=i,c=a}var p="";for(o=u.length-1;o>=0;o--)p+=t.charAt(u[o]);return p},e.prototype.str2rstr_utf8=function(e){for(var t,o,n="",r=-1;++r<e.length;)t=e.charCodeAt(r),o=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=o&&o<=57343&&(t=65536+((1023&t)<<10)+(1023&o),r++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n},e.prototype.str2rstr_utf16le=function(e){for(var t="",o=0;o<e.length;o++)t+=String.fromCharCode(255&e.charCodeAt(o),e.charCodeAt(o)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",o=0;o<e.length;o++)t+=String.fromCharCode(e.charCodeAt(o)>>>8&255,255&e.charCodeAt(o));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),o=0;o<t.length;o++)t[o]=0;for(o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t},e.prototype.binl2rstr=function(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,n=-271733879,r=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=o,c=n,l=r,u=i;o=this.md5_ff(o,n,r,i,e[a+0],7,-680876936),i=this.md5_ff(i,o,n,r,e[a+1],12,-389564586),r=this.md5_ff(r,i,o,n,e[a+2],17,606105819),n=this.md5_ff(n,r,i,o,e[a+3],22,-1044525330),o=this.md5_ff(o,n,r,i,e[a+4],7,-176418897),i=this.md5_ff(i,o,n,r,e[a+5],12,1200080426),r=this.md5_ff(r,i,o,n,e[a+6],17,-1473231341),n=this.md5_ff(n,r,i,o,e[a+7],22,-45705983),o=this.md5_ff(o,n,r,i,e[a+8],7,1770035416),i=this.md5_ff(i,o,n,r,e[a+9],12,-1958414417),r=this.md5_ff(r,i,o,n,e[a+10],17,-42063),n=this.md5_ff(n,r,i,o,e[a+11],22,-1990404162),o=this.md5_ff(o,n,r,i,e[a+12],7,1804603682),i=this.md5_ff(i,o,n,r,e[a+13],12,-40341101),r=this.md5_ff(r,i,o,n,e[a+14],17,-1502002290),n=this.md5_ff(n,r,i,o,e[a+15],22,1236535329),o=this.md5_gg(o,n,r,i,e[a+1],5,-165796510),i=this.md5_gg(i,o,n,r,e[a+6],9,-1069501632),r=this.md5_gg(r,i,o,n,e[a+11],14,643717713),n=this.md5_gg(n,r,i,o,e[a+0],20,-373897302),o=this.md5_gg(o,n,r,i,e[a+5],5,-701558691),i=this.md5_gg(i,o,n,r,e[a+10],9,38016083),r=this.md5_gg(r,i,o,n,e[a+15],14,-660478335),n=this.md5_gg(n,r,i,o,e[a+4],20,-405537848),o=this.md5_gg(o,n,r,i,e[a+9],5,568446438),i=this.md5_gg(i,o,n,r,e[a+14],9,-1019803690),r=this.md5_gg(r,i,o,n,e[a+3],14,-187363961),n=this.md5_gg(n,r,i,o,e[a+8],20,1163531501),o=this.md5_gg(o,n,r,i,e[a+13],5,-1444681467),i=this.md5_gg(i,o,n,r,e[a+2],9,-51403784),r=this.md5_gg(r,i,o,n,e[a+7],14,1735328473),n=this.md5_gg(n,r,i,o,e[a+12],20,-1926607734),o=this.md5_hh(o,n,r,i,e[a+5],4,-378558),i=this.md5_hh(i,o,n,r,e[a+8],11,-2022574463),r=this.md5_hh(r,i,o,n,e[a+11],16,1839030562),n=this.md5_hh(n,r,i,o,e[a+14],23,-35309556),o=this.md5_hh(o,n,r,i,e[a+1],4,-1530992060),i=this.md5_hh(i,o,n,r,e[a+4],11,1272893353),r=this.md5_hh(r,i,o,n,e[a+7],16,-155497632),n=this.md5_hh(n,r,i,o,e[a+10],23,-1094730640),o=this.md5_hh(o,n,r,i,e[a+13],4,681279174),i=this.md5_hh(i,o,n,r,e[a+0],11,-358537222),r=this.md5_hh(r,i,o,n,e[a+3],16,-722521979),n=this.md5_hh(n,r,i,o,e[a+6],23,76029189),o=this.md5_hh(o,n,r,i,e[a+9],4,-640364487),i=this.md5_hh(i,o,n,r,e[a+12],11,-421815835),r=this.md5_hh(r,i,o,n,e[a+15],16,530742520),n=this.md5_hh(n,r,i,o,e[a+2],23,-995338651),o=this.md5_ii(o,n,r,i,e[a+0],6,-198630844),i=this.md5_ii(i,o,n,r,e[a+7],10,1126891415),r=this.md5_ii(r,i,o,n,e[a+14],15,-1416354905),n=this.md5_ii(n,r,i,o,e[a+5],21,-57434055),o=this.md5_ii(o,n,r,i,e[a+12],6,1700485571),i=this.md5_ii(i,o,n,r,e[a+3],10,-1894986606),r=this.md5_ii(r,i,o,n,e[a+10],15,-1051523),n=this.md5_ii(n,r,i,o,e[a+1],21,-2054922799),o=this.md5_ii(o,n,r,i,e[a+8],6,1873313359),i=this.md5_ii(i,o,n,r,e[a+15],10,-30611744),r=this.md5_ii(r,i,o,n,e[a+6],15,-1560198380),n=this.md5_ii(n,r,i,o,e[a+13],21,1309151649),o=this.md5_ii(o,n,r,i,e[a+4],6,-145523070),i=this.md5_ii(i,o,n,r,e[a+11],10,-1120210379),r=this.md5_ii(r,i,o,n,e[a+2],15,718787259),n=this.md5_ii(n,r,i,o,e[a+9],21,-343485551),o=this.safe_add(o,s),n=this.safe_add(n,c),r=this.safe_add(r,l),i=this.safe_add(i,u)}return[o,n,r,i]},e.prototype.md5_cmn=function(e,t,o,n,r,i){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(n,i)),r),o)},e.prototype.md5_ff=function(e,t,o,n,r,i,a){return this.md5_cmn(t&o|~t&n,e,t,r,i,a)},e.prototype.md5_gg=function(e,t,o,n,r,i,a){return this.md5_cmn(t&n|o&~n,e,t,r,i,a)},e.prototype.md5_hh=function(e,t,o,n,r,i,a){return this.md5_cmn(t^o^n,e,t,r,i,a)},e.prototype.md5_ii=function(e,t,o,n,r,i,a){return this.md5_cmn(o^(t|~n),e,t,r,i,a)},e.prototype.safe_add=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();o.default=n,cc._RF.pop()},{}],memory_storage:[function(e,t,o){"use strict";cc._RF.push(t,"1cb3buY7ipK8K9rO7CHKztj","memory_storage"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./debug"),r=function(){function e(){}return e.setKeyValue=function(e,t){this.m_map[e]=t},e.getValue=function(e){return this.m_map[e]},e.setStorageNumber=function(e,t){this.m_map[e]=t},e.setStorageString=function(e,t){this.setKeyValue(e,t)},e.setStorage=function(e,t){this.setKeyValue(e,t)},e.setNumber=function(e,t){this.setKeyValue(e,t)},e.getNumber=function(e,t){try{return this.getValue(e)||t}catch(t){n.default.warn(e,t)}},e.setJson=function(e,t){try{this.setKeyValue(e,JSON.stringify(t))}catch(t){n.default.warn(e,t)}},e.getJson=function(e){try{var t=this.getString(e);return null==t||""==t?null:JSON.parse(t)}catch(t){n.default.warn(e,t)}},e.setString=function(e,t){try{this.setKeyValue(e,t)}catch(t){n.default.warn(e,t)}},e.getString=function(e,t){try{var o=this.getValue(e);return null==o||""==o?null!=t?t:null:o}catch(e){}},e.setItem=function(e,t){try{this.setKeyValue(e,t)}catch(t){n.default.warn(e,t)}},e.getItem=function(e){try{return this.getValue(e)}catch(t){n.default.warn(e,t)}},e.hasItem=function(e){return!!this.getValue(e)},e.m_map={},e}();o.default=r,cc._RF.pop()},{"./debug":"debug"}],menu_scroll_widget:[function(e,t,o){"use strict";cc._RF.push(t,"ce80ezWIChCiaUGNIGYWy5W","menu_scroll_widget");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../const/app_data"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moduleNode=null,t.leftWidget=null,t.scrollWidget=null,t._leftWidget_left=0,t._scrollWidget_left=0,t._scrollWidget_right=0,t}return n(t,e),t.prototype.onLoad=function(){this._leftWidget_left=this.leftWidget.left,this._scrollWidget_left=this.scrollWidget.left,this._scrollWidget_right=this.scrollWidget.right},t.prototype.refreshUI=function(){if(i.default.isIphoneX){var e=this.moduleNode.getComponent(cc.Widget);e&&e.updateAlignment(),this.leftWidget.left=this._leftWidget_left+i.default.iphonexOffset,this.scrollWidget.left=this._scrollWidget_left+i.default.iphonexOffset,this.scrollWidget.right=this._scrollWidget_right+i.default.iphonexOffset,this.leftWidget.updateAlignment(),this.scrollWidget.updateAlignment()}},r([c(cc.Node)],t.prototype,"moduleNode",void 0),r([c(cc.Widget)],t.prototype,"leftWidget",void 0),r([c(cc.Widget)],t.prototype,"scrollWidget",void 0),t=r([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../const/app_data":"app_data"}],mirror_shader:[function(e,t,o){"use strict";cc._RF.push(t,"f985dUYgMNIh5IyNopN/Fhf","mirror_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Mirror",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 c = color * texture2D(texture, uv0);\n        c.r *= 0.5;\n        c.g *= 0.8;\n        c.b += c.a * 0.2;\n        gl_FragColor = c;\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Mirror")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],model_base:[function(e,t,o){"use strict";cc._RF.push(t,"c62f3zvzC5DlIQRt0wwayzr","model_base"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../module_manager"),r=function(){function e(){this._msgEventMap={},this.isDestroyed=!1}return e.prototype.send=function(e,t){var o=new Date;cc.log(o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+" [pomelo]:\u53d1\u9001\u6d88\u606f:",e,t),this.netClient.send(e,t||{})},e.prototype.registerNetMsg=function(e,t,o){void 0===o&&(o=!0);var n=this,r=this._msgEventMap[e];r||(r=[],this._msgEventMap[e]=r);var i=function(e){t&&(o?t(e):n.isDestroyed||t(e))},a={msgName:e,callback:i};r.push(a),this.netClient.on(e,i)},e.prototype.clearMsgEvent=function(){for(var e in this._msgEventMap)if(this._msgEventMap.hasOwnProperty(e))for(var t=this._msgEventMap[e],o=0;o<t.length;o++){var n=t[o];this.netClient.off(n.msgName,n.callback)}this._msgEventMap={}},e.prototype.destroyModel=function(){this.clearMsgEvent()},e.prototype.showNetPrompt=function(e){e?n.default.instance.showModuleName("NetPrompt"):n.default.instance.hideModule("NetPrompt")},e}();o.default=r,cc._RF.pop()},{"../module_manager":"module_manager"}],model_data:[function(e,t,o){"use strict";cc._RF.push(t,"8c591+J8GRIj682CwTdouRO","model_data"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.clubID=null,this.playwayId=null,this.tableId=null}return e.instance=new e,e}();o.default=n,cc._RF.pop()},{}],module_base:[function(e,t,o){"use strict";cc._RF.push(t,"8ab65/rzfxAr6d+ndd40Yan","module_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a=e("../../../utility/game_util"),s=e("../module_manager"),c=e("../../../manager/debug"),l=e("./mvvm_base"),u=e("../../../utility/Utility"),p=cc._decorator,f=p.ccclass;p.property;(function(e){e[e.Low=0]="Low",e[e.Mid=1]="Mid",e[e.High=2]="High",e[e.Highest=3]="Highest"})(i=o.ViewLayer||(o.ViewLayer={})),o.moduleTypeNames={},o.preloadResUrls=[],o.bindButtonClickEvent=function(e,t){return function(o,n,r){o.onButtonClickEventFunctions=o.onButtonClickEventFunctions?o.onButtonClickEventFunctions:{},o.onButtonClickEventFunctions[e]={},o.onButtonClickEventFunctions[e].func=n,o.onButtonClickEventFunctions[e].closeSound=t}},o.moduleInit=function(e,t,n){return function(n){n.moduleClassName=e,n.packageName=t,o.moduleTypeNames[e]=n}},o.subscribeMsg=function(e,t){return void 0===t&&(t=!1),function(o,n,r){var i={};i.ignoreModuleActive=t,i.mapData=e,i.propertyName=n,o.subscribeMsgList=o.subscribeMsgList?o.subscribeMsgList:[],o.subscribeMsgList.push(i)}},o.implementFunction=function(e){return function(t,o){t[e]=t[o]}};var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickAnywhereClose=!0,t.needAnim=!1,t.needViewMask=!1,t._viewMask=null,t.needViewBaseBg=!1,t._viewBaseBg=null,t.needViewBaseCloseBtn=!1,t._viewBaseCloseBtn=null,t.needViewBaseTitleBg=!1,t._viewBaseTitleBg=null,t.layer=i.Low,t.waitDealQueue=[],t.mPrefab=null,t.autoShowAnim=!0,t}return n(t,e),Object.defineProperty(t.prototype,"showId",{get:function(){return this.moduleType._showId},enumerable:!0,configurable:!0}),t.prototype.onShow=function(e){this.DealAllWaitDealQueue()},t.prototype.onHide=function(){},t.prototype.resetModule=function(){},t.prototype.onInit=function(e){},t.prototype.onModuleInit=function(e){},t.prototype.on_destroy=function(){},t.prototype.resetInit=function(e,t,o){this.intentData=t,null!=this.modelType&&(this.model=new this.modelType,this.model.module=this);var n=e.getComponent(this.viewType);this.view=n,n._moduleBase=this,this.isInited=!0,this.onInit(this.intentData),this.show(this.intentData,o)},t.prototype.init=function(e,t){var o=this;this.setShowState(!0),this.intentData=e,null!=this.modelType&&(this.model=new this.modelType,this.model.module=this),this.onModuleInit(e),this.loadViewMask();var n=(new Date).getTime();cc.log("\u8bf7\u6c42\u52a0\u8f7d\u6a21\u5757prefab:",this.windowPrefabResPath);var r;(r=s.default.instance.moduleHasActive("NetPrompt"))||"NetPrompt"==this.moduleName||s.default.instance.showModuleName("NetPrompt",{showImmediately:!0}),this.loadRes(this.windowPrefabResPath,function(e,i){if(cc.log("\u52a0\u8f7d\u6a21\u5757prefab\u8fd4\u56de\uff1a",o.windowPrefabResPath,((new Date).getTime()-n)/1e3+"S"),r||"NetPrompt"==o.moduleName||s.default.instance.hideModule("NetPrompt"),e)c.default.warn("load module prefab error:",o.windowPrefabResPath);else if((new Date).getTime()-n>15e3)cc.log("\u52a0\u8f7d\u6a21\u5757prefab\u8d85\u65f6\uff1a",o.windowPrefabResPath);else if(!o.isDestroyed&&o.node){if(o.view&&o.view.node)return c.default.log(o.moduleName," \u6a21\u5757\u5df2\u7ecf\u52a0\u8f7d\u8fc7\u4e86"),!o.isShowState&&o.isHide?(o.node.active=!1,void c.default.warn(o.moduleName,"\u6700\u540e\u7684\u72b6\u6001\u662f\u9690\u85cf\uff01\uff01\uff01\uff01")):void o.show(o.intentData,t);var a=cc.instantiate(i);o.mPrefab=i,cc.loader.setAutoReleaseRecursively(i,!0),o.node.addChild(a);var l=a.getComponent(o.viewType);o.view=l,o.loadBaseBg(),l._moduleBase=o;var u=a.addComponent(cc.Widget);if(u.isAlignTop=!0,u.isAlignBottom=!0,u.isAlignLeft=!0,u.isAlignRight=!0,u.target=o.node.parent,u.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,o.isInited||o.onInit(o.intentData),o.isInited=!0,!o.isShowState&&o.isHide)return o.node.active=!1,void c.default.error(o.moduleName,"\u6700\u540e\u7684\u72b6\u6001\u662f\u9690\u85cf\uff01\uff01\uff01\uff01");o.show(o.intentData,t)}else c.default.log(o.moduleName," \u6a21\u5757\u5df2\u7ecf\u88ab\u9500\u6bc1")})},t.prototype.loadViewMask=function(){var e=this;if(this.needViewMask&&null==this._viewMask){var t=new cc.Node;t.name="mask",t.parent=this.node,t.scale=1;var o=t.addComponent(cc.Sprite);t.addComponent(cc.Button).node.on("click",function(){e.clickAnywhereClose&&e.hide()},this),o.type=cc.Sprite.Type.SLICED,t.opacity=190,this._viewMask=t,t.active=!1,a.default.loadRes("image/mask",function(e,n){if(e)c.default.warn("load mask error:",e);else if(o&&o.isValid&&(o.spriteFrame=n),t&&t.isValid){var r=t.addComponent(cc.Widget);r.isAlignTop=!0,r.isAlignBottom=!0,r.isAlignLeft=!0,r.isAlignRight=!0,r.target=t.parent.parent,r.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE}},cc.SpriteFrame)}},t.prototype.loadBaseBg=function(e){var t=this,o=function(e,o){o?(e.active=!0,e.on("click",t.on_click_base_close_btn,t)):(e.active=!1,e.off("click",t.on_click_base_close_btn,t))};t.needViewBaseBg?t._viewBaseBg?(t._viewBaseBg.active=!0,t._viewBaseTitleBg.active=!!t.needViewBaseTitleBg,o(t._viewBaseCloseBtn,t.needViewBaseCloseBtn),e&&e()):a.default.loadRes("package/hall/module/base_bg/base_bg",function(n,r){if(n)c.default.warn("load mask error:",n);else if(r&&r.isValid){var i=cc.instantiate(r);t._viewBaseBg=i,i.parent=t.view.node,i.zIndex=-1,i.position=cc.Vec2.ZERO,i.active=!0;var a=cc.find("_baseCloseBtn",i),s=cc.find("title_bg",i);t._viewBaseCloseBtn=a,t._viewBaseTitleBg=s,t._viewBaseTitleBg.active=!!t.needViewBaseTitleBg,o(a,t.needViewBaseCloseBtn),e&&e()}},cc.Prefab):(t._viewBaseBg&&(t._viewBaseBg.active=!1,t._viewBaseTitleBg.active=!!t.needViewBaseTitleBg,o(t._viewBaseCloseBtn,!1)),e&&e())},t.prototype.on_click_base_close_btn=function(e){u.default.instance.playButtonSound(),this.hide()},t.prototype.show=function(e,t){if(++this.moduleType._showId,c.default.warn("Module ShowId\uff1a",this.moduleName,this.moduleType._showId),!this.isInited)return this.init(e,t),void cc.error("\u6253\u5f00\u6a21\u5757(\u4e0a\u6b21\u6253\u5f00\u8d44\u6e90\u672a\u52a0\u8f7d\u6210\u529f)\uff1a",this.moduleName,this.windowPrefabResPath);this.setShowState(!0),this.intentData=e,this.completeCallback=t,this.isDestroyed?cc.error("\u6253\u5f00\u6a21\u5757(view\u5df2\u7ecf\u9500\u6bc1)\uff1a",this.moduleName,this.windowPrefabResPath):(this.node.active||(this.node.active=!0),this.isHide=!1,this.onShow(e),this.view.onShow(e),e&&"string"==typeof e&&"tips"==e?(this.view.node.active=!1,this._viewMask&&(this._viewMask.active=!1)):this.autoShowAnim&&this.showAnim(!0),this.completeCallback&&this.completeCallback(this,!0))},t.prototype.showLayerTop=function(){this.node.setSiblingIndex(this.node.parent.childrenCount-1)},t.prototype.showAnim=function(e){void 0===e&&(e=!0),this.view&&(this._viewMask&&0==this._viewMask.active&&(this._viewMask.active=!0),this.needAnim?e?s.default.instance.playAnim(!0,this.view.node,this._viewMask,this.scheduleShow.bind(this)):s.default.instance.playAnim(!1,this.view.node,this._viewMask,this.scheduleHide.bind(this)):e?this.scheduleShow():this.scheduleHide())},t.prototype.showNetPrompt=function(e){e?s.default.instance.showModuleName("NetPrompt"):s.default.instance.hideModule("NetPrompt")},t.prototype.scheduleShow=function(){this.view&&(this.view.node.scale=1)},t.prototype.scheduleHide=function(){this.node&&(this.node.active&&(this.node.active=!1),this.onHide())},t.prototype.hide=function(){this.isHide=!0,this.setShowState(!1),this.CleanWaitDealQueue(),this.node.active&&(c.default.warn("hidePrefab",this.node.name),this.node.active=!1),this.onHide()},t.prototype.setShowState=function(e){this.isShowState=e},t.prototype.destroyModule=function(e){this.node.destroy(),this.node.active=!1,this.isHide=!0,this.on_destroy(),this.view&&(c.default.warn("destroyView",this.view.node.name),this.view.destroyView(),this.view.unscheduleAllCallbacks(),this.view.on_destroy(),this.view=null),this.model&&this.model.destroyModel(),this.unscheduleAllCallbacks(),this.setShowState(!1),this._baseDestroy(),this.isDestroyed=!0,e&&this.mPrefab},t.prototype.AddToWaitDealQueue=function(e){this.waitDealQueue.push(e)},t.prototype.AddHandleToWaitDealQueue=function(e,t,o){var n={handle:e,target:o,data:t};this.AddToWaitDealQueue(n)},t.prototype.GetWaitDealQueueHead=function(){return this.waitDealQueue.length>0?this.waitDealQueue.shift():null},t.prototype.DealAllWaitDealQueue=function(){for(var e in this.waitDealQueue)if(this.waitDealQueue.hasOwnProperty(e)){var t=this.waitDealQueue[e];if(t.handle){var o=t.handle;t.target&&(o=o.bind(t.target)),o(t.data)}}this.CleanWaitDealQueue()},t.prototype.CleanWaitDealQueue=function(){this.waitDealQueue=[]},t.prototype._ButtonClick=function(e,t){var o=e.name,n=this.onButtonClickEventFunctions?this.onButtonClickEventFunctions[o]:null;n&&n.closeSound||u.default.instance.playButtonSound(),n&&this[n.func](e,t),this.onButtonClick(e,t),this.onButtonClickName(o,t,e)},t.prototype.onButtonClick=function(e,t){},t.prototype.onButtonClickName=function(e,t,o){},t._showId=0,t=r([f],t)}(l.default);o.default=h,cc._RF.pop()},{"../../../manager/debug":"debug","../../../utility/Utility":"utility","../../../utility/game_util":"game_util","../module_manager":"module_manager","./mvvm_base":"mvvm_base"}],module_data:[function(e,t,o){"use strict";cc._RF.push(t,"7d1b4L7MFJPrp5UU52Y2GD/","module_data"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../framework/core/module_manager"),r=function(){function e(){this.backFromTable=!0,this.curMatchId=0,this.curGoldId=0,this.curMatchStageNum=0,this.curMatchData=null,this.curGoldData=null}return e.prototype.setCurGoldId=function(e){this.curGoldId=e},e.prototype.getCurGoldId=function(){return this.curGoldId},e.prototype.getCurMatchId=function(){return this.curMatchId},e.prototype.isBackFromTable=function(){return this.backFromTable},e.prototype.setBackFromTable=function(e){this.backFromTable=e},e.prototype.gotoMatch=function(){this.setBackFromTable(!0),this.curMatchData},e.prototype.isTableModuleActive=function(){},e.prototype.gotoMatchingTableModule=function(e,t){this.beginEnterTableModule(),n.default.instance.showModuleName("TableMatchModule")},e.prototype.beginEnterTableModule=function(){},e.prototype.destoryHallModule=function(){},e.instance=new e,e}();o.default=r,cc._RF.pop()},{"../../../framework/core/module_manager":"module_manager"}],module_manager:[function(e,t,o){"use strict";cc._RF.push(t,"9ded2b3DhZEs4JwmnaGvQHb","module_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./mvvm/module_base"),a=e("../../manager/debug"),s=e("../../utility/game_util"),c=e("../../manager/language_manager"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._asynPath=["package/public/public_netprompt","package/public/public_toast","package/hall/hall"],t._asynLoadResCount=0,t.allwaysInMemory=["NetPrompt","Toast","Hall"],t._modules={},t._removeModules={},t.low=null,t.middle=null,t.high=null,t.highest=null,t}var l;return n(o,e),l=o,o.prototype.onLoad=function(){l.instance=this},o.prototype.registModule=function(e,t){i.moduleTypeNames[e]=t},o.prototype.addModule=function(e,t,o,n){var r=t,s=this._modules[r];if(null==s){var c=new cc.Node;c.name=r;var l=c.addComponent(cc.Widget);if(l.isAlignTop=!0,l.isAlignBottom=!0,l.isAlignLeft=!0,l.isAlignRight=!0,l.alignMode=cc.Widget.AlignMode.ONCE,null==(s=c.addComponent(e)))return a.default.warn("addModule\u5931\u8d25\uff1a"+r),null;switch(s.moduleType=e,s.moduleName=r,s.layer){case i.ViewLayer.Low:c.width=this.low.width,this.low.addChild(c);break;case i.ViewLayer.Mid:c.width=this.middle.width,this.middle.addChild(c);break;case i.ViewLayer.High:c.width=this.high.width,this.high.addChild(c);break;case i.ViewLayer.Highest:c.width=this.highest.width,this.highest.addChild(c);break;default:c.width=this.low.width,this.low.addChild(c)}this._modules[r]=s,s.node.setSiblingIndex(s.node.parent.childrenCount-1),s.init(o,n)}return s},o.prototype.goToModule=function(e,t,o,n){var r=this,i=e.moduleClassName;this.showModule(e,t,function(){r.hideAllModuleS(i,!0),o&&o()},n)},o.prototype.showModule=function(e,t,o,n){var r=e.moduleClassName;if(r){if(a.default.warn("showModule: "+r),"GamePlayerInfoModule"!=r){if(null!=n&&""!=n){var i=this._modules[n];if(null!=i)i.resetModule(),i.node.childrenCount>0||(this._modules[r]=null)}var s=r,c=this._modules[s];return null==c?c=this.addModule(e,r,t,o):(c.node.setSiblingIndex(c.node.parent.childrenCount-1),c.show(t,o)),c}}else console.error("\u8bf7\u5728\u6a21\u5757Module\u7c7b\u4e2d\u6dfb\u52a0@moduleClassName('\u6a21\u5757\u7684\u7c7b\u540d')\u88c5\u9970\u5668",e)},o.prototype.showModuleName=function(e,t,o,n){a.default.warn("showModuleName\uff1a"+e);var r=null;if(null!=n&&""!=n){var s=this._modules[n];if(null!=s)s.resetModule(),s.node.childrenCount>0||(this._modules[e]=null)}if(null==(r=this._modules[e]))if(i.moduleTypeNames[e]){var c=i.moduleTypeNames[e];r=this.addModule(c,e,t,o)}else cc.error("showModuleName\u6ca1\u627e\u5230\u5bf9\u5e94\u7684class\uff1a",e);else r.node.setSiblingIndex(r.node.parent.childrenCount-1),r.show(t,o);return r},o.prototype.toastLong=function(e){var o={text:e,long:!0};return this.showModuleName("Toast",o),t},o.prototype.toast=function(e){return this.showModuleName("Toast",e),t},o.prototype.toastKey=function(e){return this.showModuleName("Toast",c.default.t(e,!0)),t},o.prototype.showDialog_Confirm=function(e,t,o,n){},o.prototype.showDialog_CancelConfirm=function(e,t,o,n,r){},o.prototype.moduleHasActive=function(e){var t=this._modules[e];if(t)return t.nodeIsActive},o.prototype.moduleLayerType=function(e){var t=this._modules[e];if(t)return t.layer},o.prototype.setModuleActive=function(e,t){var o=this._modules[e];o?o.setActive():t&&this.showModuleName(e)},o.prototype.getModule=function(e){return this._modules[e]},o.prototype.getModuleFromType=function(e){var t=e.moduleClassName;if(t)return this.getModule(t);a.default.error("\u8bf7\u5728\u6a21\u5757Module\u7c7b\u4e2d\u6dfb\u52a0@moduleClassName('\u6a21\u5757\u7684\u7c7b\u540d')\u88c5\u9970\u5668",e)},o.prototype.hideModule=function(e){var t=this._modules[e];t&&(a.default.warn("hideModule\uff1a",e),t.hide())},o.prototype.hideAllModuleS=function(e,t){for(var o in this._modules){var n=this._modules[o];null==n||e&&n.moduleName&&e==n.moduleName||(t?(a.default.warn("hideModule\uff1a",n.moduleName),n.hide()):"public"!=n.package&&n.hide())}},o.prototype.hideAllModule=function(e){var t=["Toast","NetPrompt"];if(e)if(e instanceof Array)for(var o=0;o<e.length;o++)t.push(e[o]);else"string"==typeof e&&t.push(e);for(var n in this._modules){var r=!0;for(o=0;o<t.length;o++)if(n==t[o]){r=!1;break}r&&this.hideModule(n)}},o.prototype.removeModule=function(e,t){var o=this._modules[e];return o&&(a.default.warn("removeModule\uff1a",e),this._modules[e]=null,this._removeModules[e]=o),o},o.prototype.destroyRemoveModule=function(e,t){void 0===t&&(t=!1);var o=this._removeModules[e];return o&&(a.default.warn("destroyRemoveModule\uff1a",e),o.destroyModule(t),this._removeModules[e]=null),o},o.prototype.destroyModule=function(e,t){void 0===t&&(t=!0);var o=this._modules[e];o&&(a.default.warn("destroyModule\uff1a",e),o.destroyModule(t),this._modules[e]=null)},o.prototype.destroyAllModule=function(e,t){void 0===t&&(t=!0);var o=e?this.allwaysInMemory.concat(e):this.allwaysInMemory;for(var n in this._modules){for(var r=!0,i=0;i<o.length;i++){if(o[i]==n){r=!1;break}}r&&this.destroyModule(n,t)}this.hideModule("Dialog")},o.prototype.destroyPackage=function(e){var t;for(var o in this._modules){this._modules[o].packageName==e&&(t=t||[]).push(o)}if(t)for(var n in t)this.destroyModule(n)},o.prototype.hidePackage=function(e){for(var t in this._modules){var o=this._modules[t];o.packageName==e&&o.hide()}},o.prototype.playAnim=function(e,t,o,n){if(e){t.active=!0,t.scale=.9;var r=cc.scaleTo(.2,1);if(r.easing(cc.easeBackOut()),t.runAction(r),o){o.active=!0;var i=cc.fadeTo(.3,190);o.runAction(i)}this.scheduleOnce(function(){n&&n()},.1)}else t&&t.isValid&&(t.active=!1),o&&(o.active=!1),n&&n()},o.prototype.addPreloadResUrl=function(e){},o.prototype.preLoadRes=function(e,t){var o=this;if(o._asynLoadResCount<o._asynPath.length){var n=o._asynPath[o._asynLoadResCount];s.default.loadRes(n,function(r,i){++o._asynLoadResCount,r?a.default.error(r):a.default.log("\u9884\u52a0\u8f7d\u8d44\u6e90\u6210\u529f\uff1a",n),o.preLoadRes(e,t),t&&t(o._asynLoadResCount,o._asynPath.length)})}else e&&e()},r([p(cc.Node)],o.prototype,"low",void 0),r([p(cc.Node)],o.prototype,"middle",void 0),r([p(cc.Node)],o.prototype,"high",void 0),r([p(cc.Node)],o.prototype,"highest",void 0),o=l=r([u],o)}(cc.Component);o.default=f,cc._RF.pop()},{"../../manager/debug":"debug","../../manager/language_manager":"language_manager","../../utility/game_util":"game_util","./mvvm/module_base":"module_base"}],mosaic_shader:[function(e,t,o){"use strict";cc._RF.push(t,"86f4e6MSZ9BNY0YM3OiLfNF","mosaic_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc.renderer.renderEngine.renderer,s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Mosaic",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float mosaicSize;\n    varying vec2 uv0;\n     \n    void main(void)\n    {\n        vec4 color;\n        vec2 xy = vec2(uv0.x * iResolution.x, uv0.y * iResolution.y);\n        vec2 xyMosaic = vec2(floor(xy.x / mosaicSize) * mosaicSize, floor(xy.y / mosaicSize) * mosaicSize);\n        vec2 xyFloor = vec2(floor(mod(xy.x, mosaicSize)), floor(mod(xy.y, mosaicSize)));\n        vec2 uvMosaic = vec2(xyMosaic.x / iResolution.x, xyMosaic.y / iResolution.y);\n        color = texture2D( texture, uvMosaic);\n        gl_FragColor = color; \n    }",t._defines=[],t._params=[{name:"iResolution",type:a.PARAM_FLOAT3},{name:"mosaicSize",type:a.PARAM_FLOAT}],t._needUpdate=!0,t}return n(t,e),t.prototype.setParamValue=function(e){var t=new cc.Vec3(this.node.width,this.node.height,0);e.setParamValue("iResolution",t),e.setParamValue("mosaicSize",16)},t=r([c,l("custom/Shader/Mosaic")],t)}(i.default);o.default=u,cc._RF.pop()},{"./shader_component":"shader_component"}],mvvm_base:[function(e,t,o){"use strict";cc._RF.push(t,"e433aAuN1xOHKn/VUKkKAtc","mvvm_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../utility/game_util"),a=e("../../../manager/event_manager"),s=e("../../../manager/audio_manager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDestroyed=!1,t.m_maxId=0,t}return n(t,e),Object.defineProperty(t.prototype,"nodeIsActive",{get:function(){return!(!this.isInited||null==this.node||!cc.isValid(this.node,!0))&&this.node.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeIsValid",{get:function(){return!(null==this.node||!cc.isValid(this.node,!0))},enumerable:!0,configurable:!0}),t.prototype.setActive=function(){null!=this.node&&cc.isValid(this.node,!0)&&(this.node.active=!0)},Object.defineProperty(t.prototype,"normalShow",{get:function(){return!this.isDestroyed&&!this.isHide},enumerable:!0,configurable:!0}),t.prototype.loadRes=function(e,t,o,n){var r=this;i.default.loadRes(e,function(e,o){r.isDestroyed||e||!t||t(e,o)},o,n)},t.prototype.playSound=function(e,t,o){void 0===t&&(t=!1);var n=this;s.default.instance.playSound(e,t,function(){n.normalShow&&o&&o()})},t.prototype.doSchedule=function(e,t,o,n){this.m_callbackMap=this.m_callbackMap?this.m_callbackMap:{};var r=this,i=++this.m_maxId,a=function(){o||r.cancelSchedule(i),e()};return this.m_callbackMap[Number(i)]=a,this.schedule(a,t,o,n),i},t.prototype.doScheduleOnce=function(e,t){this.m_callbackMap=this.m_callbackMap?this.m_callbackMap:{};var o=++this.m_maxId,n=function(){this.m_callbackMap[o.toString()]=null,e()};return this.m_callbackMap[Number(o)]=n,this.scheduleOnce(n,t),o},t.prototype.cancelSchedule=function(e){if(this.m_callbackMap){var t=e.toString(),o=this.m_callbackMap[t];o&&(this.unschedule(o),this.m_callbackMap[t]=null)}},t.prototype.eventDispatch=function(e){for(var t,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return(t=a.default.instance).dispatch.apply(t,[e].concat(o))},t.prototype.eventBind=function(e,t){this.mEventCallback=this.mEventCallback?this.mEventCallback:{},this.mEventCallback[e]=t,a.default.instance.on(e,t,this,!0)},t.prototype.eventBindOnce=function(e,t){this.mEventCallback=this.mEventCallback?this.mEventCallback:{},this.mEventCallback[e]=t,a.default.instance.on(e,t,this,!0,!0)},t.prototype.eventUnBind=function(e,t){this.mEventCallback=this.mEventCallback?this.mEventCallback:{},this.mEventCallback[e]=null,a.default.instance.off(e,t,this)},t.prototype._baseDestroy=function(){for(var e in this.mEventCallback)if(this.mEventCallback.hasOwnProperty(e)){var t=this.mEventCallback[e];a.default.instance.off(e,t,this)}},t=r([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../manager/audio_manager":"audio_manager","../../../manager/event_manager":"event_manager","../../../utility/game_util":"game_util"}],net_client:[function(e,t,o){"use strict";cc._RF.push(t,"2faa6JYrtFNE7z6ET2EC+8C","net_client");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r,i=cc._decorator.ccclass;(function(e){e[e.LoginServer=1]="LoginServer",e[e.GameServer=2]="GameServer",e[e.HallServer=3]="HallServer"})(r=o.NetClientProtoType||(o.NetClientProtoType={})),e("pomelo");var a=function(){function e(){this.lastReceivePingTime=0,this.heartbeatInterval=0,this.heartbeatTimeout=0,this.msgMap={},this.pomelo=new cc.Pomelo}return e.prototype.connect=function(e,t){null!=this.pomelo&&this.pomelo.clear(),this.registerNetMsg(),this.pomelo.connect(e,null),this.netClientProtoType=null==t?r.LoginServer:t},e.prototype.registerNetMsg=function(){this.clearSysNetMsg(),this.sysNetMsg("onOpen",this.onOpen.bind(this)),this.sysNetMsg("onclose",this.onclose.bind(this)),this.sysNetMsg("onerror",this.onerror.bind(this)),this.sysNetMsg("handshake",this.handshake.bind(this)),this.sysNetMsg("heartbeat",this.heartbeatFunc.bind(this))},e.prototype.on=function(e,t){this.pomelo.on(e,t)},e.prototype.off=function(e,t){this.pomelo.off(e,t)},e.prototype.send=function(e,t){var o=this;this.pomelo.request(e,t||{},function(t){o.emit(e,t)})},e.prototype.emit=function(e,t){this.pomelo.emit(e,t)},e.prototype.heartbeat=function(){this.pomelo.heartbeat()},e.prototype.removeAllNetListeners=function(){this.pomelo.off()},e.prototype.sysNetMsg=function(e,t){this.on(e,t),this.msgMap[e]=t},e.prototype.clearSysNetMsg=function(){for(var e in this.msgMap){var t=this.msgMap[e];this.msgMap.hasOwnProperty(e)&&this.off(e,t)}this.msgMap={}},e.prototype.onOpen=function(e){cc.log("onPen"),this.lastReceivePingTime=Date.now(),this.netState=!0,this.onConnectStateEvent&&this.onConnectStateEvent("OPEN")},e.prototype.onclose=function(e){cc.log("onclose",e),this.netState=!1,this.onConnectStateEvent&&this.onConnectStateEvent("CLOSE")},e.prototype.onerror=function(e){cc.error("onerror",e),this.netState=!1,this.onConnectStateEvent&&this.onConnectStateEvent("error")},e.prototype.handshake=function(e){this.netState=!0,this.heartbeatTimeout=7e3,this.heartbeatInterval=2,this.onConnectStateEvent&&this.onConnectStateEvent("handshake")},e.prototype.heartbeatFunc=function(){this.lastReceivePingTime=Date.now(),this.heartbeatEvent&&this.heartbeatEvent()},e.prototype.checkHeartBeatTimeOut=function(e){return void 0===e&&(e=12e3),!!(Date.now()>this.lastReceivePingTime+e&&this.netState)&&(cc.log("\u8d85\u65f6\uff0c\u91cd\u8fde\uff01"),!0)},e.prototype.activeClose=function(){if(this.netState=!1,null!=this.pomelo){this.pomelo.clear();var e=this.pomelo.websocket();e&&e.close(1e3,"activeClose")}this.pomelo.socket=null,this.onConnectStateEvent&&(this.onConnectStateEvent("ActiveClose"),this.onConnectStateEvent=null)},e.prototype.disconnect=function(){if(this.netState=!1,null!=this.pomelo){this.pomelo.clear();var e=this.pomelo.websocket();e&&e.close(1e3,"disconnect")}this.onConnectStateEvent&&(this.onConnectStateEvent("CLOSE"),this.onConnectStateEvent=null)},e=n([i],e)}();o.default=a,cc._RF.pop()},{pomelo:"pomelo"}],net_clubRoute:[function(e,t,o){"use strict";cc._RF.push(t,"3be32c8HjhNyrFEz8EiX3wT","net_clubRoute"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.enterClub="connector.clubHandler.enterClub",e.createClub="connector.clubHandler.createClub",e.joinClub="connector.clubHandler.joinClub",e.getClubTable="connector.clubHandler.getClubTable",e.getClubPlayway="connector.clubHandler.getClubPlayway",e.setClubPlayway="connector.clubHandler.setClubPlayway",e.getClubMember="connector.clubHandler.getClubMember",e.getRankList="connector.lobbyHandler.getRankList",e.onRefreshClubTable="onRefreshClubTable",e.onRemoveClubTable="onRemoveClubTable",e}();o.ClubRoute=n,cc._RF.pop()},{}],netprompt_view:[function(e,t,o){"use strict";cc._RF.push(t,"3053874JFlItaVjPphqP3Ab","netprompt_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainNode=null,t.reconnectNode=null,t.loadingProgress=null,t.showTime=0,t.isProgress=!1,t.riseTo80Second=2,t.riseTo100Second=10,t}return n(t,e),t.prototype.refreshProgress=function(e){null!=this.loadingProgress&&(this.loadingProgress.string=Math.ceil(100*e)+"%")},t.prototype.startProgress=function(){this.showTime=0,this.isProgress=!0},t.prototype.update=function(e){if(this.isProgress){var t=0;this.showTime=this.showTime+e,this.showTime<this.riseTo80Second?(t=this.showTime/this.riseTo80Second*.8,this.refreshProgress(t)):this.showTime<this.riseTo100Second&&(t=.8+(this.showTime-this.riseTo80Second)/(this.riseTo100Second-this.riseTo80Second)*.2,this.refreshProgress(t),100==Math.ceil(100*t)&&(this.isProgress=!1))}},r([s(cc.Node)],t.prototype,"mainNode",void 0),r([s(cc.Node)],t.prototype,"reconnectNode",void 0),r([s(cc.Label)],t.prototype,"loadingProgress",void 0),t=r([a],t)}(e("../../../../framework/core/mvvm/view_base").default);o.default=c,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],netprompt:[function(e,t,o){"use strict";cc._RF.push(t,"d82d2wiGfdD0ohvm98w/5br","netprompt");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,e("../../../../framework/core/mvvm/module_base")),c=e("./netprompt_view"),l=function(e){function t(){var t=e.call(this)||this;return t.package="public",t.layer=s.ViewLayer.High,t.windowPrefabResPath="package/public/public_netprompt",t.viewType=c.default,t}return n(t,e),t.prototype.onShow=function(e){if(null!=this.scheduleCallback&&(this.unschedule(this.scheduleCallback),this.scheduleCallback=null),!e||!e.autoClose){var t=this;this.scheduleCallback=function(){t.hide()},this.scheduleOnce(this.scheduleCallback,15),this.unschedule(this.laterShow),e&&e.showImmediately?this.view.mainNode.active=!0:this.view.mainNode.active||(this.view.mainNode.active=!1,this.scheduleOnce(this.laterShow,.3)),this.view.startProgress()}},t.prototype.laterShow=function(){cc.log("lateShow"),this.view.mainNode.active=!0},t.prototype.onHide=function(){this.view&&this.view.mainNode&&(this.view.mainNode.active=!1),e.prototype.onHide.call(this)},t.prototype.onDisable=function(){this.view&&this.view.mainNode&&(this.view.mainNode.active=!1),this.unscheduleAllCallbacks()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t=r([a,s.moduleInit("NetPrompt")],t)}(s.default);o.default=l,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","./netprompt_view":"netprompt_view"}],outline_shader:[function(e,t,o){"use strict";cc._RF.push(t,"84231Mc0JxCv75kxvVViUMY","outline_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc.renderer.renderEngine.renderer,s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Outline",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    varying vec2 uv0;\n    uniform vec3 iResolution;\n\n    void main()\n    {\n        vec2 onePixel = vec2(1.0 / iResolution.x, 1.0 / iResolution.y);\n\n        vec4 color = texture2D(texture, uv0.xy);\n        vec4 colorRight = texture2D(texture, uv0.xy + vec2(0,onePixel.t));\n        vec4 colorBottom = texture2D(texture, uv0.xy + vec2(onePixel.s,0));\n\n        color.r = 3.0* sqrt( (color.r - colorRight.r) * (color.r - colorRight.r) + (color.r - colorBottom.r) * (color.r - colorBottom.r) );\n        color.g = 3.0* sqrt( (color.g - colorRight.g) * (color.g - colorRight.g) + (color.g - colorBottom.g) * (color.g - colorBottom.g) );\n        color.b = 3.0* sqrt( (color.b - colorRight.b) * (color.b - colorRight.b) + (color.b - colorBottom.b) * (color.b - colorBottom.b) );\n\n        color.r >1.0 ? 1.0 : color.r;\n        color.g >1.0 ? 1.0 : color.g;\n        color.b >1.0 ? 1.0 : color.b;\n        gl_FragColor = vec4(color.rgb, 1);\n    }\n    ",t._defines=[],t._params=[{name:"iResolution",type:a.PARAM_FLOAT3}],t}return n(t,e),t.prototype.setParamValue=function(e){var t=new cc.Vec3(this.node.width,this.node.height,0);e.setParamValue("iResolution",t)},t=r([c,l("custom/Shader/Outline")],t)}(i.default);o.default=u,cc._RF.pop()},{"./shader_component":"shader_component"}],pdk_base_view:[function(e,t,o){"use strict";cc._RF.push(t,"95362CknN1Cp5X0V9eLLlli","pdk_base_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=e("../../../public/poker_table/poker_myseat_pokers"),s=e("../../../public/poker_table/poker_table_seat_base_view"),c=e("../component/pdk_seat_pokers"),l=e("./poker/poker_data"),u=e("../../../../utility/game_util"),p=e("./data/pdk_const"),f=e("../../../../manager/audio_manager"),h=e("../../../../manager/texture_manager"),d=e("./data/pdk_data"),_=e("../../../public/ui/custom_ui_state_switcher"),m=e("../component/pdk_table_sound"),y=e("../../../../manager/scene_manager"),v=e("../../../../utility/Utility"),g=cc._decorator,b=g.ccclass,w=g.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.effect_offset_pos=cc.v2(0,-30),t.myhandPokers=null,t.prefabSeatView=null,t.nodeSeatParentList=[],t.seatHandPokersList=[],t.seatPokersList=[],t.nodechunTianAnim=null,t.hinitBtn=null,t.OutButton=null,t.nodeClock=null,t.labelClock=null,t.btnSwitchui=null,t.seatExtendViewList=[],t.m_clockScheduleId=0,t.m_allSeatViewList=[],t.mPosExtendSeatMap=[],t}return n(t,e),t.prototype.onLoad=function(){cc.log("pdkbaseviewonloaded"),this.initAllSeatView(),this.btnSwitchui.SwitchState("none"),this.myhandPokers.setCustomGetSpriteFrameKeyByCodeFunc(this.getPokerSpriteKeyByCode.bind(this));for(var e=0,t=this.seatHandPokersList;e<t.length;e++){t[e].setCustomGetSpriteFrameKeyByCodeFunc(this.getPokerSpriteKeyByCode.bind(this))}},t.prototype.onShow=function(){y.default.lastEntranceOpenModuleName="ClubModule"},t.prototype.initAllSeatView=function(){for(var e=this.nodeSeatParentList,t=0;t<e.length;t++){var o=e[t],n=u.default.AddChild(this.prefabSeatView.node,o).getComponent(s.default);n.resetSeatStyle(t),n.node.active=!1,this.m_allSeatViewList.push(n),this.mPosExtendSeatMap.push(this.seatExtendViewList[t])}},t.prototype.resetSeatViewPos=function(){for(var e=0,t=this.m_allSeatViewList;e<t.length;e++){t[e].reset()}},t.prototype.hidePlayerTag=function(e){for(var t=0,o=this.m_allSeatViewList;t<o.length;t++){var n=o[t];this.operatorPlayerTag(n,e)}},t.prototype.playerTagVisible=function(e,t){var o=this.m_allSeatViewList[e];o&&this.operatorPlayerTag(o,t)},t.prototype.operatorPlayerTag=function(e,t){e&&(1!=t&&0!=t||e.showReadyTag(!1),2!=t&&0!=t||e.showSelect(!1),3!=t&&0!=t||e.showSingle(!1),4!=t&&0!=t||e.showClock(!1))},t.prototype.userEnter=function(e,t,o){var n=this.m_allSeatViewList[e];n&&(n.node.active=!0,h.default.instance.getSprite(t.avatarUrl,function(e){n&&n.isValid&&n.showAvatar(!0,e)}),n.showName(!0,t.name),n.showCoin(!0,t.coin),n.showReadyTag(t.readyState==p.PConst.ReadyState.Ready_Yes&&o.gameState!=p.PConst.GameStatus.START),0==e&&o.gameState!=p.PConst.GameStatus.START&&(t.readyState==p.PConst.ReadyState.Ready_Yes?this.btnSwitchui.SwitchState("none"):this.btnSwitchui.SwitchState("ready")))},t.prototype.userLeave=function(e){var t=this.m_allSeatViewList[e];t&&(t.node.active=!1,this.playerTagVisible(e,0))},t.prototype.changeBtnState=function(e){this.btnSwitchui.SwitchState(e)},t.prototype.isForbidOutBtn=function(e){v.default.instance.setBtnGray(this.OutButton.getComponent(cc.Button),e)},t.prototype.dealCards=function(e){this.myhandPokers.showPokers(!0,e,{hidePoker:!0}),this.myhandPokers.playFaPaiAnim(function(e,t){e<t&&m.PdkSound.playFaPaiSound()},function(){})},t.prototype.showReadyTag=function(e,t){this.m_allSeatViewList[e].showReadyTag(t)},t.prototype.showSelect=function(e,t){this.m_allSeatViewList[e].showSelect(t)},t.prototype.showSeatClock=function(e,t,o,n,r){var i=this.m_allSeatViewList[e];if(0==e)return this.nodeClock.active=t,void(t&&this.refreshClockLable(o,n,r));i.showClock(t,o,n,r)},t.prototype.showSingle=function(e,t){this.m_allSeatViewList[e].showSingle(t)},t.prototype.refreshClockLable=function(e,t,o){var n=this;if(this.labelClock.string=e.toString(),e<=0)return t&&f.default.instance.vibrate(),void(o&&o());this.m_clockScheduleId=this.doScheduleOnce(function(){n.m_clockScheduleId=0,e--,n.refreshClockLable(e,t,o)},1)},t.prototype.showHandCards=function(e,t,o,n,r){this.seatHandPokersList[e].showPokers(t,o,{withAnim:!0,onFinish:r})},t.prototype.updateMyHandCards=function(e){this.myhandPokers.showPokers(!0,e,{hidePoker:!1})},t.prototype.playFeiJiEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeFeiJiAnim,t,o,2.33,!1,this.effect_offset_pos)},t.prototype.playShunZiEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeShunZiAnim,t,o,1.5,!1,this.effect_offset_pos)},t.prototype.playLianDuiEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeLianDuiAnim,t,o,1.5,!1,this.effect_offset_pos)},t.prototype.playZhaDanEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeZhaDanAim,t,o,2.1,!1,this.effect_offset_pos)},t.prototype.playWangZhaEffect=function(e,t,o,n){var r=this,i=r.effect_offset_pos,a=this.getExtendSeatViewByPos(e),s=a.nodeWangZhaAim.getComponent(cc.Animation),c=a.nodeWangZhaAim1.getComponent(cc.Animation);if(s.node.active=!1,c.node.active=!1,t){s.node.parent.convertToNodeSpaceAR(t,null),i&&(null.x+=i.x,null.y+=i.y),s.node.position=null}s.on("finished",function(){s.targetOff(r),s.node.active=!1,c.node.active=!0,o&&o()},r),c.on("finished",function(){c.targetOff(r),c.node.active=!1,n&&n()},r),s.node.active=!0},t.prototype.playChunTianEffect=function(e,t,o){this.playCommonEffect(this.nodechunTianAnim,t,o,3)},t.prototype.playSanDaiYiEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeSanDaiYiAnim,t,o,1.67,!1,this.effect_offset_pos)},t.prototype.playSanDaiErEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeSanDaiErAnim,t,o,1.67,!1,this.effect_offset_pos)},t.prototype.playSiDaiErEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeSiDaiErAnim,t,o,1.67,!1,this.effect_offset_pos)},t.prototype.playSiDaiLiangDuiEffect=function(e,t,o){var n=this.getExtendSeatViewByPos(e);this.playCommonEffect(n.nodeSiDaiLiangDuiAnim,t,o,1.67,!1,this.effect_offset_pos)},t.prototype.showDispatchCards=function(e,t,o,n,r){return this.seatPokersList[e].showPokers(!0,o)},t.prototype.showSeatPassAnim=function(e,t,o,n){var r=this.getExtendSeatViewByPos(e).nodePass;r.active=t,t?this.playCommonEffect(r,null,n,.8,!1):n&&n()},t.prototype.getExtendSeatViewByPos=function(e){return this.mPosExtendSeatMap[e]},t.prototype.playCommonEffect=function(e,t,o,n,r,i){var a=null;if(t){a=e.position;var s=void 0;e.parent.convertToNodeSpaceAR(t,s),i&&(s.x+=i.x,s.y+=i.y),e.position=s}e.active=!0,null==n&&(n=1.7),this.scheduleOnce(function(){a&&(e.position=a),r||(e.active=!1),o&&o()},n)},t.prototype.getPokerSpriteKeyByCode=function(e){var t=l.Card.makeCardByCode(e);if(t.index==l.CardNameIndex.card_big_king)return"Public_\u5927\u738b";if(t.index==l.CardNameIndex.card_small_king)return"Public_\u5c0f\u738b";var o="Public_";switch(t.color){case l.CardColor.color_black_heart:o+="heitao_";break;case l.CardColor.color_red_heart:o+="hongtao_";break;case l.CardColor.color_plum:o+="meihua_";break;case l.CardColor.color_square:o+="fangkuai_"}return o+t.index},r([w(a.default)],t.prototype,"myhandPokers",void 0),r([w(s.default)],t.prototype,"prefabSeatView",void 0),r([w([cc.Node])],t.prototype,"nodeSeatParentList",void 0),r([w([c.default])],t.prototype,"seatHandPokersList",void 0),r([w([c.default])],t.prototype,"seatPokersList",void 0),r([w(cc.Node)],t.prototype,"nodechunTianAnim",void 0),r([w(cc.Node)],t.prototype,"hinitBtn",void 0),r([w(cc.Node)],t.prototype,"OutButton",void 0),r([w(cc.Node)],t.prototype,"nodeClock",void 0),r([w(cc.Label)],t.prototype,"labelClock",void 0),r([w(_.default)],t.prototype,"btnSwitchui",void 0),r([w(d.SeatExtendHolder)],t.prototype,"seatExtendViewList",void 0),t=r([b],t)}(i.default);o.PdkBaseView=k,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base","../../../../manager/audio_manager":"audio_manager","../../../../manager/scene_manager":"scene_manager","../../../../manager/texture_manager":"texture_manager","../../../../utility/Utility":"utility","../../../../utility/game_util":"game_util","../../../public/poker_table/poker_myseat_pokers":"poker_myseat_pokers","../../../public/poker_table/poker_table_seat_base_view":"poker_table_seat_base_view","../../../public/ui/custom_ui_state_switcher":"custom_ui_state_switcher","../component/pdk_seat_pokers":"pdk_seat_pokers","../component/pdk_table_sound":"pdk_table_sound","./data/pdk_const":"pdk_const","./data/pdk_data":"pdk_data","./poker/poker_data":"poker_data"}],pdk_const:[function(e,t,o){"use strict";cc._RF.push(t,"f9e75qnhcVEAL5MJp44t8xC","pdk_const"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){(function(e){e[e.FREE=0]="FREE",e[e.READY=1]="READY",e[e.START=2]="START"})(e.GameStatus||(e.GameStatus={})),function(e){e[e.Ready_No=0]="Ready_No",e[e.Ready_Yes=1]="Ready_Yes"}(e.ReadyState||(e.ReadyState={}))}(o.PConst||(o.PConst={})),cc._RF.pop()},{}],pdk_data:[function(e,t,o){"use strict";cc._RF.push(t,"56126KFwzZEfKN0Sk+3QS1Z","pdk_data");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property;(function(e){var t=function(){return function(){}}();e.SeatInfoData=t;var o=function(){return function(){}}();e.RoomInfoData=o})(o.PdkData||(o.PdkData={}));var s=function(){function e(){this.nodePass=null,this.nodeFeiJiAnim=null,this.nodeShunZiAnim=null,this.nodeLianDuiAnim=null,this.nodeZhaDanAim=null,this.nodeWangZhaAim=null,this.nodeWangZhaAim1=null,this.nodeSanDaiYiAnim=null,this.nodeSanDaiErAnim=null,this.nodeSiDaiErAnim=null,this.nodeSiDaiLiangDuiAnim=null,this.nodeMingPaiAnim=null}return n([a(cc.Node)],e.prototype,"nodePass",void 0),n([a(cc.Node)],e.prototype,"nodeFeiJiAnim",void 0),n([a(cc.Node)],e.prototype,"nodeShunZiAnim",void 0),n([a(cc.Node)],e.prototype,"nodeLianDuiAnim",void 0),n([a(cc.Node)],e.prototype,"nodeZhaDanAim",void 0),n([a(cc.Node)],e.prototype,"nodeWangZhaAim",void 0),n([a(cc.Node)],e.prototype,"nodeWangZhaAim1",void 0),n([a(cc.Node)],e.prototype,"nodeSanDaiYiAnim",void 0),n([a(cc.Node)],e.prototype,"nodeSanDaiErAnim",void 0),n([a(cc.Node)],e.prototype,"nodeSiDaiErAnim",void 0),n([a(cc.Node)],e.prototype,"nodeSiDaiLiangDuiAnim",void 0),n([a(cc.Node)],e.prototype,"nodeMingPaiAnim",void 0),e=n([i("DouDiZhuTable.SeatExtendView")],e)}();o.SeatExtendHolder=s,cc._RF.pop()},{}],pdk_help:[function(e,t,o){"use strict";cc._RF.push(t,"6830aca0fFNa7+xCKiNfz+4","pdk_help"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.PdkHelp=n,cc._RF.pop()},{}],pdk_model:[function(e,t,o){"use strict";cc._RF.push(t,"cf4a5L0s8dHgLwfkgjqPX6l","pdk_model");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/model_base"),a=e("../../net/pdk_route"),s=e("../../../../manager/user_manager"),c=e("./data/pdk_data"),l=e("./poker/poker_logic_set"),u=cc._decorator,p=u.ccclass,f=(u.property,function(e){function t(){var t=e.call(this)||this;return t.users=[],t.mySeatInfo=null,t.mCommonData=null,t.roomInfo=null,t}return n(t,e),t.prototype.initModel=function(e){this.users=[],this.roomInfo||(this.roomInfo=new c.PdkData.RoomInfoData),this.mCommonData||(this.mCommonData={}),this.roomInfo.gameState=e.gameStatus;for(var t=0;t<e.players.length;t++){var o=e.players[t];if(this.isRoleById(o.id)){this.mChair=o.chairID;break}}for(var n=0;n<e.players.length;n++){o=e.players[n];var r=this.enterUser(o);this.isRoleById(r.user.id)&&(this.mySeatInfo=r,this.mySeatInfo.handSet=new l.PokerSet)}},t.prototype.setPokerList=function(e,t){this.mySeatInfo&&this.mySeatInfo.handSet.setCodeList(e,t)},t.prototype.isRoleById=function(e){return e==Number(s.default.instance.getUserData().uid)},t.prototype.getUser=function(e){for(var t=0;t<this.users.length;t++){var o=this.users[t];if(o.user.id==e)return o}return null},t.prototype.getUserLocalID=function(e){for(var t=0;t<this.users.length;t++){var o=this.users[t];if(o.user.chairID==e)return o}return null},t.prototype.enterUser=function(e){var t=this.getUser(e.id);return t||(t=new c.PdkData.SeatInfoData,this.users.push(t)),t.user=e,t.viewID=this.viewLocation(t.user.chairID),t},t.prototype.exitUser=function(e){for(var t=0;t<this.users.length;t++){if(this.users[t].user.id==e){this.users.splice(t,1);break}}},t.prototype.isRole=function(e){return e==this.mChair},t.prototype.isMyOutCard=function(){return this.mCommonData.chairID==this.mChair},t.prototype.viewLocation=function(e){var t=this.roomInfo.playerCount;return(e+t-this.mChair)%t},t.prototype.initRoomInfo=function(e){this.roomInfo||(this.roomInfo=new c.PdkData.RoomInfoData),this.roomInfo.playerCount=e.gameParameter.bPlayerCount},t.prototype.send_readyGame=function(){this.send(a.PdkNetRoute.readyGame,{})},t.prototype.send_playCard=function(e,t){var o={bCardData:e,bCardCount:t};this.send(a.PdkNetRoute.playCard,o)},t.prototype.send_dissolveRoom=function(e){this.send(a.PdkNetRoute.dissolveGame,e)},t.prototype.send_leaveRoom=function(){this.send(a.PdkNetRoute.leaveRoom,{})},t=r([p],t)}(i.default));o.PdkModel=f,cc._RF.pop()},{"../../../../framework/core/mvvm/model_base":"model_base","../../../../manager/user_manager":"user_manager","../../net/pdk_route":"pdk_route","./data/pdk_data":"pdk_data","./poker/poker_logic_set":"poker_logic_set"}],pdk_module_base:[function(e,t,o){"use strict";cc._RF.push(t,"57515NTyqtGG4FFO6oKzbtJ","pdk_module_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("./pdk_model"),s=e("../../../server/gameserver/game_server"),c=e("../../net/pdk_route"),l=e("./pdk_view"),u=e("../../../../manager/scene_manager"),p=e("./poker/poker_pattern"),f=e("../../../../framework/core/module_manager"),h=e("../component/pdk_table_sound"),d=e("../../../../manager/user_manager"),_=e("../rule/public_rule"),m=cc._decorator,y=m.ccclass,v=(m.property,function(e){function t(){var t=e.call(this)||this;return t.recommendFunc=null,t.viewType=l.PdkView,t.modelType=a.PdkModel,t.windowPrefabResPath="package/pdk/module/table/pdk",t}return n(t,e),t.prototype.onInit=function(){this.view.menueMask.on("click",this.clickMenueMask,this);var e=this;this.view.myhandPokers.setCustomOnFinishDragPokerReselectFunc(function(){e.on_finish_drag_pokers_reselect_fun()}),this.view.myhandPokers.setCustomOnSelectPokersChanged(function(){e.on_select_pokers_changed()})},t.prototype.onShow=function(){this.model.netClient=s.default.instance.netClient,this.model.clearMsgEvent(),this.registerNetMsg()},t.prototype.registerNetMsg=function(){var e=this;e.model.registerNetMsg(c.PdkNetRoute.onSendParameter,function(t){e.onSendParameter(t)}),e.model.registerNetMsg(c.PdkNetRoute.onSendGameScene,function(t){e.onSendGameScene(t)}),e.model.registerNetMsg(c.PdkNetRoute.onUserEntryRoom,function(t){e.onUserEntryRoom(t)}),e.model.registerNetMsg(c.PdkNetRoute.onStartGame,function(t){e.onStartGame(t)}),e.model.registerNetMsg(c.PdkNetRoute.readyGame,function(t){e.readyGame(t)}),e.model.registerNetMsg(c.PdkNetRoute.onReadyGame,function(t){e.onReadyGame(t)}),e.model.registerNetMsg(c.PdkNetRoute.playCard,function(t){e.playCard(t)}),e.model.registerNetMsg(c.PdkNetRoute.onOutCard,function(t){e.onOutCard(t)}),e.model.registerNetMsg(c.PdkNetRoute.onPassCard,function(t){e.onPassCard(t)}),e.model.registerNetMsg(c.PdkNetRoute.onDissolveRoom,function(t){e.onDissolveRoom(t)}),e.model.registerNetMsg(c.PdkNetRoute.onSettlement,function(t){e.onSettlement(t)}),e.model.registerNetMsg(c.PdkNetRoute.onHandCardUser,function(t){e.onHandCardUser(t)}),e.model.registerNetMsg(c.PdkNetRoute.onOutCardNotify,function(t){e.onOutCardNotify(t)}),e.model.registerNetMsg(c.PdkNetRoute.onWarnUser,function(t){e.onWarnUser(t)}),e.model.registerNetMsg(c.PdkNetRoute.onLeaveRoom,function(t){e.onLeaveRoom(t)}),e.model.registerNetMsg(c.PdkNetRoute.leaveRoom,function(t){e.leaveRoom(t)})},t.prototype.onWarnUser=function(e){},t.prototype.onSendGameScene=function(e){this.initTable(e),this.recommendFunc=null,this.model.mCommonData.lastPattern=null},t.prototype.initTable=function(e){this.model.initModel(e)},t.prototype.playCard=function(e){1==e.code?f.default.instance.toast("\u6ca1\u6709\u8f6e\u5230\u81ea\u5df1\u51fa\u724c"):2==e.code&&f.default.instance.toast("\u51fa\u724c\u7c7b\u578b\u9519\u8bef")},t.prototype.onOutCard=function(e){this.view.hidePlayerTag(4);var t=this.model.viewLocation(e.outcardUser);this.view.showHandCards(t,!0,e.cardData,!0),this.model.isRole(e.outcardUser)&&this.view.changeBtnState("none"),this.view.showSeatClock(t,!1),this.model.mCommonData.chairID=e.outcardUser,this.model.mCommonData.outCards=e.cardData},t.prototype.onPassCard=function(e){this.view.hidePlayerTag(4);var t=this.model.viewLocation(e.wPassUser);this.view.showSeatPassAnim(t,!0),this.view.showHandCards(t,!1),h.PdkSound.playPassSound(d.default.instance.isMale())},t.prototype.onDissolveRoom=function(e){},t.prototype.onSettlement=function(e){},t.prototype.onHandCardUser=function(e){0==this.model.viewLocation(e.wChairID)&&(this.view.myhandPokers.showPokers(!0,e.handCardData),this.model.setPokerList(e.handCardData))},t.prototype.onLeaveRoom=function(e){},t.prototype.leaveRoom=function(e){0==e.code||3==e.code?u.default.gotoHall():2==e.code&&f.default.instance.toast("\u6e38\u620f\u5df2\u7ecf\u5f00\u59cb\u4e0d\u80fd\u79bb\u5f00\u724c\u684c")},t.prototype.onOutCardNotify=function(e){},t.prototype.onUserEntryRoom=function(e){this.model.enterUser(e)},t.prototype.onSendParameter=function(e){this.model.initRoomInfo(e)},t.prototype.onStartGame=function(e){},t.prototype.readyGame=function(e){},t.prototype.onReadyGame=function(e){},t.prototype.on_select_pokers_changed=function(){cc.log("--\x3e>>>>>>>>>poker changed");var e=this.view.myhandPokers.getSelectedPokers().selected_codeList,t=this.checkCanChuPai(this.model.mCommonData.lastPattern,e);this.view.isForbidOutBtn(!t.canChuPai||!t.pattern)},t.prototype.on_finish_drag_pokers_reselect_fun=function(){cc.log("0000--");var e=this.view.myhandPokers.getSelectedPokers().selected_codeList;if(e.length>0){var t=this.model.mySeatInfo.handSet.choose_hintIterator(e,null);if(t){this.view.myhandPokers.selectPokers(t.cards,null),this.view.myhandPokers.refreshPokerSelectState(!0,function(){});var o=this.checkCanChuPai(this.model.mCommonData.lastPattern,t.cards);this.view.isForbidOutBtn(!o.canChuPai||!o.pattern)}}},t.prototype.clickMenueMask=function(){this.view.menueRoot.active=!1},t.prototype.onButtonClick=function(e,t){switch(e.name){case"BtnLeave":this.view.showMenue();break;case"LeavelButton":u.default.gotoHall(!1);break;case"ChuPaiMask":this.resetPokers();break;case"BtnReady":this.model.send_readyGame();break;case"FreeButton":this.model.send_leaveRoom();break;case"HintButton":this.onClickRemindCard(!1);break;case"OutButton":this.onClickSendCard();break;case"RuleButton":f.default.instance.showModule(_.default)}},t.prototype.onClickSendCard=function(){var e=this.view.myhandPokers.getSelectedPokers();if(e.real_selected_codeList&&0!=e.real_selected_codeList.length){this.recommendFunc=null;var t=e.selected_codeList;this.model.send_playCard(e.selected_codeList,t.length)}else f.default.instance.toast("\u8bf7\u9009\u62e9\u8981\u51fa\u7684\u724c")},t.prototype.onClickRemindCard=function(e){if(!this.recommendFunc){var t=this.model.mySeatInfo.handSet.hintIterator(this.model.mCommonData.lastPattern);if(!t.tishiFun)return;this.recommendFunc=t.tishiFun}var o=this.recommendFunc();if(o){this.view.myhandPokers.selectPokers(o.cards,null),this.view.myhandPokers.refreshPokerSelectState(!0);var n=this.checkCanChuPai(this.model.mCommonData.lastPattern,o.cards);this.view.isForbidOutBtn(!n.canChuPai||!n.pattern)}},t.prototype.checkCanChuPai=function(e,t){var o={canChuPai:!1,pattern:null},n=p.CardPattern.newPattern(t);if(!n)return o;if(e){var r=n;return r.compable(e)?r.le(e)?o:(o.canChuPai=!0,o.pattern=r,o):o}return o.canChuPai=!0,o.pattern=n,o},t.prototype.resetPokers=function(){this.view.myhandPokers.resetPokers(!0),this.view.isForbidOutBtn(!0)},t.prototype.playPokerTypeSound=function(){},t=r([y],t)}(i.default));o.PdkModuleBase=v,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/module_base":"module_base","../../../../manager/scene_manager":"scene_manager","../../../../manager/user_manager":"user_manager","../../../server/gameserver/game_server":"game_server","../../net/pdk_route":"pdk_route","../component/pdk_table_sound":"pdk_table_sound","../rule/public_rule":"public_rule","./pdk_model":"pdk_model","./pdk_view":"pdk_view","./poker/poker_pattern":"poker_pattern"}],pdk_module:[function(e,t,o){"use strict";cc._RF.push(t,"b125bZXvmROMoecQBRMr9dn","pdk_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("../../../../manager/scene_manager"),s=e("./data/pdk_const"),c=e("./pdk_module_base"),l=e("../component/pdk_table_sound"),u=e("./poker/poker_pattern"),p=e("../../../../manager/audio_manager"),f=e("../../../../framework/core/module_manager"),h=e("../result/result_module"),d=e("../../../../manager/user_manager"),_=e("../../../public/module/toast/toast"),m=cc._decorator,y=m.ccclass,v=(m.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onOutCard=function(t){e.prototype.onOutCard.call(this,t),this.showOutCard(t.outcardUser,t.cardData)},t.prototype.onUserEntryRoom=function(t){e.prototype.onUserEntryRoom.call(this,t);var o=this.model.getUser(t.id);if(o){var n=this.model.viewLocation(o.user.chairID);this.view.userEnter(n,o.user,this.model.roomInfo)}},t.prototype.onHandCardUser=function(t){e.prototype.onHandCardUser.call(this,t),this.view.updateMyHandCards(t.handCardData),this.model.setPokerList(t.handCardData)},t.prototype.onOutCardNotify=function(t){e.prototype.onOutCardNotify.call(this,t),this.view.hidePlayerTag(0);var o=this.model.viewLocation(t.currentUser);this.view.showSeatClock(o,!0,10),this.view.showHandCards(o,!1),this.view.showSelect(o,!0),this.model.isRole(t.currentUser)?(this.view.changeBtnState("playing"),this.view.showSeatPassAnim(o,!1),this.model.isMyOutCard()&&(this.model.mCommonData.outCards=[]),this.onClickRemindCard(!0)):this.view.changeBtnState("none")},t.prototype.onLeaveRoom=function(t){e.prototype.onLeaveRoom.call(this,t);var o=this.model.viewLocation(t.wChairID);this.view.userLeave(o)},t.prototype.onReadyGame=function(t){e.prototype.onReadyGame.call(this,t),this._readyGame(t.wChairID)},t.prototype.showOutCard=function(e,t){var o=this.model.viewLocation(e);this.view.showHandCards(o,!0,t,!0),this.model.mCommonData.lastPattern=0==o?null:u.CardPattern.newPattern(t),this.dispatchPoker(this.model.getUserLocalID(e),t)},t.prototype._readyGame=function(e){var t=this.model.viewLocation(e);this.view.showReadyTag(t,!0),this.model.isRole(e)&&this.view.changeBtnState("none")},t.prototype.readyGame=function(t){if(e.prototype.readyGame.call(this,t),0==t.code){var o=this.model.mySeatInfo;this._readyGame(o.user.chairID)}else 4==t.code?f.default.instance.showModule(_.default,"\u4f59\u989d\u4e0d\u8db3,\u8bf7\u5c3d\u5feb\u5145\u503c\uff01"):3==t.code&&a.default.gotoHall(!1)},t.prototype.onSettlement=function(t){var o=this;e.prototype.onSettlement.call(this,t);var n={func:function(){o.model.send_readyGame()},data:{msg:t,roleid:this.model.mChair}};f.default.instance.showModule(h.ResultModule,n),this.settlementcards(t)},t.prototype.settlementcards=function(e){for(var t=e.handCardData,o=0;o<t.length;o++){var n=t[o],r=this.model.viewLocation(o);0!=r&&this.view.showHandCards(r,!0,n,!0)}},t.prototype.onSendGameScene=function(t){if(e.prototype.onSendGameScene.call(this,t),this.view.updateAllUser(this.model.users,this.model.roomInfo),this.clearTable(),this.view.changeBtnState("ready"),t.gameStatus==s.PConst.GameStatus.START){if(this.view.updateMyHandCards(t.handCardData),this.model.setPokerList(t.handCardData),void 0==t.turnUser||this.model.isRole(t.turnUser)||65535==t.turnUser||-1==t.turnUser?this.model.mCommonData.outCards=[]:(this.showOutCard(t.turnUser,t.turnCardData),this.model.mCommonData.chairID=t.turnUser,this.model.mCommonData.outCards=t.turnCardData),t.currentUser==this.model.mChair){var o=this.model.viewLocation(this.model.mChair);this.view.showSeatClock(o,!0,10),this.view.showHandCards(o,!1),this.view.changeBtnState("playing"),this.view.showSeatPassAnim(o,!1),this.onClickRemindCard(!0)}else this.view.changeBtnState("none");for(var n=0;n<t.bUserWarn.length;n++){t.bUserWarn[n]&&!this.model.isRole(n)&&this.showWarn(n)}var r=this.model.viewLocation(t.currentUser);this.view.showSelect(r,!0),this.view.showSeatClock(r,!0,10)}},t.prototype.onStartGame=function(t){e.prototype.onStartGame.call(this,t),this.clearTable();var o=this.model.viewLocation(t.wCurrentUser);this.view.showSelect(o,!0),this.view.dealCards(t.cbCardData),this.model.setPokerList(t.cbCardData),this.model.isRole(t.wCurrentUser)?(this.view.changeBtnState("playing"),this.view.showHandCards(o,!1),this.view.showSeatPassAnim(o,!1)):this.view.changeBtnState("none"),this.view.showSeatClock(o,!0,10)},t.prototype.onWarnUser=function(t){e.prototype.onWarnUser.call(this,t),this.showWarn(t.wWarnUser),l.PdkSound.playWarningSound(d.default.instance.isMale(),!0)},t.prototype.showWarn=function(e){var t=this.model.viewLocation(e);this.view.showSingle(t,!0)},t.prototype.clearTable=function(){this.view.isForbidOutBtn(!1);for(var e=0;e<this.model.roomInfo.playerCount;e++)this.view.showHandCards(e,!1);this.view.myhandPokers.removeAllPokers(),this.view.hidePlayerTag(0),this.recommendFunc=null,this.model.mCommonData.lastPattern=null},t.prototype.playCard=function(t){e.prototype.playCard.call(this,t),0==t.code&&(this.view.updateMyHandCards(t.handCardData),this.model.setPokerList(t.handCardData))},t.prototype.dispatchPoker=function(e,t){var o=t,n=this.view.showDispatchCards(e.viewID,!0,o,!0);this.playCardPatternSoundAndEffect(e,u.CardPattern.newPattern(t),n)},t.prototype.playCardPatternSoundAndEffect=function(e,t,o){var n=this;l.PdkSound.playPokerTypeSound(!0,t);var r=t.type;if(r){var i=t.disp_type;switch(r){case u.PatternType.type_zhadan:this.view.playZhaDanEffect(e.viewID,o),p.default.instance.vibrate();break;case u.PatternType.type_huojian:return void this.view.playWangZhaEffect(e.viewID,o,function(){n.view.scheduleOnce(function(){l.PdkSound.playPokerTypeEffectSound(t)},.3),p.default.instance.vibrate()});case u.PatternType.type_liandui:this.view.playLianDuiEffect(e.viewID,o);break;case u.PatternType.type_feiji:this.view.playFeiJiEffect(e.viewID,o);break;case u.PatternType.type_shunzi:this.view.playShunZiEffect(e.viewID,o);break;case u.PatternType.type_sandaiyi:"sandaiyi"==i?this.view.playSanDaiYiEffect(e.viewID,o):"sandaier"==i&&this.view.playSanDaiErEffect(e.viewID,o);break;case u.PatternType.type_sidaier:"sidaisi"==i?this.view.playSiDaiLiangDuiEffect(e.viewID,o):this.view.playSiDaiErEffect(e.viewID,o)}l.PdkSound.playPokerTypeEffectSound(t)}},t=r([y,i.moduleInit("PdkModule")],t)}(c.PdkModuleBase));o.PdkModule=v,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/module_base":"module_base","../../../../manager/audio_manager":"audio_manager","../../../../manager/scene_manager":"scene_manager","../../../../manager/user_manager":"user_manager","../../../public/module/toast/toast":"toast","../component/pdk_table_sound":"pdk_table_sound","../result/result_module":"result_module","./data/pdk_const":"pdk_const","./pdk_module_base":"pdk_module_base","./poker/poker_pattern":"poker_pattern"}],pdk_myseat_pokers:[function(e,t,o){"use strict";cc._RF.push(t,"e0adaDgsfBMc7Ml58s/Dwub","pdk_myseat_pokers");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../public/poker_table/poker_myseat_pokers"),a=e("../../../public/ui/custom_ui_state_switcher"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rightStyleMinCardsCount=20,t.uiSwitcher=null,t}return n(t,e),t.prototype.playFaPaiAnim=function(e,t){var o,n=this,r=this.pokers,i=r.length;n.isPlayingSelectPokerAnim=!0,(o=function(t,a,s){if(e&&e(t,i),t==i&&(n.isPlayingSelectPokerAnim=!1,a))a();else{var c=r[t],l=c.node.position;c.show(),s&&(c.node.position=s);var u=cc.callFunc(function(){o(++t,a,l)}.bind(n)),p=cc.moveTo(.1,l),f=cc.sequence([p,u]);c.node.runAction(f)}})(0,t)},t.prototype.showPokers=function(t,o,n){var r=e.prototype.showPokers.call(this,t,o,n);return this.resetHandCardsRootPos(),r},t.prototype.showRecommends=function(e,t){void 0===t&&(t=!0),this.resetHandCardsRootPos();for(var o=e.concat([]),n=0;n<this.pokers.length;n++){var r=this.pokers[n];r.marked=t;for(;0<o.length;n++){var i=e[n];if(r.code==i){o.splice(0,1),r.selected=!0,r.marked=!1;break}}}this.refreshPokersMarkState(),this.refreshPokerSelectState(!1)},t.prototype.resetHandCardsRootPos=function(){this.pokers.length<this.rightStyleMinCardsCount?this.uiSwitcher.SwitchState("Center"):this.uiSwitcher.SwitchState("None")},r([l(cc.Integer)],t.prototype,"rightStyleMinCardsCount",void 0),r([l(a.default)],t.prototype,"uiSwitcher",void 0),t=r([c],t)}(i.default);o.PdkMySeatPokers=u,cc._RF.pop()},{"../../../public/poker_table/poker_myseat_pokers":"poker_myseat_pokers","../../../public/ui/custom_ui_state_switcher":"custom_ui_state_switcher"}],pdk_route:[function(e,t,o){"use strict";cc._RF.push(t,"7e0f4iXYEtPyJHUR54ggGOJ","pdk_route"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.leaveRoom="table.tableHandler.leaveRoom",e.readyGame="table.tableHandler.readyGame",e.onReadyGame="onReadyGame",e.onStartGame="onStartGame",e.dissolveGame="table.tableHandler.dissolveGame",e.onDissolveRoom="onDissolveRoom",e.playCard="table.tableHandler.playCard",e.onWarnUser="onWarnUser",e.onHandCardUser="onHandCardUser",e.onOutCard="onOutCard",e.onPassCard="onPassCard",e.onSettlement="onSettlement",e.onUserEntryRoom="onUserEntryRoom",e.onOutCardNotify="onOutCardNotify",e.onSendParameter="onSendParameter",e.onSendGameScene="onSendGameScene",e.onLeaveRoom="onLeaveRoom",e}();o.PdkNetRoute=n,cc._RF.pop()},{}],pdk_seat_pokers:[function(e,t,o){"use strict";cc._RF.push(t,"0404124/vdI4Z1/ya8tfZCj","pdk_seat_pokers");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../public/poker_table/poker_seat_pokers_base"),a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.showPokers=function(t,o,n){var r=e.prototype.showPokers.call(this,t,o,n);return t&&n&&(n.withAnim,n.onFinish&&n.onFinish()),r},t=r([s,c("custom/doudizhu/DouDiZhuTableSeatPokers")],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../public/poker_table/poker_seat_pokers_base":"poker_seat_pokers_base"}],pdk_table_seat_view:[function(e,t,o){"use strict";cc._RF.push(t,"115dcTdaaVONaWScrlogJ7A","pdk_table_seat_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../public/poker_table/poker_table_seat_base_view"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getSeatStyleName=function(e){switch(e){case 0:return"Bottom";case 1:return"Right";case 2:return"Left"}return""},t=r([s],t)}(i.default));o.default=c,cc._RF.pop()},{"../../../public/poker_table/poker_table_seat_base_view":"poker_table_seat_base_view"}],pdk_table_sound:[function(e,t,o){"use strict";cc._RF.push(t,"5c48bJ8FOxCv4TBUoeocfUy","pdk_table_sound"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../manager/audio_manager"),r=e("../../../../utility/Utility"),i=e("../table/poker/poker_pattern"),a=e("../table/poker/poker_data"),s="package/pdk/sound/man/",c="package/pdk/sound/woman/",l="package/pdk/sound/effect/",u=function(){function e(){}return e.playPokerTypeSound=function(e,t,o){var n=c;e&&(n=s);var r=t.type,l=t.disp_type,u="";switch(r){case i.PatternType.type_danpai:u="single_";break;case i.PatternType.type_shunzi:return u="shunzi",void this.playSound(n+u,u,o);case i.PatternType.type_duizi:u="dui";break;case i.PatternType.type_liandui:return u="liandui",void this.playSound(n+u,u,o);case i.PatternType.type_sandaiyi:if(u="tuple","sanzhang"!=l)return"sandaiyi"==l?(u="sandaiyi",void this.playSound(n+u,u,o)):"sandaier"==l?(u="sandaiyidui",void this.playSound(n+u,u,o)):void 0;u="tuple";break;case i.PatternType.type_feiji:return u="feiji",t.feijinum>0&&Math.floor(t.card_cnt/t.feijinum)>0&&(u="feijidaichibang"),void this.playSound(n+u,u,o);case i.PatternType.type_zhadan:return u="zhadan",void this.playSound(n+u,u,o);case i.PatternType.type_sidaier:return u="sidaier","sidaisi"==l&&(u="sidailiangdui"),void this.playSound(n+u,u,o);case i.PatternType.type_huojian:return u="wangzha",void this.playSound(n+u,u,o)}var p=a.Card.valueToIndex(t.value);p&&p!=a.CardNameIndex.card_unknow?(u+=p,this.playSound(n+u,u,o)):o&&o("unknow pattern")},e.playPokerTypeEffectSound=function(e,t){var o=e.type;o!=i.PatternType.type_shunzi?o!=i.PatternType.type_liandui?o!=i.PatternType.type_feiji?o!=i.PatternType.type_zhadan?o!=i.PatternType.type_huojian?i.PatternType.type_unknow:this.playHuoJianEffectSound(t):this.playZhaDanEffectSound(t):this.playFeiJiEffectSound(t):this.playCommonEffectSound(t):this.playShunZiEffectSound(t)},e.playPiaEffectSound=function(t){e.playSound(l+"special_give","special_give",t)},e.playPassSound=function(t,o){var n=c+"action/";t&&(n=s+"action/");var r=["buyao1","buyao2","buyao3","buyao4"],i=r[this.getRandomIndex(0,r.length-1)];e.playSound(n+i,i,o)},e.playDaNiSound=function(t,o){var n=c+"action/";t&&(n=s+"action/");var r=["dani1","dani2","dani3"],i=r[this.getRandomIndex(0,r.length-1)];e.playSound(n+i,i,o)},e.playFaPaiSound=function(t){e.playSound(l+"fapai","fapai",t)},e.playWarningSound=function(t,o,n){var r=c+"action/";t&&(r=s+"action/");var i=["baojing1","baojing1_1"];o||(i=["baojing2","baojing2_1"]);var a=i[this.getRandomIndex(0,i.length-1)];e.playSound(r+a,a,n)},e.playMingPaiSound=function(t,o){var n=c+"action/";t&&(n=s+"action/");e.playSound(n+"share","share",o)},e.playGrabLordSound=function(t,o,n){var r=c+"action/";t&&(r=s+"action/");var i="score_order_";0==o?i="score_no_order":i+=o,e.playSound(r+i,i,n)},e.playSetLordEffectSound=function(t){e.playSound(l+"dztxbh","dztxbh",t)},e.playRemind=function(t){e.playSound(l+"remind","remind",t)},e.playFeiJiEffectSound=function(t){e.playSound(l+"feiji","feiji",t)},e.playShunZiEffectSound=function(e){this.playCommonEffectSound(e)},e.playZhaDanEffectSound=function(t){e.playSound(l+"bomb_new","bomb_new",t)},e.playHuoJianEffectSound=function(t){e.playSound(l+"bomb","bomb",t)},e.playCommonEffectSound=function(t){e.playSound(l+"common","common",t)},e.playGameLoseSound=function(t){e.playSound(l+"gamelose","gamelose",t)},e.playGameWinSound=function(t){e.playSound(l+"gamewin","gamewin",t)},e.playMathWinSound=function(t){e.playSound(l+"gamewin","gamewin",t)},e.playSound=function(e,t,o){n.default.instance.playSound(e,!1,o)},e.playMusic=function(e,t){n.default.instance.playMusic(e,!1)},e.playBgm=function(t){var o=[n.default.instance.playFightMusic.bind(n.default.instance),n.default.instance.playFightMusic2.bind(n.default.instance)],r=o[e.getRandomIndex(0,o.length-1)];if(t)r(!0);else{var i=o[n.default.instance._curMusicIndex-2];i?i(!1):r(!0)}},e.stopBgm=function(){n.default.instance.stopAllMusic()},e.playChatShortMsgSound=function(t,o,n){var r=c+"chat/";t&&(r=s+"chat/");var i="chat_"+o;e.playSound(r+i,i,n)},e.getRandomIndex=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),r.default.instance.getIntRandom(e,t)},e}();o.PdkSound=u,cc._RF.pop()},{"../../../../manager/audio_manager":"audio_manager","../../../../utility/Utility":"utility","../table/poker/poker_data":"poker_data","../table/poker/poker_pattern":"poker_pattern"}],pdk_view:[function(e,t,o){"use strict";cc._RF.push(t,"22b95kBp5ZGgpteu3stpm36","pdk_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./pdk_base_view"),a=e("../../../public/ui/custom_ui_state_switcher"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.menueRoot=null,t.menueMask=null,t.chupaiBtnSwither=null,t}return n(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.menueRoot.active=!1},t.prototype.showMenue=function(){this.menueRoot.active=!this.menueRoot.active},t.prototype.updateAllUser=function(e,t){this.resetSeatViewPos();for(var o=0;o<e.length;o++)this.userEnter(e[o].viewID,e[o].user,t)},r([l(cc.Node)],t.prototype,"menueRoot",void 0),r([l(cc.Node)],t.prototype,"menueMask",void 0),r([l(a.default)],t.prototype,"chupaiBtnSwither",void 0),t=r([c],t)}(i.PdkBaseView);o.PdkView=u,cc._RF.pop()},{"../../../public/ui/custom_ui_state_switcher":"custom_ui_state_switcher","./pdk_base_view":"pdk_base_view"}],ping_component:[function(e,t,o){"use strict";cc._RF.push(t,"f9bd8gWv3ZJIpiLzat3uSmr","ping_component");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../server/hallserver/hall_server"),a=e("../server/gameserver/game_server"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHallUse=!0,t.wifiSprites=[],t.wifiIcon=null,t.pingTex=null,t.pingColor=[new cc.Color(255,0,0,255),new cc.Color(255,255,0,255),new cc.Color(195,184,0,255),new cc.Color(123,185,59,255),new cc.Color(43,237,80,255)],t}return n(t,e),t.prototype.start=function(){var e=this;this.isHallUse?i.default.instance.onNotifyPing=function(t){e.showPing(t)}:a.default.instance.onNotifyPing=function(t){e.showPing(t)}},t.prototype.showPing=function(e){var t=0;t=e>=901?0:e>=501?1:e>=301?2:e>=151?3:4,this.wifiIcon.spriteFrame=this.wifiSprites[t],this.pingTex.string="\u5ef6\u8fdf"+e+"ms",this.pingTex.node.color=this.pingColor[t]},t.prototype.onDestroy=function(){this.isHallUse?i.default.instance.onNotifyPing=null:a.default.instance.onNotifyPing=null},r([l],t.prototype,"isHallUse",void 0),r([l(cc.SpriteFrame)],t.prototype,"wifiSprites",void 0),r([l(cc.Sprite)],t.prototype,"wifiIcon",void 0),r([l(cc.Label)],t.prototype,"pingTex",void 0),t=r([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../server/gameserver/game_server":"game_server","../server/hallserver/hall_server":"hall_server"}],play_anim:[function(e,t,o){"use strict";cc._RF.push(t,"d5042OrbqlJkoqrbcvjkE+4","play_anim");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=i.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=null,t.particles=null,t._isFindParticleSystem=!1,t}return n(t,e),t.prototype.onEnable=function(){var e=this.animation.getClips();this.animation.play(e[0].name),this._isFindParticleSystem||(this.particles=this.animation.node.getComponentsInChildren(cc.ParticleSystem),this._isFindParticleSystem=!0);for(var t=this.particles.length,o=0;o<t;o++)this.particles[o].resetSystem()},t.prototype.onDisable=function(){this.animation.stop()},r([s(cc.Animation)],t.prototype,"animation",void 0),t=r([a,c("custom/PlayAnim")],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],poison_shader:[function(e,t,o){"use strict";cc._RF.push(t,"ff95af9xZNPkLH4Nt5QGxxO","poison_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Poison",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 c = color * texture2D(texture, uv0);\n        c.r *= 0.8;\n        c.r += 0.08 * c.a;\n        c.g *= 0.8;\n        c.g += 0.2 * c.a;\n        c.b *= 0.8;\n        gl_FragColor = c;\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Poison")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],poker_data:[function(e,t,o){"use strict";var n,r;cc._RF.push(t,"478d8hTJnROu6qjV3W3rWE+","poker_data"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.card_unknow=0]="card_unknow",e[e.card_A=1]="card_A",e[e.card_2=2]="card_2",e[e.card_3=3]="card_3",e[e.card_4=4]="card_4",e[e.card_5=5]="card_5",e[e.card_6=6]="card_6",e[e.card_7=7]="card_7",e[e.card_8=8]="card_8",e[e.card_9=9]="card_9",e[e.card_10=10]="card_10",e[e.card_J=11]="card_J",e[e.card_Q=12]="card_Q",e[e.card_K=13]="card_K",e[e.card_small_king=14]="card_small_king",e[e.card_big_king=15]="card_big_king",e[e.end=16]="end"}(n=o.CardNameIndex||(o.CardNameIndex={})),function(e){e[e.color_unknow=0]="color_unknow",e[e.color_black_heart=1]="color_black_heart",e[e.color_red_heart=2]="color_red_heart",e[e.color_plum=3]="color_plum",e[e.color_square=4]="color_square"}(r=o.CardColor||(o.CardColor={}));var i=function(){function e(){this.code=0,this.index=n.card_unknow,this.color=r.color_unknow}return e.makeCardByCode=function(t){var o=new e;return o.code=t,o.index=e.codeToIndex(t),o.color=1+((240&t)>>4),o},e.codeToIndex=function(e){return 15&e},e.codeToValue=function(e){var t=15&e;return 64==(240&e)?t+2:t<=2?t+13:t},e.indexToValue=function(t){return e.cardValueMap[t]},e.valueToIndex=function(t){for(var o=0;o<e.cardValueMap.length;o++){if(e.cardValueMap[o]==t)return o}},e.cardValueMap=[0,14,15,3,4,5,6,7,8,9,10,11,12,13,16,18],e.max_card_value=15,e}();o.Card=i;var a=function(){function e(){}return e.InitParse=function(t){e.SortAsc(t);for(var o=[[],[],[],[],[]],r={},a={},s=0;s<n.end;s++)a[s]=0,r[s]=[];for(var c=n.card_unknow,l=0,u=0;u<t.length;u++){var p=t[u],f=i.makeCardByCode(p).index;if(a[f]=a[f]+1,r[f].push(p),c==n.card_unknow)c=f,l=1;else if(f!=c){if(4==l)o[4].push(c);else for(var h=0;h<l;h++)o[h+1].push(c);c=f,l=1}else l++}if(4==l)o[4].push(c);else for(h=0;h<l;h++)o[h+1].push(c);return{card_type_stat:o,card_name_info:r,card_name_stat:a}},e.SortAsc=function(e){e.sort(function(e,t){var o=i.codeToValue(e),n=i.codeToValue(t);return o==n?e-t:o-n})},e.tishi=[3,4,5,8,6,7,2,1,0],e}();o.DouDiZhuCardCommon=a,cc._RF.pop()},{}],poker_logic_set:[function(e,t,o){"use strict";cc._RF.push(t,"8a89dr0bblGVqCD7Gj5V8ou","poker_logic_set");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./poker_pattern"),i=e("./poker_recommend"),a=e("./poker_data"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){this.cards=[],this.card_cnt=0}return e.prototype.setCodeList=function(e,t){if(this.cards=[],e)for(var o=0;o<e.length;o++){var n=e[o];this.cards.push(n)}this.card_cnt=null!=t?t:this.cards.length},e.prototype.hintIterator=function(e,t){var o=!0,n=[],a=t||this.cards;null!=e&&(o=!1,n=e.cards);for(var s=i.PokerRecommend.hintIterator(a,n,o),c=[],l=0;l<s.tishi.length;l++){var u=s.tishi[l];if(null==(h=r.CardPattern.newPattern(u)))return null;h.type!=r.PatternType.type_sandaiyi&&h.type!=r.PatternType.type_feiji||this.proc_sanzhang_tail_cards(h,e,a),c.push(h)}if(!e||e.type==r.PatternType.type_sidaier){var p=i.PokerRecommend.get_cards_type(n),f=i.PokerRecommend.find_all_biger_sizhang(a,p.card_value);for(l=0;l<f.length;l++){u=f[l];var h=r.CardPattern.newPattern(u);this.proc_sizhang_tail_cards(h,e,a),c.push(h)}}var d=1;return 0==c.length?{tishiFun:null,count:0,auto:s.auto,pattern_set:c}:{tishiFun:function(){var e=d;return d=d%c.length+1,c[e-1]},count:c.length,auto:s.auto,pattern_set:c}},e.prototype.choose_hintIterator=function(e,t){var o=this.hintIterator(t,e);if(null!=o){if(o.pattern_set.length>0){o.pattern_set.sort(function(e,t){return t.card_cnt-e.card_cnt});for(var n=o.pattern_set[0].card_cnt,i=[],s=0;s<o.pattern_set.length;s++){var c=o.pattern_set[s];c.card_cnt==n&&i.push(c)}return o.pattern_set=i,o.pattern_set.sort(function(e,t){return a.DouDiZhuCardCommon.tishi[t.type]-a.DouDiZhuCardCommon.tishi[e.type]}),o.pattern_set[0]}return{cards:e,card_cnt:e.length,type:r.PatternType.type_unknow}}},e.prototype.proc_sanzhang_tail_cards=function(e,t,o){var n,i=e.card_cnt/3*2;if(t){if(t.type==r.PatternType.type_sandaiyi&&3==t.card_cnt)return;if(t.type==r.PatternType.type_feiji&&3*i==t.card_cnt)return}if(e.type!=r.PatternType.type_sandaiyi&&e.type!=r.PatternType.type_feiji&&console.error(new Error("\u53ea\u5904\u74063\u5f20\u6216\u98de\u673a\u7684\u5e26\u724c").stack),t)if(t.type==r.PatternType.type_sandaiyi)5!=t.card_cnt&&4!=t.card_cnt&&console.error(new Error("\u53ea\u5904\u74063\u5e261\u5bf9\u6216\u4e09\u5e26\u5355\u5f20\u7684\u5e26\u724c").stack),n=5==t.card_cnt?r.PatternType.type_duizi:r.PatternType.type_danpai;else{t.card_cnt<=3*i&&console.error(new Error("\u6ca1\u6709\u724c\u7ed9\u98de\u673a\u5f53\u7fc5\u8180\u4e86").stack);var s=t.card_cnt-3*i;n=s/i,s%i!=0||n!=r.PatternType.type_danpai&&n!=r.PatternType.type_duizi||console.error(new Error("tail_cards_cnt%with_cnt == 0 && (with_type == PatternType.type_danpai || with_type == PatternType.type_duizi)").stack)}else n=r.PatternType.type_danpai;for(var c=[],l=[],u=0;u<e.cards.length;u++){l[h=e.cards[u]]=!0}for(u=0;u<o.length;u++){l[h=o[u]]||c.push(h)}if(c.sort(function(e,t){return e-t}),c.length>=2&&a.Card.makeCardByCode(c[c.length-1]).index==a.CardNameIndex.card_big_king&&a.Card.makeCardByCode(c[c.length-2]).index==a.CardNameIndex.card_small_king&&(c.splice(c.length-1,1),c.splice(c.length-1)),c.length>=i*n){var p=a.DouDiZhuCardCommon.InitParse(c),f=this.get_tail_cards(p.card_type_stat,p.card_name_info,p.card_name_stat,i,n);if(f.tail_type&&f.tail_cards.length/f.tail_type==i){for(u=0;u<f.tail_cards.length;u++){var h=f.tail_cards[u];e.cards.push(h)}e.card_cnt+=f.tail_cards.length,e.type==r.PatternType.type_sandaiyi&&e.parseDispType()}}},e.prototype.proc_sizhang_tail_cards=function(e,t,o,n){var i=e.card_cnt/4*3;if(!t||t.type==r.PatternType.type_sidaier){t?t.type==r.PatternType.type_sidaier&&(n=6==t.card_cnt?r.PatternType.type_danpai:r.PatternType.type_duizi):n=n||r.PatternType.type_duizi;for(var s=[],c=[],l=0;l<e.cards.length;l++){c[f=e.cards[l]]=!0}for(l=0;l<o.length;l++){c[f=o[l]]||s.push(f)}if(s.sort(function(e,t){return e-t}),s.length>=2&&a.Card.makeCardByCode(s[s.length-1]).index==a.CardNameIndex.card_big_king&&a.Card.makeCardByCode(s[s.length-2]).index==a.CardNameIndex.card_small_king&&(s.splice(s.length-1,1),s.splice(s.length-1)),s.length>=i*n){var u=a.DouDiZhuCardCommon.InitParse(s),p=this.get_tail_cards(u.card_type_stat,u.card_name_info,u.card_name_stat,i,n);if(p.tail_type&&p.tail_cards.length/p.tail_type==i){for(l=0;l<p.tail_cards.length;l++){var f=p.tail_cards[l];e.cards.push(f)}return e.card_cnt+=p.tail_cards.length,e.type=r.PatternType.type_sidaier,void e.parseDispType()}}t||n!=r.PatternType.type_duizi||this.proc_sizhang_tail_cards(e,t,o,r.PatternType.type_danpai)}},e.prototype.get_tail_cards=function(e,t,o,n,i){var s=[],c=null,l=function(e,t){var o=function(e){return e==a.CardNameIndex.card_A?a.CardNameIndex.card_K+.1:e==a.CardNameIndex.card_2?a.CardNameIndex.card_K+.2:void 0};return(e=o(e))-(t=o(t))},u=[],p=[],f=[],h=e[r.PatternType.type_danpai];h.length>0&&this.porc_serial_cards(o,r.PatternType.type_danpai,h.length,h,5,u,p);for(var d=[],_=0;_<u.length;_++)for(var m=u[_],y=0;y<m.length;y++){2==o[w=m[y]]?(d[w]={index:_,count:1},p.push(w)):3==o[w]&&(d[w]={index:_,count:2},f.push(w))}var v=[];for(_=0;_<e[r.PatternType.type_duizi].length;_++){d[w=e[r.PatternType.type_duizi][_]]||2!=o[w]||v.push(w)}var g=[],b=[];v.length>0&&this.porc_serial_cards(o,r.PatternType.type_duizi,v.length,v,2,g,b);for(_=0;_<b.length;_++){var w=b[_];f.push(w)}f.sort(l);for(_=0;_<g.length;_++){var k=g[_];for(y=0;y<k.length;y++){w=k[y];f.push(w)}}var C=[];for(_=0;_<e[r.PatternType.type_sandaiyi].length;_++){d[w=e[r.PatternType.type_sandaiyi][_]]||3!=o[w]||C.push(w)}if(i==r.PatternType.type_danpai){c=r.PatternType.type_danpai,p.sort(l);var P=[];for(_=0;_<p.length;_++){var R=t[w=p[_]][0];if(s.push(R),P.push(R),s.length>=n)break}if(s.length<n)for(_=0;_<f.length;_++){w=f[_];if(s.length>=n)break;R=t[w][0];var O=a.Card.codeToValue(R);s.length+1==n&&P.length>0&&a.Card.codeToValue(P[P.length-1])>O&&(s.pop(),P.pop()),s.push(R),s.length<n&&s.push(t[w][1])}if(s.length<n)for(_=0;_<C.length;_++){w=C[_];if(s.length>=n)break;s.push(t[w][0]),s.length<n&&(s.push(t[w][1]),s.length<n&&s.push(t[w][2]))}if(s.length<n)for(_=0;_<u.length;_++){var S=u[_];for(y=0;y<S.length;y++){w=S[y];if(s.push(t[w][t[w].length-1]),s.length>=n)break}if(s.length>=n)break}}else if(i==r.PatternType.type_duizi){c=r.PatternType.type_duizi;for(_=0;_<f.length;_++){w=f[_];if(s.length>=2*n)break;s.push(t[w][0]),s.push(t[w][1])}if(s.length<2*n)for(_=0;_<C.length;_++){w=C[_];if(s.length>=2*n)break;s.push(t[w][0]),s.push(t[w][1])}}return{tail_cards:s,tail_type:c}},e.prototype.porc_serial_cards=function(e,t,o,n,r,i,s){var c=1;if(o>=r)for(var l=1;l<=o-1;l++)if(a.Card.indexToValue(n[l-1])+1!=a.Card.indexToValue(n[l-1+1])){if(l-c+1>=r){i.push([]);for(var u=c;u<=l;u++)i[i.length-1].push(n[u-1])}else for(u=c;u<=l;u++)e[n[u-1]]==t&&s.push(n[u-1]);if(o-(c=l+1)+1<r)break}if(o-c+1>=r){i.push([]);for(l=c;l<=o;l++)i[i.length-1].push(n[l-1])}else for(l=c;l<=o;l++)e[n[l-1]]==t&&s.push(n[l-1])},e=n([c],e)}());o.PokerSet=l,cc._RF.pop()},{"./poker_data":"poker_data","./poker_pattern":"poker_pattern","./poker_recommend":"poker_recommend"}],poker_myseat_pokers:[function(e,t,o){"use strict";cc._RF.push(t,"44ef8pxj51Df6xtZNj7AfFA","poker_myseat_pokers");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./poker_seat_pokers_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useDynamicOffset=!1,t.minOffset=cc.Vec2.ZERO,t.maxOffset=cc.Vec2.ZERO,t.isPlayingSelectPokerAnim=!1,t.mFirstHoverPoker=null,t.mLastHoverPoker=null,t.m_sortedByZIndexPokerList=[],t.m_selectTimeIndex=0,t.custom_on_finish_drag_pokers_fun=null,t.on_finish_drag_pokers_reselect_fun=null,t.on_select_pokers_changed=null,t.selectOffest=cc.v2(0,30),t.m_originalInterval=null,t}return n(t,e),t.prototype.getOriginalInterval=function(){return this.m_originalInterval},t.prototype.getIntervalX=function(t,o){var n=e.prototype.getIntervalX.call(this,t,o);this.useDynamicOffset&&(t>1&&(n=this.getOriginalInterval().x*(this.maxColCount-1)/(t-1),n=Math.max(this.minOffset.x,n),n=Math.min(this.maxOffset.x,n)));return n},t.prototype.getIntervalY=function(t,o){var n=e.prototype.getIntervalY.call(this,t,o);this.useDynamicOffset&&(o>1&&(n=this.getOriginalInterval().y*(this.maxRowCount-1)/(o-1),n=Math.max(this.minOffset.y,n),n=Math.min(this.maxOffset.y,n)));return n},t.prototype.onLoad=function(){this.m_originalInterval=cc.v2(this.intervalX,this.intervalX)},t.prototype.getSelectedOffsetPos=function(){return this.selectOffest},t.prototype.genTimeSelectIndex=function(){return++this.m_selectTimeIndex},t.prototype.genSortedByZIndexPokerList=function(){for(var e=this.pokers,t=[],o=0;o<this.pokers.length;o++)t.push(e[o]);return t.sort(function(e,t){return t.node.zIndex-e.node.zIndex}),t},t.prototype.findTouchedPoker=function(e){for(var t=this.m_sortedByZIndexPokerList,o=0;o<t.length;o++){var n=t[o];if(n.isTouchAtPoker(e))return n}return null},t.prototype.genPoker=function(t,o){var n=e.prototype.genPoker.call(this,t,o);return n.setClickListener(this.on_click,this),n.setTouchStartListener(this.on_touch_start,this),n.setTouchMoveListener(this.on_touch_move,this),n.setTouchEndListener(this.on_touch_end,this),n.setTouchCancelListener(this.on_touch_cancel,this),n},t.prototype.on_touch_start=function(e,t){this.m_sortedByZIndexPokerList=this.genSortedByZIndexPokerList(),this.isPlayingSelectPokerAnim||this.on_press(e)},t.prototype.on_touch_move=function(e,t){if(!this.isPlayingSelectPokerAnim){var o=this.findTouchedPoker(t.touch);null!=o&&this.on_drag(o)}},t.prototype.on_touch_end=function(e,t){this.isPlayingSelectPokerAnim||this.on_press_up(e)},t.prototype.on_touch_cancel=function(e,t){if(!this.isPlayingSelectPokerAnim){var o=this.findTouchedPoker(t.touch);null!=o?this.on_press_up(o):this.on_press_up(this.mFirstHoverPoker)}},t.prototype.on_click=function(e){},t.prototype.on_drag=function(e){null==this.mFirstHoverPoker&&(this.mFirstHoverPoker=e),this.mLastHoverPoker=e,this.on_draging_pokers()},t.prototype.on_press=function(e){this.mFirstHoverPoker=e,this.mLastHoverPoker=e,this.on_draging_pokers()},t.prototype.on_press_up=function(e){null!=e&&(null==this.mFirstHoverPoker&&(this.mFirstHoverPoker=e),null==this.mLastHoverPoker&&(this.mLastHoverPoker=e)),null!=this.mLastHoverPoker&&(this.on_draging_pokers(),this.on_finish_drag_pokers())},t.prototype.check_drag_mark=function(){for(var e={startPoker:null,isLeftPokersUnMark:!1},t=this.pokers,o=0;o<t.length;o++){var n=t[o];e=this.check_drag_mark_singel(n,e.isLeftPokersUnMark,e.startPoker)}},t.prototype.check_drag_mark_singel=function(e,t,o){return t?e.marked=!1:e==this.mFirstHoverPoker?(e.marked=!0,null!=o||e==this.mLastHoverPoker?t=!0:o=e):e==this.mLastHoverPoker?(e.marked=!0,null!=o||e==this.mFirstHoverPoker?t=!0:o=e):e.marked=null!=o,{isLeftPokersUnMark:t,startPoker:o}},t.prototype.check_poker_selected_state=function(){for(var e=[],t=[],o=[],n=this.pokers,r=0;r<n.length;r++){var i=n[r];i.marked&&!i.disabled&&(i.selected=!i.selected,e.push(i),i.selected?(t.push(i),i.selected_time=this.genTimeSelectIndex()):i.selected_time=0,i.real_selected&&o.push(i))}return{markedList:e,selectedList:t,real_selectedList:o}},t.prototype.on_draging_pokers=function(){this.check_drag_mark(),this.refreshPokersMarkState()},t.prototype.on_finish_drag_pokers=function(){var e=this;this.mFirstHoverPoker=null,this.mLastHoverPoker=null;var t=this.check_poker_selected_state();if(this.markAllPokers(!1),this.refreshPokersMarkState(),null!=this.custom_on_finish_drag_pokers_fun)return this.custom_on_finish_drag_pokers_fun();t.markedList.length>1&&t.selectedList.length>1&&this.on_finish_drag_pokers_reselect_fun?this.on_finish_drag_pokers_reselect_fun():(this.isPlayingSelectPokerAnim=!0,this.refreshPokerSelectState(!0,function(){e.isPlayingSelectPokerAnim=!1}))},t.prototype.markAllPokers=function(e){for(var t=this.pokers,o=0;o<t.length;o++){t[o].marked=e}},t.prototype.refreshPokersMarkState=function(){for(var e=this.pokers,t=0;t<e.length;t++){var o=e[t];this.setPokerGrayColor(o,o.marked)}},t.prototype.setPokerGrayColor=function(e,t){e.spriteFace.node.color=t?cc.color(128,128,128,255):e.original_color},t.prototype.playSelectPokerAnim=function(e,t,o,n,r){var i=this.getSelectedOffsetPos(),a=cc.v2(t.x,t.y);o&&(a.y+=i.y),e.position=a,null!=r&&r()},t.prototype.refreshPokerSelectState=function(e,t){for(var o=this,n=this.pokers,r=0,i=n.length,a=function(e){var a=n[e],c=a.selected;s.playSelectPokerAnim(a.node,a.original_pos,c,!1,function(){c?(a.real_selected=!0,a.real_selected_time=o.genTimeSelectIndex()):(a.real_selected=!1,a.real_selected_time=0),(r+=1)==i&&(t&&t(),o.on_select_pokers_changed&&o.on_select_pokers_changed())})},s=this,c=0;c<i;c++)a(c)},t.prototype.setCustomOnFinishDragFunc=function(e){this.custom_on_finish_drag_pokers_fun=e},t.prototype.setCustomOnFinishDragPokerReselectFunc=function(e){this.on_finish_drag_pokers_reselect_fun=e},t.prototype.setCustomOnSelectPokersChanged=function(e){this.on_select_pokers_changed=e},t.prototype.resetPokers=function(e,t,o){var n=this;this.selectAllPokers(!1),this.refreshPokersMarkState(),o&&o.ignoreResetDisable||(this.enabledAllPokers(),this.refreshPokerDisableState()),this.repostionPokers(!1,function(){n.isPlayingSelectPokerAnim=!1,t&&t(),n.on_select_pokers_changed&&n.on_select_pokers_changed()})},t.prototype.repostionPokers=function(e,t){for(var o=this.pokers,n=o.length,r=this.calcLayoutPosAndPriority(n).dataList,i=function(e){var t=o[e],n=r[e];t.node.position=n.pos,t.original_pos=n.pos,t.node.zIndex=n.priority},a=0;a<n;a++)i(a);t&&t()},t.prototype.selectPokers=function(e,t){var o=[],n=[],r=[],i=this.pokers,a=!1,s=e;t&&t.length>0&&(a=!0,s=t);for(var c=0;c<s.length;c++){n[l=s[c]]||(n[l]=0),n[l]=n[l]+1,r[l]=0}this.selectAllPokers(!1);for(c=0;c<s.length;c++)for(var l=s[c],u=0;u<i.length;u++){var p=i[u],f=p.code;a&&(f=p.id),f!=l||p.selected||n[l]>r[l]&&(r[l]=r[l]+1,p.selected=!0,p.selected_time=this.genTimeSelectIndex(),o.push(p))}return o},t.prototype.selectPoker=function(e,t){t?(e.selected=!0,e.selected_time=this.genTimeSelectIndex(),e.real_selected=!0,e.real_selected_time=this.genTimeSelectIndex()):(e.selected=!1,e.selected_time=0,e.real_selected=!1,e.real_selected_time=0),e.marked=!1},t.prototype.selectAllPokers=function(e){for(var t=this.pokers,o=0;o<t.length;o++){var n=t[o];this.selectPoker(n,e)}},t.prototype.getSelectedPokers=function(){for(var e=[],t=[],o=[],n=[],r=[],i=[],a=this.pokers,s=0;s<a.length;s++){var c=a[s];c.selected&&(e.push(c),t.push(c.id),o.push(c.code)),c.real_selected&&(n.push(c),r.push(c.id),i.push(c.code))}return{selected_pokerList:e,selected_codeList:o,selected_idList:t,real_selected_pokerList:n,real_selected_codeList:i,real_selected_idList:r}},t.prototype.enabledAllPokers=function(){for(var e=[],t=this.pokers,o=0;o<t.length;o++){var n=t[o];n.disabled=!1,e.push(n)}return e},t.prototype.disablePokers=function(e,t){var o=[],n=[],r=[],i=this.pokers,a=!1,s=e;t&&t.length>0&&(a=!0,s=t);for(var c=0;c<s.length;c++){n[l=s[c]]||(n[l]=0),n[l]=n[l]+1,r[l]=0}this.enabledAllPokers();for(c=0;c<s.length;c++)for(var l=s[c],u=0;u<i.length;u++){var p=i[u],f=p.code;a&&(f=p.id),f!=l||p.disabled||n[l]>r[l]&&(r[l]=r[l]+1,p.disabled=!0,o.push(p))}return o},t.prototype.refreshPokerDisableState=function(){for(var e=this.pokers,t=0;t<e.length;t++){var o=e[t];o.enableClick(!o.disabled)}},r([c(cc.Boolean)],t.prototype,"useDynamicOffset",void 0),r([c(cc.Vec2)],t.prototype,"minOffset",void 0),r([c(cc.Vec2)],t.prototype,"maxOffset",void 0),r([c(cc.Vec2)],t.prototype,"selectOffest",void 0),t=r([s,l("custom/PokerTableMySeatPokers")],t)}(i.default);o.default=u,cc._RF.pop()},{"./poker_seat_pokers_base":"poker_seat_pokers_base"}],poker_node_set:[function(e,t,o){"use strict";cc._RF.push(t,"a23cbU/qiFAfqgGc+DruJBs","poker_node_set");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./poker_node"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pokerNodes=[],t}return n(t,e),t.prototype.playerCardAnim=function(e,t,o){for(var n=this,r=function(t){var r=e[t],a=i.getTransFromData(o,t);r.parent.convertToNodeSpaceAR(a.worldPos,void 0),i.scheduleOnce(function(){n.playAnim(r,void 0,a.scale,a.angle,.2,0,null,cc.easeCubicActionInOut())},.1*t)},i=this,a=0;a<o;a++)r(a)},t.prototype.getTransFromData=function(e,t){var o=this.pokerNodes[e];return o?o.transformDataList[t]:null},t.prototype.playAnim=function(e,t,o,n,r,i,a,s){var c=this,l=function(){var i=cc.moveTo(r,t),l=cc.rotateTo(r,-n),u=cc.scaleTo(r,o);s&&(i=i.easing(s),l=l.easing(s),u=u.easing(s));var p=function(){a&&a()}.bind(c),f=cc.callFunc(p),h=cc.spawn([i,l,u]),d=cc.sequence([h,f]);e.stopAllActions(),e.runAction(d)};i&&i>0?c.scheduleOnce(function(){l()},i):l()},r([c([i.PokerNode])],t.prototype,"pokerNodes",void 0),t=r([s],t)}(cc.Component);o.PokerNodeSet=l,cc._RF.pop()},{"./poker_node":"poker_node"}],poker_node:[function(e,t,o){"use strict";cc._RF.push(t,"5d6d2GwBjJASqlI2rn37K4x","poker_node");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mTransformDataList=null,t}return n(t,e),t.prototype.onLoad=function(){if(!this.mTransformDataList)for(var e=this.node.childrenCount,t=0;t<e;t++){var o=this.node.getChildByName("p"+(t+1)),n={};n.localPos=o.position,n.angle=o.angle+o.parent.angle,n.scale=o.scale+o.parent.scale,this.mTransformDataList.push(n)}},Object.defineProperty(t.prototype,"transformDataList",{get:function(){return this.mTransformDataList},enumerable:!0,configurable:!0}),t=r([a],t)}(cc.Component));o.PokerNode=s,cc._RF.pop()},{}],poker_pattern:[function(e,t,o){"use strict";cc._RF.push(t,"2a9e6gpS4hH6LzvWUEioQZd","poker_pattern"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=e("./poker_data"),i=e("./poker_recommend"),a=e("./recommend_tools"),s=cc._decorator;s.ccclass,s.property;(function(e){e[e.type_unknow=0]="type_unknow",e[e.type_danpai=1]="type_danpai",e[e.type_duizi=2]="type_duizi",e[e.type_sandaiyi=3]="type_sandaiyi",e[e.type_feiji=4]="type_feiji",e[e.type_shunzi=5]="type_shunzi",e[e.type_liandui=6]="type_liandui",e[e.type_zhadan=7]="type_zhadan",e[e.type_huojian=8]="type_huojian",e[e.type_sidaier=9]="type_sidaier"})(n=o.PatternType||(o.PatternType={}));var c=function(){function e(){this.cards=[],this.value=0,this.type=n.type_unknow,this.repeated_cnt=1,this.card_cnt=0,this.feijinum=0}return e.newPattern=function(t){var o=new e;return o.parse(t)?o:null},e.prototype.compable=function(e){return this.type<=n.type_unknow&&console.error(new Error("this.type="+this.type+"<=PatternType.type_unknow").stack),e.type<=n.type_unknow&&console.error(new Error("pattern.type="+e.type+"<=PatternType.type_unknow").stack),this.type==n.type_zhadan||this.type==n.type_huojian||this.card_cnt==e.card_cnt&&this.type==e.type},e.prototype.le=function(e){var t=[0,0,0,0,0,0,0,100,200,0];null==e&&console.error(new Error("pattern=null").stack),this.compable(e)||console.error(new Error("\u4e0d\u53ef\u6bd4\u8f83\u7684\u724c\u578b").stack);var o=a.RecommendTools.Max(r.Card.cardValueMap);return this.value>o&&console.error(new Error("this.value > maxValue,"+this.value).stack),e.value>o&&console.error(new Error("pattern.value > maxValue,"+e.value).stack),this.value+t[this.type]<=e.value+t[e.type]},e.prototype.parseDispType=function(){this.type==n.type_danpai?this.disp_type=["one1","one2","one3","one4","one5","one6","one7","one8","one9","one10","one11","one12","one13","one14","one15"][i.PokerRecommend.value2cardvalue(this.value)]:this.type==n.type_duizi?this.disp_type=["dui1","dui2","dui3","dui4","dui5","dui6","dui7","dui8","dui9","dui10","dui11","dui12","dui13"][i.PokerRecommend.value2cardvalue(this.value)]:this.type==n.type_sandaiyi?3==this.card_cnt?this.disp_type="sanzhang":4==this.card_cnt?this.disp_type="sandaiyi":5==this.card_cnt&&(this.disp_type="sandaier"):this.type==n.type_shunzi?this.disp_type="shunzi":this.type==n.type_liandui?this.disp_type="liandui":this.type==n.type_zhadan?this.disp_type="zhadan":this.type==n.type_feiji?this.disp_type="feiji":this.type==n.type_huojian?this.disp_type="huojian":this.type==n.type_sidaier&&(6==this.card_cnt?this.disp_type="sidaier":this.disp_type="sidaisi")},e.prototype.parse=function(e){if(null!=e){this.cards=[];for(var t=0;t<e.length;t++){var o=e[t];this.cards.push(o)}}this.card_cnt=this.cards.length;var r=i.PokerRecommend.get_cards_type(e);return r.card_type!=n.type_unknow&&(this.type=r.card_type,this.value=r.card_value,this.feijinum=r.feijinum,this.parseDispType(),!0)},e}();o.CardPattern=c,cc._RF.pop()},{"./poker_data":"poker_data","./poker_recommend":"poker_recommend","./recommend_tools":"recommend_tools"}],poker_recommend:[function(e,t,o){"use strict";cc._RF.push(t,"9f215Bj8AdGgYmER3XbjkGR","poker_recommend"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./recommend_tools"),r=e("./poker_data"),i=e("./poker_pattern"),a=function(){function e(){}return e.find_all_sizhang=function(t){var o=e.codesToValues(t),r=n.RecommendTools.remove_count_same(o,4);n.RecommendTools.sort_ascend(r.removel);for(var i=[],a=0;a<r.removel.length;a++){var s=r.removel[a],c=e.value2have_idx(s,t);i.push(c)}return i},e.find_all_danzhang=function(t){var o=e.codesToValues(t),r=n.RecommendTools.remove_count_same(o,4),i=n.RecommendTools.remove_count_same(r.surl,3),a=n.RecommendTools.remove_count_same(i.surl,2);n.RecommendTools.sort_ascend(a.surl),n.RecommendTools.sort_ascend(i.removel),n.RecommendTools.sort_ascend(a.removel);for(var s=[],c=[],l=[],u=0;u<a.surl.length;u++){var p=a.surl[u],f=e.value2have_idx(p,t);s.push(f)}for(u=0;u<a.removel.length;u++){p=a.removel[u],f=e.value2have_point_idx([p],t);c.push(f)}for(u=0;u<i.removel.length;u++){p=i.removel[u],f=e.value2have_point_idx([p],t);l.push(f)}return{all:n.RecommendTools.TableAdd([s,c,l],3),danzhangidx:s}},e.codesToValues=function(e){if(n.RecommendTools.is_null_or_empty(e))return e;for(var t=[],o=0;o<e.length;o++){var i=e[o];t.push(r.Card.codeToValue(i))}return t},e.first_tishi_card=function(t){e.find_all_danzhang(t);var o={tishi:[],auto:!1};if(1==t.length)o.tishi=[t],o.auto=!0;else if(2==t.length)e.duiZi(t)?(o.tishi=[t],o.auto=!0):o.tishi=e.find_tishi_type(t);else if(3==t.length)null!=e.sandaiyi(t)?(o.tishi=[t],o.auto=!0):o.tishi=e.find_tishi_type(t);else if(4==t.length)null!=e.zhadan(t)||null!=e.sandaiyi(t)?(o.tishi=[t],o.auto=!0):o.tishi=e.find_tishi_type(t);else if(5==t.length){0==(r=e.find_huojian(t)).length&&null!=e.sandaiyi(t)||null!=e.shunzi(t)?(o.tishi=[t],o.auto=!0):o.tishi=e.find_tishi_type(t)}else{var n=e.find_all_sizhang(t),r=e.find_huojian(t);0==n.length&&0==r.length&&(null!=e.shunzi(t)||null!=e.liandui(t)||null!=e.feiji(t))?(o.tishi=[t],o.auto=!0):o.tishi=e.find_tishi_type(t)}return o},e.feiji=function(e){return null},e.liandui=function(t){var o=e.codesToValues(t),r=n.RecommendTools.remove_count_same(o,2);return n.RecommendTools.table_value_shunzi(r.removel)&&r.removel.length>=2&&0==r.surl.length?n.RecommendTools.sort_descend(r.removel)[0]:null},e.danPai=function(t){return 1==t.length?e.codesToValues(t)[0]:null},e.zhadan=function(t){if(4==t.length){var o=e.codesToValues(t);return n.RecommendTools.isSameValue(o)?o[0]:null}return null},e.shunzi=function(t){var o=e.codesToValues(t);return n.RecommendTools.table_value_shunzi(o)&&t.length>=5?(o=n.RecommendTools.sort_descend(o))[0]:null},e.duiZi=function(t){if(2==t.length){var o=e.codesToValues(t);return n.RecommendTools.isSameValue(o)?o[0]:null}return null},e.find_all_sanzhang=function(t){var o=e.codesToValues(t),r=n.RecommendTools.remove_count_same(o,4),i=n.RecommendTools.remove_count_same(r.surl,3),a=[];n.RecommendTools.sort_ascend(i.removel);for(var s=0;s<i.removel.length;s++){var c=i.removel[s],l=e.value2have_idx(c,t);a.push(l)}return a},e.find_all_duizi=function(t){var o=e.codesToValues(t),r=n.RecommendTools.remove_count_same(o,4),i=n.RecommendTools.remove_count_same(r.surl,3),a=n.RecommendTools.remove_count_same(i.surl,2);n.RecommendTools.sort_ascend(i.removel),n.RecommendTools.sort_ascend(a.removel);for(var s=[],c=[],l=0;l<a.removel.length;l++){var u=a.removel[l],p=e.value2have_idx(u,t);s.push(p)}for(l=0;l<i.removel.length;l++){u=i.removel[l],p=e.value2have_point_idx([u,u],t);c.push(p)}return{all:n.RecommendTools.two_table_add(s,c),duizil:s}},e.value2have_point_idx=function(t,o){for(var r=[],i=n.RecommendTools.copy_array(o),a=0;a<t.length;a++){var s=t[a],c=e.value2have_idx(s,i);if(c.length>0)for(var l=0;l<i.length;l++){var u=i[l];u==c[0]&&(r.push(u),i.splice(l,1))}}return r=n.RecommendTools.sort_ascend(r)},e.value2have_idx=function(e,t){for(var o=[],i=0;i<t.length;i++){var a=t[i];r.Card.codeToValue(a)==e&&o.push(a)}return o=n.RecommendTools.sort_ascend(o)},e.find_huojian=function(e){return[]},e.sandaiyi=function(t){var o=t.length;if(3==o||4==o||5==o){var r=e.codesToValues(t),i=n.RecommendTools.remove_count_same(r,4),a=n.RecommendTools.remove_count_same(r,3);return 4==o&&1==i.removel.length?null:1==a.removel.length?a.removel[0]:null}return null},e.find_tishi_type=function(t){var o=e.find_all_sanzhang(t),r=e.find_all_duizi(t),i=e.find_all_danzhang(t),a=e.find_all_sizhang(t),s=e.find_huojian(t),c=[],l=[],u=[],p=o.length,f=12;t.length<12&&t.length>4?f=t.length:t.length<5&&(f=0);for(var h=r.all.length;p>1&&0==c.length;)c=e.find_all_feiji(t,p),p-=1;for(;f>4&&0==l.length;)l=e.find_all_shunzi(t,f),f-=1;for(;h>=2&&0==u.length;)u=e.find_all_liandui(t,h),h-=1;return n.RecommendTools.TableAdd([c,u,l,o,r.duizil,i.danzhangidx,a,s])},e.find_all_feiji=function(t,o){for(var r=e.codesToValues(t),i=n.RecommendTools.remove_count_same(r,4),a=n.RecommendTools.remove_count_same(i.surl,3),s=n.RecommendTools.two_table_add(i.removel,a.removel),c=n.RecommendTools.find_point_shunzi(s,o),l=[],u=0;u<c.length;u++){var p=c[u];l.push(e.value2have_point_idx(n.RecommendTools.copy_table_value(p,3),t))}return l},e.find_all_liandui=function(t,o){for(var r=e.codesToValues(t),i=n.RecommendTools.remove_count_same(r,4),a=n.RecommendTools.remove_count_same(i.surl,3),s=n.RecommendTools.remove_count_same(a.surl,2),c=n.RecommendTools.two_table_add(a.removel,s.removel),l=n.RecommendTools.find_point_shunzi(c,o),u=[],p=0;p<l.length;p++){var f=l[p];u.push(e.value2have_point_idx(n.RecommendTools.copy_table_value(f,2),t))}return u},e.find_all_shunzi=function(t,o){for(var r=e.codesToValues(t),i=n.RecommendTools.find_point_shunzi(r,o),a=[],s=0;s<i.length;s++){var c=i[s];a.push(e.value2have_point_idx(c,t))}return a},e.hintIterator=function(t,o,n){var r={tishi:[],auto:!1};return n?r=e.first_tishi_card(t):(r.tishi=e.find_all_biger_type(t,o),1==r.tishi.length&&r.tishi[0].length==t.length&&(r.auto=!0)),r},e.get_cards_type=function(t){var o={card_type:i.PatternType.type_unknow,card_value:0,feijinum:0};if(n.RecommendTools.is_null_or_empty(t))return o;var r=e.danPai(t);if(null!=r)return{card_type:i.PatternType.type_danpai,card_value:r};var a=e.duiZi(t);if(null!=a)return{card_type:i.PatternType.type_duizi,card_value:a};var s=e.sandaiyi(t);if(null!=s)return{card_type:i.PatternType.type_sandaiyi,card_value:s};var c=e.shunzi(t);if(null!=c)return{card_type:i.PatternType.type_shunzi,card_value:c};var l=e.liandui(t);if(null!=l)return{card_type:i.PatternType.type_liandui,card_value:l};var u=e.feiji(t);if(null!=u)return{card_type:i.PatternType.type_feiji,card_value:u.air,feijinum:u.feijinum};var p=e.zhadan(t);if(null!=p)return{card_type:i.PatternType.type_zhadan,card_value:p};var f=e.sidaier(t);return null!=f?{card_type:i.PatternType.type_sidaier,card_value:f}:o},e.sidaier=function(t){if(6==t.length){var o=e.codesToValues(t);return 1==(r=n.RecommendTools.remove_count_same(o,4)).removel.length?r.removel[0]:null}if(8==t.length){var r;o=e.codesToValues(t);return 1==(r=n.RecommendTools.remove_count_same(o,4)).removel.length?2==n.RecommendTools.remove_count_same(r.surl,2).removel.length?r.removel[0]:null:2==r.removel.length?n.RecommendTools.sort_descend(r.removel)[0]:null}return null},e.find_all_biger_type=function(t,o){var r=e.find_all_boom(t),a=e.find_huojian(t),s=e.get_cards_type(o);return s.card_type==i.PatternType.type_danpai?n.RecommendTools.two_table_add(e.find_all_biger_danpai(t,s.card_value),r):s.card_type==i.PatternType.type_duizi?n.RecommendTools.two_table_add(e.find_all_biger_duizi(t,s.card_value),r):s.card_type==i.PatternType.type_sandaiyi?n.RecommendTools.two_table_add(e.find_all_biger_sanzhang(t,s.card_value,o.length),r):s.card_type==i.PatternType.type_zhadan?n.RecommendTools.two_table_add(e.find_all_biger_sizhang(t,s.card_value),a):s.card_type==i.PatternType.type_shunzi?n.RecommendTools.two_table_add(e.find_all_biger_shunzi(t,s.card_value,o.length),r):s.card_type==i.PatternType.type_liandui?n.RecommendTools.two_table_add(e.find_all_biger_liandui(t,s.card_value,o.length/2),r):s.card_type==i.PatternType.type_feiji?n.RecommendTools.two_table_add(e.find_all_biger_feiji(t,o),r):s.card_type==i.PatternType.type_sidaier?r:(s.card_type,i.PatternType.type_huojian,[])},e.find_all_boom=function(t){return n.RecommendTools.two_table_add(e.find_all_sizhang(t),e.find_huojian(t))},e.find_all_biger_danpai=function(t,o){for(var n=e.find_all_danzhang(t),r=[],i=0;i<n.all.length;i++){var a=n.all[i],s=e.danPai(a);null!=s&&s>o&&r.push(a)}return r},e.find_all_biger_duizi=function(t,o){for(var n=e.find_all_duizi(t),r=[],i=0;i<n.all.length;i++){var a=n.all[i],s=e.duiZi(a);null!=s&&s>o&&r.push(a)}return r},e.find_all_biger_sizhang=function(t,o){for(var n=e.find_all_sizhang(t),r=[],i=0;i<n.length;i++){var a=n[i],s=e.zhadan(a);null!=s&&s>o&&r.push(a)}return r},e.find_all_biger_shunzi=function(t,o,n){for(var r=e.find_all_shunzi(t,n),i=[],a=0;a<r.length;a++){var s=r[a],c=e.shunzi(s);null!=c&&c>o&&i.push(s)}return i},e.find_all_biger_liandui=function(t,o,n){for(var r=e.find_all_liandui(t,n),i=[],a=0;a<r.length;a++){var s=r[a],c=e.liandui(s);null!=c&&c>o&&i.push(s)}return i},e.find_all_biger_sanzhang=function(t,o,n){var i=function(e){for(var o=[],n=[],i=0;i<e.length;i++){n[a=e[i]]=!0}for(i=0;i<t.length;i++){var a;if(!n[a=t[i]]){var s=r.Card.makeCardByCode(a).index;if(o[s]=o[s]?o[s]+1:1,o[s]>=2)return!0}}return!1},a=e.find_all_sanzhang(t),s=[];if(t.length>=n)for(var c=0;c<a.length;c++){var l=a[c];if(n<5||i(l)){var u=e.sandaiyi(l);null!=u&&u>o&&s.push(l)}}return s},e.find_all_biger_feiji=function(t,o){var n=e.feiji(o),r=[];if(null!=n){var i=e.find_all_feiji(t,n.feijinum);if(t.length>=o.length)for(var a=0;a<i.length;a++){var s=i[a],c=e.feiji(s);null!=c&&c.air>n.air&&r.push(s)}}return r},e.value2cardvalue=function(e){for(var t=0,o=0;o<r.Card.cardValueMap.length;o++){e==r.Card.cardValueMap[o]&&(t=o)}return t},e}();o.PokerRecommend=a,cc._RF.pop()},{"./poker_data":"poker_data","./poker_pattern":"poker_pattern","./recommend_tools":"recommend_tools"}],poker_seat_pokers_base:[function(e,t,o){"use strict";cc._RF.push(t,"f6096ee8rpEHISvtchQLh4I","poker_seat_pokers_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a,s,c,l,u=e("./poker_table_poker_base"),p=cc._decorator,f=p.ccclass,h=p.property,d=p.menu;(function(e){e[e.BottomToTop=0]="BottomToTop",e[e.CenterToMargin=1]="CenterToMargin",e[e.TopToBottom=2]="TopToBottom"})(i||(i={})),function(e){e[e.LeftToRight=0]="LeftToRight",e[e.CenterToMargin=1]="CenterToMargin",e[e.RightToLeft=2]="RightToLeft"}(a||(a={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(s||(s={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(c||(c={})),function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(l||(l={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabPoker=null,t.nodePokersParent=null,t.m_unUseedHandPokers=[],t.startAxis=s.Horizontal,t.horizontalDirection=a.CenterToMargin,t.verticalDirection=i.CenterToMargin,t.horizontalPriority=c.Right,t.verticalPriority=l.Bottom,t.followHorizontalDirection=!0,t.followVerticalDirection=!0,t.offsetX=0,t.offsetY=0,t.intervalX=0,t.intervalY=0,t.maxColCount=0,t.maxRowCount=0,t.pokers=[],t.m_customGetSpriteFrameKeyFunc=null,t}return n(t,e),t.prototype.reset=function(){this.showPokers(!1)},t.prototype.setCustomGetSpriteFrameKeyByCodeFunc=function(e,t){if(this.m_customGetSpriteFrameKeyFunc=e,t)for(var o=0;o<this.pokers.length;o++){this.pokers[o].setCustomGetSpriteFrameKeyByCodeFunc(e,t)}},t.prototype.genPoker=function(e,t){var o=this.shiftUnUseedPoker(this.m_unUseedHandPokers);null==o&&(o=this.instantiateObj(this.prefabPoker.node,this.nodePokersParent).getComponent(u.default));return o.node.name=e+"",o.reset(),o.setCustomGetSpriteFrameKeyByCodeFunc(this.m_customGetSpriteFrameKeyFunc,!1),o.fillPoker(e,t),o},t.prototype.shiftUnUseedPoker=function(e){return e.shift()},t.prototype.pushToUnUseedList=function(e,t){e.push(t)},t.prototype.instantiateObj=function(e,t){var o=cc.instantiate(e);return o.parent=t,o.position=cc.v2(0,0),o.scale=1,o},t.prototype.formatPokersLayout=function(e){for(var t=this.calcLayoutPosAndPriority(e.length),o=t.dataList,n=0;n<e.length;n++){var r=e[n],i=o[n];r.node.position=i.pos,r.original_pos=i.pos,r.node.zIndex=i.priority}return t.centerPos},t.prototype.calcLayoutPosAndPriority=function(e){var t=[],o=this.maxColCount,n=this.maxRowCount,r=1,c=1;this.startAxis==s.Horizontal?(r=e>o?o:e,c=Math.ceil(e/r)):(c=e>n?n:e,r=Math.ceil(e/c));for(var l=e%r,u=e%c,p=0;p<e;p++){var f=p,h=0,d=e-1-f,_=r,m=c,y=this.horizontalDirection,v=this.verticalDirection;this.horizontalPriority,this.verticalPriority;if(this.followHorizontalDirection||(y==a.LeftToRight?y=a.RightToLeft:y==a.RightToLeft&&(y=a.LeftToRight)),this.followVerticalDirection||(v==i.TopToBottom?v=i.BottomToTop:v==i.BottomToTop&&(v=i.TopToBottom)),this.startAxis==s.Horizontal){v==i.BottomToTop&&l>0&&(f>=l?h=r-l:y==a.CenterToMargin?_=l:y==a.RightToLeft&&(h=r-l));var g=f+h,b=d+h;y==a.CenterToMargin?g%r+b<l&&(_=l):y==a.RightToLeft&&g%r+b<l&&(h=r-l)}else{y==a.RightToLeft&&u>0&&(f>=u?h=c-u:v==i.CenterToMargin?m=u:v==i.BottomToTop&&(h=c-u));g=f+h,b=d+h;v==i.CenterToMargin?g%c+b<u&&(m=u):v==i.BottomToTop&&g%c+b<u&&(h=c-u)}var w=this.getCol(f,r,c,h),k=this.getRow(f,r,c,h),C=this.calcPos(w,k,_,m),P=0;P=this.calcHorizontalPriority(P,w,r,c),P=this.calcVerticalPriority(P,k,r,c),t.push({pos:C,col:w,row:k,priority:P})}var R=.5*(r-1),O=.5*(c-1);return{dataList:t,centerPos:this.calcPos(R,O,r,c)}},t.prototype.getCol=function(e,t,o,n){var r=this.startAxis;this.horizontalDirection,this.verticalDirection,this.horizontalPriority,this.verticalPriority;return r==s.Horizontal?(e+n)%t:Math.floor((e+n)/o)},t.prototype.getRow=function(e,t,o,n){var r=this.startAxis;this.horizontalDirection,this.verticalDirection,this.horizontalPriority,this.verticalPriority;return r==s.Horizontal?Math.floor((e+n)/t):(e+n)%o},t.prototype.calcHorizontalPriority=function(e,t,o,n){var r=this.startAxis,i=(this.horizontalDirection,this.verticalDirection,this.horizontalPriority);this.verticalPriority;return r==s.Horizontal?i==c.Left?e+(o-t):e+t:i==c.Left?e+(o-t)*n:e+t*n},t.prototype.calcVerticalPriority=function(e,t,o,n){var r=this.startAxis,i=(this.horizontalDirection,this.verticalDirection,this.horizontalPriority,this.verticalPriority);return r==s.Horizontal?i==l.Top?e+(o-t)*o:e+t*o:i==l.Top?e+(o-t):e+t},t.prototype.getOffsetX=function(e,t){return this.offsetX},t.prototype.getOffsetY=function(e,t){return this.offsetY},t.prototype.getIntervalX=function(e,t){return this.intervalX},t.prototype.getIntervalY=function(e,t){return this.intervalY},t.prototype.calcPos=function(e,t,o,n){var r=.5*(o-1),s=.5*(n-1),c=cc.v2(0,0),l=this.getIntervalX(o,n);c.x=l*e,this.horizontalDirection==a.CenterToMargin?c.x=l*(e-r):this.horizontalDirection==a.LeftToRight?c.x=l*e:this.horizontalDirection==a.RightToLeft&&(c.x=l*(e-(o-1))),c.x+=this.getOffsetX(o,n);var u=this.getIntervalY(o,n);return c.y=u*t,this.verticalDirection==i.CenterToMargin?c.y=u*(s-t):this.verticalDirection==i.TopToBottom?c.y=u*-t:this.verticalDirection==i.BottomToTop&&(c.y=u*(n-1-t)),c.y+=this.getOffsetY(o,n),c},t.prototype.genPokerList=function(e,t,o,n){t||this.removeAllPokers();for(var r=[],i=0;i<e.length;i++){var a=e[i],s=this.genPoker(a);this.pokers.push(s),o?s.show():s.hide(),n?s.showFace(!0):s.showFace(!1),r.push(s)}return r},t.prototype.removeAllPokers=function(){for(var e=0;e<this.pokers.length;e++){var t=this.pokers[e];t.hide(),t.node.stopAllActions(),this.pushToUnUseedList(this.m_unUseedHandPokers,t)}this.pokers=[]},t.prototype.removePoker=function(e){for(var t=0;t<this.pokers.length;t++){var o=this.pokers[t];if(e.id==o.id)return void this.removePokerByIndex(t)}},t.prototype.removePokers=function(e){for(var t=0;t<e.length;t++){var o=e[t];this.removePoker(o)}},t.prototype.removePokerByIndex=function(e){var t=this.pokers[e];this.pokers.splice(e,1),t.hide(),this.pushToUnUseedList(this.m_unUseedHandPokers,t)},t.prototype.showPokers=function(e,t,o){if(this.removeAllPokers(),!e)return cc.Vec2.ZERO;for(var n=this.genPokerList(t,!1),r=0;r<n.length;r++){var i=n[r];i.show(),o&&o.hidePoker&&i.hide(),i.showFace(!0)}var a=this.formatPokersLayout(n);this.nodePokersParent.convertToWorldSpaceAR(a,void 0)},r([h(u.default)],t.prototype,"prefabPoker",void 0),r([h(cc.Node)],t.prototype,"nodePokersParent",void 0),r([h({type:cc.Enum(s)})],t.prototype,"startAxis",void 0),r([h({type:cc.Enum(a)})],t.prototype,"horizontalDirection",void 0),r([h({type:cc.Enum(i)})],t.prototype,"verticalDirection",void 0),r([h({type:cc.Enum(c)})],t.prototype,"horizontalPriority",void 0),r([h({type:cc.Enum(l)})],t.prototype,"verticalPriority",void 0),r([h(cc.Boolean)],t.prototype,"followHorizontalDirection",void 0),r([h(cc.Boolean)],t.prototype,"followVerticalDirection",void 0),r([h(cc.Float)],t.prototype,"offsetX",void 0),r([h(cc.Float)],t.prototype,"offsetY",void 0),r([h(cc.Float)],t.prototype,"intervalX",void 0),r([h(cc.Float)],t.prototype,"intervalY",void 0),r([h(cc.Integer)],t.prototype,"maxColCount",void 0),r([h(cc.Integer)],t.prototype,"maxRowCount",void 0),t=r([f,d("custom/PokerTableSeatPokers")],t)}(cc.Component);o.default=_,cc._RF.pop()},{"./poker_table_poker_base":"poker_table_poker_base"}],poker_table_poker_base:[function(e,t,o){"use strict";cc._RF.push(t,"d0a88LyKTRO5b4cjMOhYbkb","poker_table_poker_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=i.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteAtlasPoker=null,t.spriteFace=null,t.spriteBack=null,t.button=null,t.nodeLaiZiTag=null,t.selected=!1,t.marked=!1,t.disabled=!1,t.real_selected=!1,t.selected_time=0,t.real_selected_time=0,t.original_pos=cc.v2(0,0),t.original_color=new cc.Color(255,255,255,255),t.m_customGetSpriteFrameKeyFunc=null,t.m_id=0,t.m_code=0,t.m_onTouchStartCallback=null,t.m_onTouchStartCallbackObj=null,t.m_onTouchMoveCallback=null,t.m_onTouchMoveCallbackObj=null,t.m_onTouchEndCallback=null,t.m_onTouchEndCallbackObj=null,t.m_onTouchCancelCallback=null,t.m_onTouchCancelCallbackObj=null,t.m_onClickCallback=null,t.m_onClickCallbackObj=null,t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"id",{get:function(){return this.m_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.m_code},enumerable:!0,configurable:!0}),t.genId=function(){return++o.s_curMaxId},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},t.prototype.reset=function(){this.m_code=0,this.selected=!1,this.real_selected=!1,this.marked=!1,this.disabled=!1,this.selected_time=0,this.real_selected_time=0},t.prototype.onLoad=function(){this.m_id=o.genId(),this.spriteFace&&(this.original_color=this.spriteFace.node.color),this.registClickEvent()},t.prototype.onDestroy=function(){this.unregistClickEvent(),this.setClickListener(null,null),this.setTouchStartListener(null,null),this.setTouchMoveListener(null,null),this.setTouchEndListener(null,null),this.setTouchCancelListener(null,null)},t.prototype.registClickEvent=function(){this.button&&null!=this.button.node&&(this.button.node.on("click",this.onClick,this),this.button.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.button.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.button.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.button.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this))},t.prototype.unregistClickEvent=function(){this.button&&null!=this.button.node&&(this.button.node.off("click",this.onClick,this),this.button.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.button.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.button.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.button.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this))},t.prototype.onClick=function(e){null!=this.m_onClickCallback&&this.m_onClickCallback.call(this.m_onClickCallbackObj,this,e)},t.prototype.onTouchStart=function(e){null!=this.m_onTouchStartCallback&&this.m_onTouchStartCallback.call(this.m_onTouchStartCallbackObj,this,e)},t.prototype.onTouchEnd=function(e){null!=this.m_onTouchEndCallback&&this.m_onTouchEndCallback.call(this.m_onTouchEndCallbackObj,this,e)},t.prototype.onTouchCancel=function(e){null!=this.m_onTouchCancelCallback&&this.m_onTouchCancelCallback.call(this.m_onTouchCancelCallbackObj,this,e)},t.prototype.onTouchMove=function(e){null!=this.m_onTouchMoveCallback&&this.m_onTouchMoveCallback.call(this.m_onTouchMoveCallbackObj,this,e)},t.prototype.setTouchStartListener=function(e,t){this.m_onTouchStartCallback=e,this.m_onTouchStartCallbackObj=t},t.prototype.setTouchMoveListener=function(e,t){this.m_onTouchMoveCallback=e,this.m_onTouchMoveCallbackObj=t},t.prototype.setTouchEndListener=function(e,t){this.m_onTouchEndCallback=e,this.m_onTouchEndCallbackObj=t},t.prototype.setTouchCancelListener=function(e,t){this.m_onTouchCancelCallback=e,this.m_onTouchCancelCallbackObj=t},t.prototype.setClickListener=function(e,t){this.m_onClickCallback=e,this.m_onClickCallbackObj=t},t.prototype.fillPoker=function(e,t){this.m_code=e,this.setFace(e)},t.prototype.showFace=function(e){this.spriteFace.node.active=e},t.prototype.showBack=function(e){this.spriteBack.node.active=e},t.prototype.showLaiZiTag=function(e){this.nodeLaiZiTag&&(this.nodeLaiZiTag.active=e||!1)},t.prototype.enableClick=function(e){this.button.enabled=e||!1},t.prototype.setCustomGetSpriteFrameKeyByCodeFunc=function(e,t){this.m_customGetSpriteFrameKeyFunc=e,t&&this.code>0&&this.setFace(this.code)},t.prototype.isTouchAtPoker=function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),o=this.node.getContentSize(),n=this.node.scaleX,r=this.node.scaleY,i=(this.node.anchorX-1)*o.width*n,a=(1-this.node.anchorX)*o.width*n,s=(this.node.anchorY-1)*o.height*r,c=(1-this.node.anchorY)*o.height*r;return t.x>=i&&t.x<=a&&t.y>=s&&t.y<=c},t.prototype.setFace=function(e){var t=this.getSpriteFrameKeyByCode(e);this.spriteFace.spriteFrame=this.getSpriteFrameByName(t)},t.prototype.getSpriteFrameKeyByCode=function(e){return null!=this.m_customGetSpriteFrameKeyFunc?this.m_customGetSpriteFrameKeyFunc(e):"Public_fangkuai_"+(e=e%13+1).toString()},t.prototype.getSpriteFrameByName=function(e){return this.spriteAtlasPoker.getSpriteFrame(e)},t.s_curMaxId=0,r([s(cc.SpriteAtlas)],t.prototype,"spriteAtlasPoker",void 0),r([s(cc.Sprite)],t.prototype,"spriteFace",void 0),r([s(cc.Sprite)],t.prototype,"spriteBack",void 0),r([s(cc.Button)],t.prototype,"button",void 0),r([s(cc.Node)],t.prototype,"nodeLaiZiTag",void 0),t=o=r([a,c("custom/PokerTablePokerBase")],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],poker_table_seat_base_view:[function(e,t,o){"use strict";cc._RF.push(t,"307526gkDtMsYTyQAct+Xm1","poker_table_seat_base_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../ui/custom_ui_state_switcher"),a=e("../../../utility/Utility"),s=e("../../../manager/time_manager"),c=e("../../../utility/game_util"),l=e("../../../manager/audio_manager"),u=cc._decorator,p=u.ccclass,f=u.property,h=u.requireComponent,d=function(){function e(e,t){this.m_spriteFrame=t,this.refreshTime()}return e.prototype.getSpriteFrame=function(){return this.refreshTime(),this.m_spriteFrame},e.prototype.getKey=function(){return this.m_key},e.prototype.getRefreshTime=function(){return this.m_refreshTime},e.prototype.release=function(){var e=this.m_spriteFrame;if(e){var t=e.getTexture();t&&t.destroy(),e.clearTexture(),e.destroy()}this.m_spriteFrame=null},e.prototype.refreshTime=function(){this.m_refreshTime=(new Date).getTime()},e}(),_=function(){function e(e){this.m_maxCount=e,this.m_map={}}return e.prototype.addSpriteFrame=function(e,t){this.m_map[e]=new d(e,t)},e.prototype.findSpriteFrame=function(e){var t=this.m_map[e];return null==t?null:t.getSpriteFrame()},e.prototype.cleanExcessCaches=function(){var e=new Array;for(var t in this.m_map){if(this.m_map.hasOwnProperty(t))(n=this.m_map[t])&&e.push(n)}if(!(e.length<this.m_maxCount)){e.sort(function(e,t){return t.getRefreshTime()-e.getRefreshTime()});for(var o=this.m_maxCount-1;o<e.length;o++){var n;t=(n=e[o]).getKey();this.m_map[t]=null}}},e.prototype.cleanAllCaches=function(){for(var e in this.m_map)if(this.m_map.hasOwnProperty(e)){var t=this.m_map[e];t&&t.release()}this.m_map={}},e}(),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeRoleInfo=null,t.spriteAvatar=null,t.lableName=null,t.spriteOffLine=null,t.spriteReady=null,t.styleUiStateSwitcher=null,t.spriteOwner=null,t.nodeClock=null,t.lableClock=null,t.nodeChatText=null,t.nodeSelect=null,t.buttonAvatar=null,t.avatarSize=null,t.single=null,t.lableCoinBalance=null,t.mOnclickKickBtnCallback=null,t.mOnclickAvatarBtnCallback=null,t.mOnclickNotSeatBtnCallback=null,t.m_clockScheduleId=0,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){var e=this;null==this.styleUiStateSwitcher&&(this.styleUiStateSwitcher=this.getComponent(i.default)),null!=this.buttonAvatar&&this.buttonAvatar.node.on("click",function(t){e.mOnclickAvatarBtnCallback&&e.mOnclickAvatarBtnCallback(e)})},t.prototype.reset=function(){this.showName(!1),this.showAvatar(!1),this.showOffLineTag(!1),this.showOwnerTag(!1),this.showReadyTag(!1),this.showSingle(!1)},t.prototype.showName=function(e,t){this.lableName.node.active=e,e&&null!=t&&(this.lableName.string=a.default.instance.filterPlayerName(t))},t.prototype.showCoin=function(e,t){this.lableCoinBalance.string=a.default.instance.formateNumb(t).toString(),this.lableCoinBalance.node.active=e},t.prototype.showSingle=function(e){this.single.active=e},t.prototype.showAvatar=function(e,t){this.spriteAvatar.node.active=e,e&&(this.spriteAvatar.spriteFrame=t)},t.prototype.showOffLineTag=function(e){null!=this.spriteOffLine&&(this.spriteOffLine.node.active=e)},t.prototype.showAvatarByUrl=function(e,t){var n=this;if(e){var r=o.s_avatarSpriteCacheManager.findSpriteFrame(t);return r||c.default.loadTexture(t,function(r,i){if(null!=i){if(!n.isValid)return void cc.warn("\u7f51\u7edc\u52a0\u8f7d\u5934\u50cf self.isValid");var a=new cc.SpriteFrame(i);a.setOriginalSize(n.avatarSize),o.s_avatarSpriteCacheManager.addSpriteFrame(t,a),n.showAvatar(e,a)}}),void this.showAvatar(e,r)}this.showAvatar(!1)},t.prototype.showOwnerTag=function(e){this.spriteOwner.node.active=e},t.prototype.showReadyTag=function(e){this.spriteReady.node.active=e},t.prototype.resetSeatStyle=function(e){this.styleUiStateSwitcher.SwitchState(this.getSeatStyleName(e))},t.prototype.showSelect=function(e){this.nodeSelect&&(this.nodeSelect.active=e)},t.prototype.showClock=function(e,t,o,n){this.nodeClock.active=e,this.m_clockScheduleId>0&&(s.default.instance.cancelSchedule(this.m_clockScheduleId),this.m_clockScheduleId=0),e&&this.refreshClockLable(t,o,n)},t.prototype.refreshClockLable=function(e,t,o){var n=this;if(this.lableClock.string=e.toString(),e<=0)return t&&l.default.instance.vibrate(),void(o&&o());this.m_clockScheduleId=s.default.instance.doScheduleOnce(function(){n.m_clockScheduleId=0,e--,n.refreshClockLable(e,t,o)},1)},t.prototype.enableAvatarBtn=function(e){this.buttonAvatar&&(this.buttonAvatar.enabled=e)},t.prototype.setClickAvatarBtnListener=function(e){this.mOnclickAvatarBtnCallback=e},t.prototype.setClickNotSeatBtnListener=function(e){this.mOnclickNotSeatBtnCallback=e},t.prototype.setClickKickBtnListener=function(e){this.mOnclickKickBtnCallback=e},t.prototype.getChatTextWorldPos=function(){return this.nodeChatText.parent.convertToWorldSpaceAR(this.nodeChatText.getPosition())},t.prototype.onDestroy=function(){this.m_clockScheduleId>0&&(s.default.instance.cancelSchedule(this.m_clockScheduleId),this.m_clockScheduleId=0),this.unscheduleAllCallbacks()},t.s_avatarSpriteCacheManager=new _(20),r([f(cc.Node)],t.prototype,"nodeRoleInfo",void 0),r([f(cc.Sprite)],t.prototype,"spriteAvatar",void 0),r([f(cc.Label)],t.prototype,"lableName",void 0),r([f(cc.Sprite)],t.prototype,"spriteOffLine",void 0),r([f(cc.Sprite)],t.prototype,"spriteReady",void 0),r([f(i.default)],t.prototype,"styleUiStateSwitcher",void 0),r([f(cc.Sprite)],t.prototype,"spriteOwner",void 0),r([f(cc.Node)],t.prototype,"nodeClock",void 0),r([f(cc.Label)],t.prototype,"lableClock",void 0),r([f(cc.Node)],t.prototype,"nodeChatText",void 0),r([f(cc.Node)],t.prototype,"nodeSelect",void 0),r([f(cc.Button)],t.prototype,"buttonAvatar",void 0),r([f(cc.Size)],t.prototype,"avatarSize",void 0),r([f(cc.Node)],t.prototype,"single",void 0),r([f(cc.Label)],t.prototype,"lableCoinBalance",void 0),t=o=r([p,h(i.default)],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../../manager/audio_manager":"audio_manager","../../../manager/time_manager":"time_manager","../../../utility/Utility":"utility","../../../utility/game_util":"game_util","../ui/custom_ui_state_switcher":"custom_ui_state_switcher"}],pomelo:[function(e,t,o){(function(e){"use strict";cc._RF.push(t,"c173523KD5J2Iptn33/pup+","pomelo"),function(){function e(e){if(e)return t(e)}function t(t){for(var o in e.prototype)t[o]=e.prototype[o];return t}e.prototype.on=e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},e.prototype.once=function(e,t){var o=this;function n(){o.off(e,n),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o,n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++)if((o=n[r])===t||o.fn===t){n.splice(r,1);break}return this},e.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks[e];if(o)for(var n=0,r=(o=o.slice(0)).length;n<r;++n)o[n].apply(this,t);return this},e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},e.prototype.hasListeners=function(e){return!!this.listeners(e).length},"undefined"!=typeof window&&(window.EventEmitter=e)}(),function(e,t,o){var n=e,r=n.Package={},i=n.Message={};r.TYPE_HANDSHAKE=1,r.TYPE_HANDSHAKE_ACK=2,r.TYPE_HEARTBEAT=3,r.TYPE_DATA=4,r.TYPE_KICK=5,i.TYPE_REQUEST=0,i.TYPE_NOTIFY=1,i.TYPE_RESPONSE=2,i.TYPE_PUSH=3,n.strencode=function(e){for(var o=new t(3*e.length),n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r),s=null;s=i<=127?[i]:i<=2047?[192|i>>6,128|63&i]:[224|i>>12,128|(4032&i)>>6,128|63&i];for(var c=0;c<s.length;c++)o[n]=s[c],++n}var l=new t(n);return a(l,0,o,0,n),l},n.strdecode=function(e){for(var o=new t(e),n=[],r=0,i=0,a=o.length;r<a;)o[r]<128?(i=o[r],r+=1):o[r]<224?(i=((63&o[r])<<6)+(63&o[r+1]),r+=2):(i=((15&o[r])<<12)+((63&o[r+1])<<6)+(63&o[r+2]),r+=3),n.push(i);return String.fromCharCode.apply(null,n)},r.encode=function(e,o){var n=o?o.length:0,r=new t(4+n),i=0;return r[i++]=255&e,r[i++]=n>>16&255,r[i++]=n>>8&255,r[i++]=255&n,o&&a(r,i,o,0,n),r},r.decode=function(e){for(var o=0,n=new t(e),r=0,i=[];o<n.length;){var s=n[o++],c=(r=(n[o++]<<16|n[o++]<<8|n[o++])>>>0)?new t(r):null;a(c,0,n,o,r),o+=r,i.push({type:s,body:c})}return 1===i.length?i[0]:i},i.encode=function(e,o,r,i,a){var d=1+(s(o)?l(e):0);if(c(o))if(r){if("number"!=typeof i)throw new Error("error flag for number route!");d+=2}else if(d+=1,i){if((i=n.strencode(i)).length>255)throw new Error("route maxlength is overflow");d+=i.length}a&&(d+=a.length);var _=new t(d),m=0;return m=u(o,r,_,m),s(o)&&(m=p(e,_,m)),c(o)&&(m=f(r,i,_,m)),a&&(m=h(a,_,m)),_},i.decode=function(e){var o=new t(e),r=o.length||o.byteLength,i=0,l=0,u=null,p=o[i++],f=1&p,h=p>>1&7;if(s(h)){var d=parseInt(o[i]),_=0;do{l+=(127&(d=parseInt(o[i])))*Math.pow(2,7*_),i++,_++}while(d>=128)}if(c(h))if(f)u=o[i++]<<8|o[i++];else{var m=o[i++];m?(u=new t(m),a(u,0,o,i,m),u=n.strdecode(u)):u="",i+=m}var y=r-i,v=new t(y);return a(v,0,o,i,y),{id:l,type:h,compressRoute:f,route:u,body:v}};var a=function(e,t,o,n,r){if("function"==typeof o.copy)o.copy(e,t,n,n+r);else for(var i=0;i<r;i++)e[t++]=o[n++]},s=function(e){return e===i.TYPE_REQUEST||e===i.TYPE_RESPONSE},c=function(e){return e===i.TYPE_REQUEST||e===i.TYPE_NOTIFY||e===i.TYPE_PUSH},l=function(e){var t=0;do{t+=1,e>>=7}while(e>0);return t},u=function(e,t,o,n){if(e!==i.TYPE_REQUEST&&e!==i.TYPE_NOTIFY&&e!==i.TYPE_RESPONSE&&e!==i.TYPE_PUSH)throw new Error("unkonw message type: "+e);return o[n]=e<<1|(t?1:0),n+1},p=function(e,t,o){do{var n=e%128,r=Math.floor(e/128);0!==r&&(n+=128),t[o++]=n,e=r}while(0!==e);return o},f=function(e,t,o,n){if(e){if(t>65535)throw new Error("route number is overflow");o[n++]=t>>8&255,o[n++]=255&t}else t?(o[n++]=255&t.length,a(o,n,t,0,t.length),n+=t.length):o[n++]=0;return n},h=function(e,t,o){return a(t,o,e,0,e.length),o+e.length};"undefined"!=typeof window&&(window.Protocol=n)}("undefined"==typeof window?t.exports:{},"undefined"==typeof window?e:Uint8Array),function(e,t){var o=e;o.init=function(e){o.encoder.init(e.encoderProtos),o.decoder.init(e.decoderProtos)},o.encode=function(e,t){return o.encoder.encode(e,t)},o.decode=function(e,t){return o.decoder.decode(e,t)},"undefined"!=typeof window&&(window.protobuf=o)}("undefined"==typeof window?t.exports:{}),function(e,t){(e.constants={}).TYPES={uInt32:0,sInt32:0,int32:0,double:1,string:2,message:2,float:5}}("undefined"!=typeof protobuf?protobuf:t.exports),function(e,t){(e.util={}).isSimpleType=function(e){return"uInt32"===e||"sInt32"===e||"int32"===e||"uInt64"===e||"sInt64"===e||"float"===e||"double"===e}}("undefined"!=typeof protobuf?protobuf:t.exports),function(e,t){var o=e.codec={},n=new ArrayBuffer(8),r=new Float32Array(n),i=new Float64Array(n),a=new Uint8Array(n);function s(e){return e<=127?[e]:e<=2047?[192|e>>6,128|63&e]:[224|e>>12,128|(4032&e)>>6,128|63&e]}function c(e){return e<=127?1:e<=2047?2:3}o.encodeUInt32=function(e){e=parseInt(e);if(isNaN(e)||e<0)return null;var t=[];do{var o=e%128,n=Math.floor(e/128);0!==n&&(o+=128),t.push(o),e=n}while(0!==e);return t},o.encodeSInt32=function(e){e=parseInt(e);return isNaN(e)?null:(e=e<0?2*Math.abs(e)-1:2*e,o.encodeUInt32(e))},o.decodeUInt32=function(e){for(var t=0,o=0;o<e.length;o++){var n=parseInt(e[o]);if(t+=(127&n)*Math.pow(2,7*o),n<128)return t}return t},o.decodeSInt32=function(e){var t=this.decodeUInt32(e);return t=(t%2+t)/2*(t%2==1?-1:1)},o.encodeFloat=function(e){return r[0]=e,a},o.decodeFloat=function(e,t){if(!e||e.length<t+4)return null;for(var o=0;o<4;o++)a[o]=e[t+o];return r[0]},o.encodeDouble=function(e){return i[0]=e,a.subarray(0,8)},o.decodeDouble=function(e,t){if(!e||e.length<t+8)return null;for(var o=0;o<8;o++)a[o]=e[t+o];return i[0]},o.encodeStr=function(e,t,o){for(var n=0;n<o.length;n++)for(var r=s(o.charCodeAt(n)),i=0;i<r.length;i++)e[t]=r[i],t++;return t},o.decodeStr=function(e,t,o){for(var n=[],r=t+o;t<r;){var i=0;e[t]<128?(i=e[t],t+=1):e[t]<224?(i=((63&e[t])<<6)+(63&e[t+1]),t+=2):(i=((15&e[t])<<12)+((63&e[t+1])<<6)+(63&e[t+2]),t+=3),n.push(i)}for(var a="",s=0;s<n.length;)a+=String.fromCharCode.apply(null,n.slice(s,s+1e4)),s+=1e4;return a},o.byteLength=function(e){if("string"!=typeof e)return-1;for(var t=0,o=0;o<e.length;o++){t+=c(e.charCodeAt(o))}return t}}("undefined"!=typeof protobuf?protobuf:t.exports),function(e,t){var o=e,n=e.encoder={},r=o.codec,i=o.constants,a=o.util;function s(e,t){if(!t)return!1;for(var o in t){var r=t[o];switch(r.option){case"required":if(void 0===e[o])return console.warn("no property exist for required! name: %j, proto: %j, msg: %j",o,r,e),!1;case"optional":if(void 0!==e[o])if((i=t.__messages[r.type]||n.protos["message "+r.type])&&!s(e[o],i))return console.warn("inner proto error! name: %j, proto: %j, msg: %j",o,r,e),!1;break;case"repeated":var i=t.__messages[r.type]||n.protos["message "+r.type];if(e[o]&&i)for(var a=0;a<e[o].length;a++)if(!s(e[o][a],i))return!1}}return!0}function c(e,t,o,n){for(var r in n)if(o[r]){var i=o[r];switch(i.option){case"required":case"optional":t=p(e,t,f(i.type,i.tag)),t=l(n[r],i.type,t,e,o);break;case"repeated":n[r].length>0&&(t=u(n[r],i,t,e,o))}}return t}function l(e,t,o,i,a){switch(t){case"uInt32":o=p(i,o,r.encodeUInt32(e));break;case"int32":case"sInt32":o=p(i,o,r.encodeSInt32(e));break;case"float":p(i,o,r.encodeFloat(e)),o+=4;break;case"double":p(i,o,r.encodeDouble(e)),o+=8;break;case"string":var s=r.byteLength(e);o=p(i,o,r.encodeUInt32(s)),r.encodeStr(i,o,e),o+=s;break;default:var l=a.__messages[t]||n.protos["message "+t];if(l){var u=new ArrayBuffer(2*r.byteLength(JSON.stringify(e)));s=c(u,s=0,l,e),o=p(i,o,r.encodeUInt32(s));for(var f=0;f<s;f++)i[o]=u[f],o++}}return o}function u(e,t,o,n,i){var s=0;if(a.isSimpleType(t.type))for(o=p(n,o=p(n,o,f(t.type,t.tag)),r.encodeUInt32(e.length)),s=0;s<e.length;s++)o=l(e[s],t.type,o,n);else for(s=0;s<e.length;s++)o=p(n,o,f(t.type,t.tag)),o=l(e[s],t.type,o,n,i);return o}function p(e,t,o){for(var n=0;n<o.length;n++,t++)e[t]=o[n];return t}function f(e,t){var o=i.TYPES[e]||2;return r.encodeUInt32(t<<3|o)}n.init=function(e){this.protos=e||{}},n.encode=function(e,t){var o=this.protos[e];if(!s(t,o))return null;var n=r.byteLength(JSON.stringify(t)),i=new ArrayBuffer(n),a=new Uint8Array(i),l=0;return o&&(l=c(a,l,o,t))>0?a.subarray(0,l):null}}("undefined"!=typeof protobuf?protobuf:t.exports),function(e,t){var o,n=e,r=e.decoder={},i=n.codec,a=n.util,s=0;function c(e,t,o){for(;s<o;){var n=l(),r=(n.type,n.tag),i=t.__tags[r];switch(t[i].option){case"optional":case"required":e[i]=u(t[i].type,t);break;case"repeated":e[i]||(e[i]=[]),p(e[i],t[i].type,t)}}return e}function l(){var e=i.decodeUInt32(f());return{type:7&e,tag:e>>3}}function u(e,t){switch(e){case"uInt32":return i.decodeUInt32(f());case"int32":case"sInt32":return i.decodeSInt32(f());case"float":var n=i.decodeFloat(o,s);return s+=4,n;case"double":var a=i.decodeDouble(o,s);return s+=8,a;case"string":var l=i.decodeUInt32(f()),u=i.decodeStr(o,s,l);return s+=l,u;default:var p=t&&(t.__messages[e]||r.protos["message "+e]);if(p){l=i.decodeUInt32(f());var h={};return c(h,p,s+l),h}}}function p(e,t,o){if(a.isSimpleType(t))for(var n=i.decodeUInt32(f()),r=0;r<n;r++)e.push(u(t));else e.push(u(t,o))}function f(e){var t,n=[],r=s;e=e||!1;do{t=o[r],n.push(t),r++}while(t>=128);return e||(s=r),n}r.init=function(e){this.protos=e||{}},r.setProtos=function(e){e&&(this.protos=e)},r.decode=function(e,t){var n=this.protos[e];return o=t,s=0,n?c({},n,o.length):null}}("undefined"!=typeof protobuf?protobuf:t.exports),cc.Pomelo=function(){var e=window.Protocol,t=window.protobuf,o=window.decodeIO_protobuf,n=null,r=null,i=e.Package,a=e.Message,s=window.EventEmitter,c=window.rsa;"undefined"!=typeof window&&"undefined"!=typeof sys&&sys.localStorage&&(window.localStorage=sys.localStorage);"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});window;var l,u=Object.create(s.prototype),p=null,f=0,h={},d={},_={},m={},y={},v={},g={},b=0,w=0,k=null,C=null,P=null,R=null,O=!1,S={sys:{type:"js-websocket",version:"0.0.1",rsa:{}},user:{}},T=null;u.connect=function(e,t){T=t,R=j,P=A,x(null,e,t)};var A=u.decode=function(e){var t=a.decode(e);if(!(t.id>0)||(t.route=_[t.id],delete _[t.id],t.route))return t.body=I(t),t},j=u.encode=function(o,r,i){var s=o?a.TYPE_REQUEST:a.TYPE_NOTIFY;if(t&&g[r])i=t.encode(r,i);else if(n&&n.lookup(r)){i=new(n.build(r))(i).encodeNB()}else i=e.strencode(JSON.stringify(i));var c=0;return m&&m[r]&&(r=m[r],c=1),a.encode(o,s,c,r,i)},x=function(a,s,c){console.log("connect to "+s);if(s,window.localStorage&&window.localStorage.getItem("protos")&&0===b){var l=JSON.parse(window.localStorage.getItem("protos"));b=l.version||0,v=l.server||{},g=l.client||{},t&&t.init({encoderProtos:g,decoderProtos:v}),o&&(n=o.loadJson(g),r=o.loadJson(v))}S.sys.protoVersion=b;(p=new WebSocket(s)).binaryType="arraybuffer",p.onopen=function(t){O&&u.emit("reconnect"),u.emit("onOpen",t),M();var o=i.encode(i.TYPE_HANDSHAKE,e.strencode(JSON.stringify(S)));E(o)},p.onmessage=function(e){L(i.decode(e.data),c)},p.onerror=function(e){u.emit("onerror",e),p.onmessage=null,cc.error("onerror: ",e)},p.onclose=function(e){cc.warn("socket close: ",e),u.emit("onclose",e),p.onmessage=null}};u.log=function(){cc.log("[pomelo] ",arguments)},u.getNetState=function(){if(p)return p.readyState},u.disconnect=function(e){p&&(p.readyState==WebSocket.OPEN&&p.close&&(p.close(),u.log("\u65ad\u5f00\u7f51\u7edc\uff01")),p=null),k&&(clearTimeout(k),k=null),C&&(clearTimeout(C),C=null)};var M=function(){O=!1,5e3,0,clearTimeout(null)};u.websocket=function(){return p},u.clear=function(){null!=p&&(p.onopen=null,p.onmessage=null,p.onerror=null,p.onclose=null)},u.request=function(e,t,o){2===arguments.length&&"function"==typeof t?(o=t,t={}):t=t||{},(e=e||t.route)&&(N(++f,e,t),h[f]=o,_[f]=e)},u.notify=function(e,t){N(0,e,t=t||{})};var N=function(e,t,o){if(l){o=JSON.stringify(o);var n=c.signString(o,"sha256");(o=JSON.parse(o)).__crypto__=n}R&&(o=R(e,t,o));var r=i.encode(i.TYPE_DATA,o);E(r)},E=function(e){null!==p&&p.send(e.buffer)};u.heartbeat=function(){var e=i.encode(i.TYPE_HEARTBEAT);E(e)};d[i.TYPE_HANDSHAKE]=function(t){if(501!==(t=JSON.parse(e.strdecode(t))).code)if(200===t.code){D(t);var o=i.encode(i.TYPE_HANDSHAKE_ACK);E(o),u.emit("handshake",t),T&&T(p)}else u.emit("error","handshake fail");else u.emit("error","client version not fullfill")},d[i.TYPE_HEARTBEAT]=function(e){u.emit("heartbeat")},d[i.TYPE_DATA]=function(e){var t=e;P&&(t=P(t)),F(u,t)},d[i.TYPE_KICK]=function(t){t=JSON.parse(e.strdecode(t)),u.emit("onKick",t)};var L=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var o=e[t];d[o.type](o.body)}else d[e.type](e.body)},F=function(e,t){if(!t.id){var o=new Date;return cc.log(o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+" [pomelo]:\u6536\u5230\u6d88\u606f:",t.route,t.body),void e.emit(t.route,t.body)}var n=h[t.id],r=new Date;cc.log(r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" [pomelo]:\u6536\u5230\u6d88\u606f:",t.route,t.body),delete h[t.id],"function"==typeof n&&n(t.body)},I=function(o){var n=o.route;if(o.compressRoute){if(!y[n])return{};n=o.route=y[n]}return t&&v[n]?t.decode(n,o.body):r&&r.lookup(n)?r.build(n).decode(o.body):JSON.parse(e.strdecode(o.body))},D=function(e){e.sys&&e.sys.heartbeat?(w=1e3*e.sys.heartbeat,2*w):(w=0,0),B(e)},B=function(e){if(e&&e.sys){m=e.sys.dict;var i=e.sys.protos;if(m)for(var a in y={},m=m)y[m[a]]=a;i&&(b=i.version||0,v=i.server||{},g=i.client||{},window.localStorage.setItem("protos",JSON.stringify(i)),t&&t.init({encoderProtos:i.client,decoderProtos:i.server}),o&&(n=o.loadJson(g),r=o.loadJson(v)))}};return u},t.exports=cc.Pomelo,window.pomelo=new cc.Pomelo,cc._RF.pop()}).call(this,e("buffer").Buffer)},{buffer:2}],pool:[function(e,t,o){"use strict";cc._RF.push(t,"f74779vU0VBg693upY7Uc2M","pool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t){this.template=e,this.comp=t,this._pool=[]}return e.prototype.recycle=function(e){if(e&&-1==this._pool.indexOf(e)){e.removeFromParent(!1);var t=this.comp?e.getComponent(this.comp):null;t&&t.unuse&&t.unuse.apply(t),this._pool.push(e)}},e.prototype.obtain=function(){var e=this._pool.length-1;if(e<0)return this.instantiate();var t=this._pool[e];this._pool.length=e;var o=this.comp?t.getComponent(this.comp):null;return o&&o.use&&o.use.apply(o),t},e.prototype.instantiate=function(){var e=cc.instantiate(this.template),t=this.comp?e.getComponent(this.comp):null;return t&&t.use&&t.use.apply(t),e},e.prototype.clear=function(){for(var e=this._pool.length,t=0;t<e;t++){this._pool[t].destroy()}this._pool.length=0},e}();o.Pool=n,cc._RF.pop()},{}],promiseUtility:[function(e,t,o){"use strict";cc._RF.push(t,"fedc2FF2htHVoeM8e2JAJLw","promiseUtility"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.genPromise=function(e){return new Promise(function(t,o){e(function(e,n){e?o(e):t(n)})})},e.getPromiseList=function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];t.push(this.genPromise(n))}return t},e.all=function(e){var t=this.getPromiseList(e);return Promise.all(t)},e.race=function(e){var t=this.getPromiseList(e);return Promise.race(t)},e}();o.default=n,cc._RF.pop()},{}],public_rule_view:[function(e,t,o){"use strict";cc._RF.push(t,"3d573e6jUFPB5IrCv89baGx","public_rule_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=e("../../../../framework/core/module_manager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ruleRichText=null,t.closeBtnNode=null,t.leftToggleRoot=null,t.topToggleRoot=null,t._leftCurrentSelect=1,t._topCurrentSelect=1,t._textArr=[[]],t}return n(t,e),t.prototype.onLoad=function(){this.closeBtnNode.on("click",function(){a.default.instance.hideModule("PublicRule")});for(var e=this.leftToggleRoot.children,t=0;t<e.length;t++){(n=e[t]).off("toggle",this.onLeftTabClick,this),n.on("toggle",this.onLeftTabClick,this)}var o=this.topToggleRoot.children;for(t=0;t<o.length;t++){var n;(n=o[t]).off("toggle",this.onTopTabClick,this),n.on("toggle",this.onTopTabClick,this)}this._textArr.push([]),this._textArr[1][1]="1\u3001\u6597\u5730\u4e3b\u662f\u4e00\u79cd\u4e09\u4eba\u6e38\u620f\uff0c\u5bf9\u5c40\u5f00\u59cb\u65f6\u901a\u8fc7\u53eb\u5730\u4e3b\u51b3\u5b9a\n\u9635\u8425\uff0c\u9635\u8425\u53cc\u65b9\u5bf9\u6218\uff0c\u5148\u51fa\u5b8c\u724c\u7684\u4e00\u65b9\u83b7\u80dc\u3002\n 2\u3001\u5730\u4e3b\u62e5\u6709\u4f18\u5148\u51fa\u724c\u6743\uff0c\u73a9\u5bb6\u6309\u9006\u65f6\u9488\u65b9\u5411\u8ddf\u724c\uff0c\u6bcf\u4f4d\n\u73a9\u5bb6\u53ef\u4ee5\u9009\u62e9\u7528\u66f4\u5927\u7684\u724c\u7ec4\u8ddf\u724c\u6216\u4e0d\u8ddf\u3002\n",this._textArr[1][2]="1\u3001\u5355\u724c\uff1a\u5355\u5f20\u7684\u724c\uff08\u4f8b\u5982\u9ed1\u6843K\uff09\n2\u3001\u5bf9\u5b50\uff1a\u724c\u9762\u6570\u5b57\u76f8\u540c\u76842\u5f20\u724c\uff08\u4f8b\u5982\u9ed1\u6843K+\u7ea2\u6843K\uff09\n3\u3001\u4e09\u5f20\uff1a\u724c\u9762\u6570\u5b57\u76f8\u540c\u76843\u5f20\u724c\uff08\u4f8b\u5982\u9ed1\u6843K+\u7ea2\u6843K+\u6885\u82b1\nK\uff09\n4\u3001\u4e09\u5e26\u4e00\uff1a\u724c\u9762\u6570\u5b57\u76f8\u540c\u76843\u5f20\u724c+1\u5f20\u5355\u724c\u6216\u5bf9\u5b50\uff08\u4f8b\u5982\nKKK+8 \u6216 QQQ+44\uff09\n5\u3001\u98de\u673a\uff1a2\u4e2a\u6216\u66f4\u591a\u7684\u8fde\u7eed\u4e09\u5f20\u724c\u578b\uff08\u4f8b\u5982\uff1a333444 \u6216 \n555666777\uff09\n6\u3001\u98de\u673a\u5e26\u7fc5\u8180\uff1a\u98de\u673a+\u540c\u6570\u91cf\u7684\u5355\u724c \u6216 \u98de\u673a+\u540c\u6570\u91cf\u7684\u5bf9\n\u5b50\uff08\u4f8b\u5982\uff1a333444+78 \u6216 444555+7788\uff09\n7\u3001\u987a\u5b50\uff1a5\u5f20\u6216\u4ee5\u4e0a\u7684\u8fde\u7eed\u5355\u724c\uff0c2\u4e0d\u53ef\u4ee5\u548c\u5176\u5b83\u724c\u7ec4\u6210\u987a\n\u5b50\uff08\u4f8b\u598278910J\uff0c3456789\uff09\n8\u3001\u8fde\u5bf9\uff1a3\u5bf9\u6216\u4ee5\u4e0a\u7684\u8fde\u7eed\u5bf9\u5b50\u724c\u578b\uff0c2\u4e0d\u53ef\u4ee5\u548c\u5176\u5b83\u724c\u7ec4\n\u6210\u8fde\u5bf9\uff08\u4f8b\u5982334455\uff0c991010JJQQ\uff09\n9\u3001\u56db\u5e26\u4e8c\uff1a\u724c\u9762\u6570\u5b57\u76f8\u540c\u76844\u5f20\u724c+2\u5f20\u4e0d\u540c\u5355\u724c\u62162\u4e2a\u5bf9\u5b50\n\uff08\u4f8b\u5982KKKK+89\uff0c8888+KKAA\uff09\n10\u3001\u70b8\u5f39\uff1a\u724c\u9762\u6570\u5b57\u76f8\u540c\u76844\u5f20\u724c\uff08\u4f8b\u5982KKKK\uff0cQQQQ\uff0c\n3333\uff09\n11\u3001\u738b\u70b8\uff1a\u53cc\u738b\uff0c\u5373\u5927\u5c0f\u738b\uff0c\u6700\u5927\u7684\u724c\n",this._textArr.push([]),this._textArr[2][1]="1\u3001\u4e0d\u6d17\u724c\u73a9\u6cd5\u7684\u724c\u578b\u89c4\u5219\u4e0e\u7ecf\u5178\u73a9\u6cd5\u76f8\u540c\uff0c\u4f46\u53d1\u724c\u65b9\u5f0f\n\u4e0d\u540c\u3002\n2\u3001\u5728\u4e0d\u6d17\u724c\u73a9\u6cd5\u4e2d\uff0c\u73a9\u5bb6\u6253\u5b8c\u4e00\u5c40\u540e\uff0c\u6240\u6709\u7684\u724c\u5c06\u4e0d\u4f1a\n\u6d17\u724c\uff0c\u6309\u4e00\u5b9a\u987a\u5e8f\u5207\u724c\u540e\u4f9d\u6b21\u53d1\u7ed9\u4e0b\u4e00\u684c\u73a9\u5bb6\u3002\n3\u3001\u73a9\u6cd5\u7279\u70b91\uff1a\u624b\u724c\u724c\u578b\u66f4\u52a0\u6574\u9f50\u3002\n4\u3001\u73a9\u6cd5\u7279\u70b92\uff1a\u62ff\u5230\u70b8\u5f39\u7684\u53ef\u80fd\u6027\u66f4\u9ad8\u3002\n5\u3001\u73a9\u6cd5\u7279\u70b93\uff1a\u5355\u5c40\u8017\u65f6\u66f4\u77ed\uff0c\u66f4\u523a\u6fc0\uff0c\u66f4\u6d41\u7545\uff01\n",this._textArr[2][2]="1\u3001\u540c\u7ecf\u5178\u73a9\u6cd5"},t.prototype.onLeftTabClick=function(e){this._leftCurrentSelect=Number(e.node.name),cc.log("\u70b9\u51fb\u4e86",this._leftCurrentSelect),this.ruleRichText.string=this._textArr[this._leftCurrentSelect][this._topCurrentSelect]},t.prototype.onTopTabClick=function(e){this._topCurrentSelect=Number(e.node.name),this.ruleRichText.string=this._textArr[this._leftCurrentSelect][this._topCurrentSelect]},t.prototype.showRule=function(){this.ruleRichText.string=this._textArr[this._leftCurrentSelect][this._topCurrentSelect]},r([l(cc.RichText)],t.prototype,"ruleRichText",void 0),r([l(cc.Node)],t.prototype,"closeBtnNode",void 0),r([l(cc.Node)],t.prototype,"leftToggleRoot",void 0),r([l(cc.Node)],t.prototype,"topToggleRoot",void 0),t=r([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/view_base":"view_base"}],public_rule:[function(e,t,o){"use strict";cc._RF.push(t,"35019A401BNEYBV7FA7rdsR","public_rule");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("./public_rule_view"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=e.call(this)||this;return t.windowPrefabResPath="package/pdk/module/Public_Rule",t.viewType=a.default,t.modelType=null,t.needAnim=!0,t.needViewMask=!0,t}return n(t,e),t.prototype.onShow=function(){this.view.showRule()},t=r([c,i.moduleInit("PublicRule")],t)}(i.default));o.default=l,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","./public_rule_view":"public_rule_view"}],rain_shader:[function(e,t,o){"use strict";cc._RF.push(t,"f06b5A/rGRFiZNa5FJkB31+","rain_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=(a.property,cc.renderer.renderEngine.renderer),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Rain",t._needUpdate=!0,t._vert="\n    uniform mat4 viewProj;\n    uniform mat4 model;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        mat4 mvp;\n        mvp = viewProj * model;\n        vec4 pos = mvp * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    // Heartfelt - by Martijn Steinrucken aka BigWings - 2017\n    // countfrolic@gmail.com\n    // License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n    \n    // I revisited the rain effect I did for another shader. This one is better in multiple ways:\n    // 1. The glass gets foggy.\n    // 2. Drops cut trails in the fog on the glass.\n    // 3. The amount of rain is adjustable (with Mouse.y)\n    \n    // To have full control over the rain, uncomment the HAS_HEART define \n    \n    // A video of the effect can be found here:\n    // https://www.youtube.com/watch?v=uiF5Tlw22PI&feature=youtu.be\n    \n    // Music - Alone In The Dark - Vadim Kiselev\n    // https://soundcloud.com/ahmed-gado-1/sad-piano-alone-in-the-dark\n    // Rain sounds:\n    // https://soundcloud.com/elirtmusic/sleeping-sound-rain-and-thunder-1-hours\n    \n    #define S(a, b, t) smoothstep(a, b, t)\n    //#define CHEAP_NORMALS\n    \n    uniform sampler2D texture;\n    uniform vec4 color;\n    uniform vec3 iResolution;\n    uniform float time;\n    uniform vec2 texSize;\n    varying vec2 uv0;\n    \n    vec3 N13(float p) {\n        //  from DAVE HOSKINS\n       vec3 p3 = fract(vec3(p) * vec3(.1031,.11369,.13787));\n       p3 += dot(p3, p3.yzx + 19.19);\n       return fract(vec3((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y, (p3.y+p3.z)*p3.x));\n    }\n    \n    vec4 N14(float t) {\n        return fract(sin(t*vec4(123., 1024., 1456., 264.))*vec4(6547., 345., 8799., 1564.));\n    }\n    float N(float t) {\n        return fract(sin(t*12345.564)*7658.76);\n    }\n    \n    float Saw(float b, float t) {\n        return S(0., b, t)*S(1., b, t);\n    }\n    \n    vec2 DropLayer2(vec2 uv, float t) {\n        vec2 UV = uv;\n        \n        uv.y += t*0.75;\n        vec2 a = vec2(6., 1.);\n        vec2 grid = a*2.;\n        vec2 id = floor(uv*grid);\n        \n        float colShift = N(id.x); \n        uv.y += colShift;\n        \n        id = floor(uv*grid);\n        vec3 n = N13(id.x*35.2+id.y*2376.1);\n        vec2 st = fract(uv*grid)-vec2(.5, 0);\n        \n        float x = n.x-.5;\n        \n        float y = UV.y*20.;\n        float wiggle = sin(y+sin(y));\n        x += wiggle*(.5-abs(x))*(n.z-.5);\n        x *= .7;\n        float ti = fract(t+n.z);\n        y = (Saw(.85, ti)-.5)*.9+.5;\n        vec2 p = vec2(x, y);\n        \n        float d = length((st-p)*a.yx);\n        \n        float mainDrop = S(.4, .0, d);\n        \n        float r = sqrt(S(1., y, st.y));\n        float cd = abs(st.x-x);\n        float trail = S(.23*r, .15*r*r, cd);\n        float trailFront = S(-.02, .02, st.y-y);\n        trail *= trailFront*r*r;\n        \n        y = UV.y;\n        float trail2 = S(.2*r, .0, cd);\n        float droplets = max(0., (sin(y*(1.-y)*120.)-st.y))*trail2*trailFront*n.z;\n        y = fract(y*10.)+(st.y-.5);\n        float dd = length(st-vec2(x, y));\n        droplets = S(.3, 0., dd);\n        float m = mainDrop+droplets*r*trailFront;\n        \n        //m += st.x>a.y*.45 || st.y>a.x*.165 ? 1.2 : 0.;\n        return vec2(m, trail);\n    }\n    \n    float StaticDrops(vec2 uv, float t) {\n        uv *= 40.;\n        \n        vec2 id = floor(uv);\n        uv = fract(uv)-.5;\n        vec3 n = N13(id.x*107.45+id.y*3543.654);\n        vec2 p = (n.xy-.5)*.7;\n        float d = length(uv-p);\n        \n        float fade = Saw(.025, fract(t+n.z));\n        float c = S(.3, 0., d)*fract(n.z*10.)*fade;\n        return c;\n    }\n    \n    vec2 Drops(vec2 uv, float t, float l0, float l1, float l2) {\n        float s = StaticDrops(uv, t)*l0; \n        vec2 m1 = DropLayer2(uv, t)*l1;\n        vec2 m2 = DropLayer2(uv*1.85, t)*l2;\n        \n        float c = s+m1.x+m2.x;\n        c = S(.3, 1., c);\n        \n        return vec2(c, max(m1.y*l0, m2.y*l1));\n    }\n    \n    void main()\n    {\n        vec4 iMouse = vec4(0.0, 0.0, 0.0, 0.0);\n        vec2 fragCoord = vec2(uv0.x * texSize.x - 0.5 * texSize.x, 0.5 * texSize.y - uv0.y * texSize.y);\n    \n        vec2 uv = fragCoord.xy / iResolution.y;\n        vec2 UV = (fragCoord.xy+.5*iResolution.xy) / iResolution.xy;\n        vec3 M = iMouse.xyz/iResolution.xyz;\n        float T = time+M.x*2.;\n        \n        #ifdef HAS_HEART\n            T = mod(time, 102.);\n            T = mix(T, M.x*102., M.z>0.?1.:0.);\n        #endif\n        \n        float t = T*.2;\n        \n        float rainAmount = iMouse.z>0. ? M.y : sin(T*.05)*.3+.7;\n        \n        float maxBlur = mix(3., 6., rainAmount);\n        float minBlur = 2.;\n        \n        float story = 0.;\n        float heart = 0.;\n        \n        #ifdef HAS_HEART\n            story = S(0., 70., T);\n            \n            t = min(1., T/70.);\t\t\t\t\t\t// remap drop time so it goes slower when it freezes\n            t = 1.-t;\n            t = (1.-t*t)*70.;\n            \n            float zoom= mix(.3, 1.2, story);\t\t// slowly zoom out\n            uv *=zoom;\n            minBlur = 4.+S(.5, 1., story)*3.;\t\t// more opaque glass towards the end\n            maxBlur = 6.+S(.5, 1., story)*1.5;\n            \n            vec2 hv = uv-vec2(.0, -.1);\t\t\t\t// build heart\n            hv.x *= .5;\n            float s = S(110., 70., T);\t\t\t\t// heart gets smaller and fades towards the end\n            hv.y-=sqrt(abs(hv.x))*.5*s;\n            heart = length(hv);\n            heart = S(.4*s, .2*s, heart)*s;\n            rainAmount = heart;\t\t\t\t\t\t// the rain is where the heart is\n            \n            maxBlur-=heart;\t\t\t\t\t\t\t// inside the heart slighly less foggy\n            uv *= 1.5;\t\t\t\t\t\t\t\t// zoom out a bit more\n            t *= .25;\n        #else\n            float zoom = -cos(T*.2);\n            uv *= .7+zoom*.3;\n        #endif\n        UV = (UV-.5)*(.9+zoom*.1)+.5;\n        \n        float staticDrops = S(-.5, 1., rainAmount)*2.;\n        float layer1 = S(.25, .75, rainAmount);\n        float layer2 = S(.0, .5, rainAmount);\n        \n        vec2 c = Drops(uv, t, staticDrops, layer1, layer2);\n        #ifdef CHEAP_NORMALS\n            vec2 n = vec2(dFdx(c.x), dFdy(c.x));// cheap normals (3x cheaper, but 2 times shittier ;))\n        #else\n            vec2 e = vec2(.001, 0.);\n            float cx = Drops(uv+e, t, staticDrops, layer1, layer2).x;\n            float cy = Drops(uv+e.yx, t, staticDrops, layer1, layer2).x;\n            vec2 n = vec2(cx-c.x, cy-c.x);\t\t// expensive normals\n        #endif\n    \n        #ifdef HAS_HEART\n            n *= 1.-S(60., 85., T);\n            c.y *= 1.-S(80., 100., T)*.8;\n        #endif\n    \n        float focus = mix(maxBlur-c.y, minBlur, S(.1, .2, c.x));\n        vec3 col = texture2D(texture, UV+n).rgb;\n                                // make time sync with first lightnoing\n    \n        #ifdef USE_POST_PROCESSING\n            t = (T+3.)*.5;\t\t\t\n            float colFade = sin(t*.2)*.5+.5+story;\n            col *= mix(vec3(1.), vec3(.8, .9, 1.3), colFade);\t// subtle color shift\n            float fade = S(0., 10., T);\t\t\t\t\t\t\t// fade in at the start\n            float lightning = sin(t*sin(t*10.));\t\t\t\t// lighting flicker\n            lightning *= pow(max(0., sin(t+sin(t))), 10.);\t\t// lightning flash\n            col *= 1.+lightning*fade*mix(1., .1, story*story);\t// composite lightning\n            col *= 1.-dot(UV-=.5, UV);\t\t\t\t\t\t\t// vignette\n    \n            #ifdef HAS_HEART\n                col = mix(pow(col, vec3(1.2)), col, heart);\n                fade *= S(102., 97., T);\n            #endif\n    \n            col *= fade;\t\t\t\t\t\t\t\t\t\t// composite start and end fade\n        #endif\n    \n        //col = vec3(heart);\n        gl_FragColor = vec4(col, 1.);\n    }\n    ",t._params=[{name:"texSize",type:l.PARAM_FLOAT2},{name:"iResolution",type:l.PARAM_FLOAT3}],t._defines=[{name:"HAS_HEART",value:!1},{name:"USE_POST_PROCESSING",value:!0}],t}return n(t,e),t.prototype.setParamValue=function(e){var t=new cc.Vec3(this.node.width,this.node.height,0),o=new cc.Vec2(this.node.width,this.node.height);e.setParamValue("iResolution",t),e.setParamValue("texSize",o)},t=r([s,c("custom/Shader/Rain")],t)}(i.default);o.default=u,cc._RF.pop()},{"./shader_component":"shader_component"}],recommend_tools:[function(e,t,o){"use strict";cc._RF.push(t,"96664G0LSRBo5MoEj24jiob","recommend_tools"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.copy_table_value=function(e,t){for(var o=[],n=0;n<e.length;n++)for(var r=e[n],i=0;i<t;i++)o.push(r);return o},e.ArraySubtract=function(t,o){for(var n=[],r=e.copy_array(o),i=0;i<t.length;i++){for(var a=t[i],s=!1,c=0,l=0;l<r.length;l++){a==r[l]&&(s=!0,c=l)}s?r.splice(c,1):n.push(a)}return n},e.copy_array=function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];t.push(n)}return t},e.contains=function(e,t){for(var o=0;o<e.length;o++){if(e[o]==t)return!0}return!1},e.isSameValue=function(t){if(e.is_null_or_empty(t))return!0;for(var o=null,n=0;n<t.length;n++){var r=t[n];if(n>0&&o!=r)return!1;o=r}return!0},e.sort_descend=function(e){return e.sort(function(e,t){return t-e}),e},e.sort_ascend=function(e){return e.sort(function(e,t){return e-t}),e},e.usort=function(t){for(var o=[],n=0;n<t.length;n++){var r=t[n];e.contains(o,r)||o.push(r)}return e.sort_ascend(o),o},e.get_mulsame=function(t,o){for(var n=e.usort(t),r=[],i=0;i<n.length;i++){for(var a=n[i],s=0,c=0;c<t.length;c++){t[c]==a&&(s+=1)}s>=o&&r.push(a)}return r},e.remove_count_same=function(t,o){var n=e.get_mulsame(t,o);return{removel:n,surl:e.ArraySubtract(t,e.copy_table_value(n,o))}},e.table_value_shunzi=function(t){if(0==t.length)return!1;if(t.length>1){var o=e.copy_array(t);o=e.sort_ascend(o);for(var n=void 0,r=0;r<o.length;r++){if(r>0&&n+1!=o[r])return!1;n=o[r]}}return!0},e.is_null_or_empty=function(e){return null==e||(!Array.isArray(e)||0==e.length)},e.TableAdd=function(e,t){null==t&&(t=e.length);for(var o=[],n=0;n<t;n++)for(var r=e[n],i=0;i<r.length;i++){var a=r[i];o.push(a)}return o},e.find_point_shunzi=function(t,o){var n=e.usort(t),r=[];if(n.length>=o&&o>1)for(var i=n.length-o+1,a=0;a<i;a++){for(var s=[],c=a;c<=o+a-1;c++){var l=n[c];s.push(l)}e.table_value_shunzi(s)&&r.push(s)}return r},e.two_table_add=function(t,o){return e.TableAdd([t,o],2)},e.Max=function(e){for(var t=0,o=0;o<e.length;o++){var n=e[o];n>t&&(t=n)}return t},e}();o.RecommendTools=n,cc._RF.pop()},{}],result_module:[function(e,t,o){"use strict";cc._RF.push(t,"c39b3yOHhhPb74Q/47n5pEC","result_module");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("./result_view"),s=e("../../../../framework/core/module_manager"),c=cc._decorator,l=c.ccclass,u=(c.menu,function(e){function t(){var t=e.call(this)||this;return t.lineHeight=1,t.windowPrefabResPath="package/pdk/module/table/doudizhu_gold_onegame_result",t.viewType=a.ResultView,t.modelType=null,t.needAnim=!0,t.clickAnywhereClose=!1,t.needViewMask=!0,t}return n(t,e),t.prototype.onShow=function(t){e.prototype.onShow.call(this,t),this.func=t.func,this.data=t.data,this.refreshUI()},t.prototype.refreshUI=function(){this.view.updateUI(this.data.msg.winUser,this.data.roleid)},t.prototype.onButtonClick=function(e,t){switch(e.name){case"LeaveButton":s.default.instance.destroyModule("ResultModule");break;case"ContinuButton":this.func&&this.func(),s.default.instance.destroyModule("ResultModule")}},t=r([l,i.moduleInit("ResultModule")],t)}(i.default));o.ResultModule=u,cc._RF.pop()},{"../../../../framework/core/module_manager":"module_manager","../../../../framework/core/mvvm/module_base":"module_base","./result_view":"result_view"}],result_view:[function(e,t,o){"use strict";cc._RF.push(t,"7b21dK0xMdGdanVNt3JvpLQ","result_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winner=null,t.loser=null,t}return n(t,e),t.prototype.updateUI=function(e,t){this.winner.active=e==t,this.loser.active=e!=t},r([c(cc.Node)],t.prototype,"winner",void 0),r([c(cc.Node)],t.prototype,"loser",void 0),t=r([s],t)}(i.default));o.ResultView=l,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],room_config:[function(e,t,o){"use strict";cc._RF.push(t,"77201a59WZNYakL5YqjQb7B","room_config"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e.config=[{tag:{title:"xx1",rowCount:3},childList:[{disable:!0,json:"xx2",toggleType:1,title:"nnnn",toggleisOn:!0,value:8}]}]}(o.PdkRoomConfig||(o.PdkRoomConfig={})),cc._RF.pop()},{}],rule_data:[function(e,t,o){"use strict";cc._RF.push(t,"f29e1uzdSRCfb72GD70pQjf","rule_data"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.Circle=1]="Circle",e[e.Square=2]="Square"}(o.ToggleType||(o.ToggleType={}));var n=function(){return function(){}}();o.IChumpItem=n,cc._RF.pop()},{}],rule_factory:[function(e,t,o){"use strict";cc._RF.push(t,"3d144bU6hhIj4pEK42SJ9dg","rule_factory"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getConfig=function(e){var t=this;e||cc.error("\u4e0d\u5b58\u5728\u89c4\u5219\u6587\u4ef6");var o=[];return e.forEach(function(e){var n={title:e.tag.title,rowCount:e.tag.rowCount,childArray:t.praseChildItem(e.childList)};o.push(n)}),o},e.prototype.praseChildItem=function(e){for(var t=[],o=0,n=e;o<n.length;o++){var r=n[o];t.push(r)}return t},e.instance=new e,e}();o.RuleFactory=n,cc._RF.pop()},{}],scene_manager:[function(e,t,o){"use strict";cc._RF.push(t,"577fd2BwQpDV4Za7nKUpX/5","scene_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../framework/core/module_manager"),r=e("../pacakge/public/const/app_data"),i=e("../pacakge/server/loginserver/login_server"),a=e("../pacakge/server/hallserver/hall_server"),s=e("../pacakge/server/gameserver/game_server"),c=e("../pacakge/hall/hall_module"),l=e("../pacakge/hall/module/auth/auth_module"),u=e("./audio_manager"),p=e("../pacakge/public/const/game_cfg"),f=function(){function e(){}return e.init=function(){this.subGames.FN_PDK="PdkModule"},e.gotoSubGame=function(e,t){var o=this,i=p.GameCfg[r.default.gameid];i?(this.tableModuleName=i.module,this.tableModuleName?(n.default.instance.removeModule(this.tableModuleName),n.default.instance.showModuleName(this.tableModuleName,e,function(){n.default.instance.hideAllModule([o.tableModuleName]),n.default.instance.destroyRemoveModule(o.tableModuleName),t&&t()})):cc.error("no subGame\uff1a",this.tableModuleName)):cc.error("\u6e38\u620f\u914d\u7f6e\u4e0d\u5b58\u5728: ",r.default.gameid)},e.gotoLogin=function(){i.default.instance.close(),a.default.instance.close(),s.default.instance.close(),n.default.instance.showModule(l.default)},e.gotoHall=function(e){void 0===e&&(e=!0),i.default.instance.close(),a.default.instance.close(),s.default.instance.close(),a.default.instance.isNeedCheck=e,a.default.instance.loginHallServer()},e.showHallUI=function(){var t=this;u.default.instance.playMusicLoop(),n.default.instance.hideAllModule(["AuthModule",this.tableModuleName]),""!=e.lastEntranceOpenModuleName?n.default.instance.showModuleName(this.lastEntranceOpenModuleName,null,function(){n.default.instance.destroyModule(t.tableModuleName)}):n.default.instance.showModule(c.default,null,function(){n.default.instance.destroyModule(t.tableModuleName)})},e.tableModuleName="DouDiZhuTableModule",e.lastEntranceOpenModuleName="",e.subGames={},e}();o.default=f,cc._RF.pop()},{"../framework/core/module_manager":"module_manager","../pacakge/hall/hall_module":"hall_module","../pacakge/hall/module/auth/auth_module":"auth_module","../pacakge/public/const/app_data":"app_data","../pacakge/public/const/game_cfg":"game_cfg","../pacakge/server/gameserver/game_server":"game_server","../pacakge/server/hallserver/hall_server":"hall_server","../pacakge/server/loginserver/login_server":"login_server","./audio_manager":"audio_manager"}],screenAdaptationUtil:[function(e,t,o){"use strict";cc._RF.push(t,"0fa15szH4hPZqsG9SB4qXSa","screenAdaptationUtil");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a=e("../const/app_data"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu;(function(e){e[e.LetfOffset=0]="LetfOffset",e[e.RightOffset=1]="RightOffset",e[e.LessenX=2]="LessenX"})(i||(i={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adaptationStyle=i.LetfOffset,t.adaptationValue=50,t}return n(t,e),t.prototype.onLoad=function(){this.node&&(this.widget=this.node.getComponent(cc.Widget),this.widget&&(this.widgetLeft=this.widget.left)),this.adaptation()},t.prototype.start=function(){},t.prototype.onDestroy=function(){},t.prototype.refresh_screenAdaptationUtil=function(e){if(this&&this.node&&this.node.parent&&this.node.parent.name){if("hall_match"!=this.node.parent.name)return;if(!a.default.isIphoneX)return;this.changePos(e)}},t.prototype.changePos=function(e){var t=this.node.getComponent(cc.Widget),o=a.default.iphonexOffset,n=e.value;"portrait"==n||("landscape"==n?t.left=this.widgetLeft+o:"landscapeReverse"==n&&(t.left=this.widgetLeft))},t.prototype.adaptation=function(){if(a.default.isIphoneX){var e=a.default.iphonexOffset;switch(0!=this.adaptationValue&&(e=this.adaptationValue),this.adaptationStyle){case i.LetfOffset:null==this.widget?this.node.position=cc.v2(this.node.position.x+e,this.node.position.y):this.widget.isAlignLeft&&(this.widget.left=this.widget.left+e);break;case i.RightOffset:null==this.widget?this.node.position=cc.v2(this.node.position.x-e,this.node.position.y):this.widget.isAlignRight&&(this.widget.right=this.widget.right+e);break;case i.LessenX:this.node.scaleX=.9}}},r([l({type:cc.Enum(i)})],t.prototype,"adaptationStyle",void 0),r([l(Number)],t.prototype,"adaptationValue",void 0),t=r([c,u("UI/ScreenAdaptationUtil")],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../const/app_data":"app_data"}],scrollview:[function(e,t,o){"use strict";cc._RF.push(t,"cabcfjsJYlK6aaQZSZG2AIt","scrollview"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=function(){function e(e){var t=this;this.m_scrollview=e.scrollview,this.m_view=e.view,this.m_content=e.content,this.m_node_pools=[],this.m_item_templates=[],e.item_templates.forEach(function(e){e.node.active=!1;var o={key:e.key,item:e.node};t.m_item_templates.push(o)}),this.m_dir=e.direction||n.Vertical,this.m_width=e.width||this.m_view.width,this.m_height=e.height||this.m_view.height,this.m_gap_x=e.gap_x||0,this.m_gap_y=e.gap_y||0,this.m_cb_host=e.cb_host,this.item_update_func=e.item_update_func,this.recycle_cb=e.recycle_cb,this.scroll_to_end_cb=e.scroll_to_end_cb,this.m_auto_scrolling=e.auto_scrolling||!1,this.m_dir==n.Vertical?this.m_content.width=this.m_width:this.m_content.height=this.m_height,this.m_view.setContentSize(this.m_width,this.m_height),this.m_scrollview.vertical=this.m_dir==n.Vertical,this.m_scrollview.horizontal=this.m_dir==n.Horizontal,this.m_scrollview.inertia=!0,this.m_scrollview.node.on("scrolling",this.on_scrolling,this),this.m_scrollview.node.on("scroll-to-bottom",this.on_scroll_to_end,this),this.m_scrollview.node.on("scroll-to-right",this.on_scroll_to_end,this)}return e.prototype.set_data=function(e){var t=this;this.clear_items(),this.m_items=[],e.forEach(function(e,o){var n=t.pack_item(o,e);t.m_items.push(n)}),this.layout_items(0),this.resize_content(),this.m_start_index=-1,this.m_stop_index=-1,this.m_dir==n.Vertical?this.m_content.y=0:this.m_content.x=0,this.m_items.length>0&&this.on_scrolling()},e.prototype.insert_data=function(e){for(var t,o=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(0!=n.length)if(this.m_items||(this.m_items=[]),e<0||e>this.m_items.length)cc.warn("invalid index",e);else{var i=e==this.m_items.length,a=[];n.forEach(function(e,t){var n=o.pack_item(t,e);a.push(n)}),(t=this.m_items).splice.apply(t,[e,0].concat(a)),this.layout_items(e),this.resize_content(),this.m_start_index=-1,this.m_stop_index=-1,this.m_auto_scrolling&&i&&this.scroll_to_end(),this.on_scrolling()}else cc.log("nothing to insert")},e.prototype.append_data=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_items||(this.m_items=[]),this.insert_data.apply(this,[this.m_items.length].concat(e))},e.prototype.scroll_to_end=function(){this.m_dir==n.Vertical?this.m_scrollview.scrollToBottom():this.m_scrollview.scrollToRight()},e.prototype.destroy=function(){this.clear_items();for(var e=this.m_node_pools.length,t=0;t<e;t++)if(this.m_node_pools[t].items)for(var o=this.m_node_pools[t].items.length,n=0;n<o;n++)this.m_node_pools[t].items[n].destroy();this.m_node_pools=null,this.m_items=null,cc.isValid(this.m_scrollview.node)&&(this.m_scrollview.node.off("scrolling",this.on_scrolling,this),this.m_scrollview.node.off("scroll-to-bottom",this.on_scroll_to_end,this),this.m_scrollview.node.off("scroll-to-right",this.on_scroll_to_end,this))},e.prototype.on_scroll_to_end=function(){this.scroll_to_end_cb&&this.scroll_to_end_cb.call(this.m_cb_host)},e.prototype.on_scrolling=function(){if(this.m_items&&this.m_items.length)if(this.m_dir==n.Vertical){var e=this.m_content.y;e<0&&(e=0),e>this.m_content.height-this.m_height&&(e=this.m_content.height-this.m_height);for(var t=0,o=this.m_items.length-1,r=(a=-e)-this.m_height;this.m_items[t].y-this.m_items[t].height>a;)t++;for(;this.m_items[o].y<r;)o--;t!=this.m_start_index&&o!=this.m_stop_index&&(this.m_start_index=t,this.m_stop_index=o,cc.log("render_from:",t,o),this.render_items())}else{var i=this.m_content.x;i>0&&(i=0),i<this.m_width-this.m_content.width&&(i=this.m_width-this.m_content.width);var a;for(t=0,o=this.m_items.length-1,r=(a=-i)+this.m_width;this.m_items[t].x+this.m_items[t].width<a;)t++;for(;this.m_items[o].x>r;)o--;t!=this.m_start_index&&o!=this.m_stop_index&&(this.m_start_index=t,this.m_stop_index=o,cc.log("render_from:",t,o),this.render_items())}},e.prototype.get_pools_by_key=function(e){for(var t=this.m_node_pools.length,o=0;o<t;o++)if(this.m_node_pools[o].key==e)return this.m_node_pools[o].items;return null},e.prototype.get_item_by_key=function(e){for(var t=this.m_item_templates.length,o=0;o<t;o++)if(this.m_item_templates[o].key==e)return this.m_item_templates[o].item;return null},e.prototype.spawn_node=function(e){var t,o=this.get_pools_by_key(e);return o&&o.length>0?t=o.pop():(t=cc.instantiate(this.get_item_by_key(e))).active=!0,t.parent=this.m_content,t},e.prototype.recycle_item=function(e){if(e.node&&cc.isValid(e.node)){var t=this.get_pools_by_key(e.data.key);t||(t=[],this.m_node_pools.push({key:e.data.key,items:t})),t.push(e.node),this.recycle_cb&&this.recycle_cb.call(this.m_cb_host,e.node,e.data.key),e.node.removeFromParent(),e.node=null}},e.prototype.clear_items=function(){var e=this;this.m_items&&this.m_items.forEach(function(t){e.recycle_item(t)})},e.prototype.render_items=function(){for(var e,t=0;t<this.m_start_index;t++)(e=this.m_items[t]).node&&this.recycle_item(e);for(t=this.m_items.length-1;t>this.m_stop_index;t--)(e=this.m_items[t]).node&&this.recycle_item(e);for(t=this.m_start_index;t<=this.m_stop_index;t++)(e=this.m_items[t]).node||(e.node=this.spawn_node(e.data.key),this.item_update_func.call(this.m_cb_host,e.node,e.data.key,e.data.data,t)),e.node.setPosition(e.x,e.y)},e.prototype.pack_item=function(e,t){var o=this.spawn_node(t.key),n=this.item_update_func.call(this.m_cb_host,o,t.key,t.data,e),r={x:0,y:0,width:n[0],height:n[1],data:t,node:o};return this.recycle_item(r),r},e.prototype.layout_items=function(e){if(!(this.m_items.length<=0)){var t=0;if(e>0){var o=this.m_items[e-1];t=this.m_dir==n.Vertical?o.y-o.height-this.m_gap_y:o.x+o.width+this.m_gap_x}for(var r=e,i=this.m_items.length;r<i;r++){var a=this.m_items[r];this.m_dir==n.Vertical?(a.x=0,a.y=t,t-=a.height+this.m_gap_y):(a.y=0,a.x=t,t+=a.width+this.m_gap_x)}}},e.prototype.resize_content=function(){if(this.m_items.length<=0)return this.m_content.width=0,void(this.m_content.height=0);var e=this.m_items[this.m_items.length-1];this.m_dir==n.Vertical?this.m_content.height=Math.max(this.m_height,e.height-e.y):this.m_content.width=Math.max(this.m_width,e.x+e.width)},e}();o.ScrollView=r,function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(n=o.ScrollDirection||(o.ScrollDirection={})),cc._RF.pop()},{}],sdk_define:[function(e,t,o){"use strict";cc._RF.push(t,"98014PABDFEUKgu4VQOioyJ","sdk_define"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.FACE_BOOK_NAME="facebook",e.LINE_NAME="line",e}();o.default=n,cc._RF.pop()},{}],sdk_facebook:[function(e,t,o){"use strict";cc._RF.push(t,"c4fe7CEzuVMprtb/e6F6DUE","sdk_facebook"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../manager/debug"),r=e("../../manager/scene_manager"),i=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.receive=function(e){"login"==e.funcName&&this.login(e.param)},e.prototype.login=function(e){var t=JSON.parse(e);t.headImg="https://graph.facebook.com/"+t.thirdUnionId+"/picture?type=normal";var o=JSON.stringify(t);n.default.log(" facebook login  : "+o),r.default.loginFromAuth(o)},e}();o.default=i,cc._RF.pop()},{"../../manager/debug":"debug","../../manager/scene_manager":"scene_manager"}],sdk_line:[function(e,t,o){"use strict";cc._RF.push(t,"5b6dc1+ElRNbZPDyWlDDwG5","sdk_line"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../manager/debug"),r=e("../../manager/scene_manager"),i=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.receive=function(e){"login"==e.funcName&&this.login(e.param)},e.prototype.login=function(e){var t=e;n.default.log(" line login  : "+t),r.default.loginFromAuth(t)},e}();o.default=i,cc._RF.pop()},{"../../manager/debug":"debug","../../manager/scene_manager":"scene_manager"}],sdk_manager:[function(e,t,o){"use strict";cc._RF.push(t,"24750PiAAFKm7XSaJUL71dR","sdk_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../utility/Utility"),i=e("../sdk/collection/sdk_facebook"),a=e("../sdk/collection/sdk_define"),s=e("../sdk/collection/sdk_line"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.receive=function(e){var t=JSON.parse(r.default.instance.decodeBase64(e));t.sdkName==a.default.FACE_BOOK_NAME?i.default.instance.receive(t):t.sdkName==a.default.LINE_NAME&&s.default.instance.receive(t)},t.prototype.requestNativeFunc=function(e,t,o){void 0===o&&(o="");var n={sdkName:e,funcName:t,params:o},r=JSON.stringify(n);if(cc.sys.os===cc.sys.OS_ANDROID){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/sdk/SDKManager","receiveJSCall","(Ljava/lang/String;)V",r)}},t}(cc.Component);o.default=c,window.sdkMgr=c.instance,cc._RF.pop()},{"../sdk/collection/sdk_define":"sdk_define","../sdk/collection/sdk_facebook":"sdk_facebook","../sdk/collection/sdk_line":"sdk_line","../utility/Utility":"utility"}],server_base:[function(e,t,o){"use strict";cc._RF.push(t,"45be51An5dE6rv7BtZA+iIr","server_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../framework/core/mvvm/model_base"),a=e("../../framework/net/net_client"),s=e("../../manager/time_manager"),c=cc._decorator.ccclass,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=new i.default,t.netClient=new a.default,t._pingDelayTime=0,t.state=null,t._reconTimes=0,t._maxReconTimes=5,t}return n(t,e),t.prototype.init=function(e){this.model=new i.default,this.netClient=new a.default,this.netClient.name=e,this.clientName=e,this.model.netClient=this.netClient},t.prototype.connect=function(e,t){this.close(),this._onConnectState=t,this.url=e,this.netClient.connect(e,this.netClientProtoType?this.netClientProtoType:a.NetClientProtoType.GameServer),this.netClient.onConnectStateEvent=this._onConnectStateEvent.bind(this),this.model.netClient=this.netClient,this.netClient.heartbeatEvent=this._heartbeatEvent.bind(this),cc.log("\u670d\u52a1\u5668\u8fde\u63a5\uff1a",e,s.default.instance.getServerTime()),this.unschedule(this.checkConnect),this.scheduleOnce(this.checkConnect,30)},t.prototype._heartbeatEvent=function(){this._lastPingTime&&(this._pingDelayTime=this.netClient.lastReceivePingTime-this._lastPingTime,this._lastPingTime=null,0==this._pingDelayTime&&(this._pingDelayTime=.06),this.onNotifyPing&&this.onNotifyPing(this._pingDelayTime))},t.prototype.checkConnect=function(){cc.log("0\u8fde\u63a5\u8d85\u65f6\uff0c\u91cd\u8fde\uff01",this.clientName,s.default.instance.getServerTime()),this.unschedule(this.checkConnect),this.reconnectServer()},t.prototype.close=function(){this.unschedule(this._reconnect),this.unschedule(this.checkConnect),this.unschedule(this._checkPing),this.unschedule(this._loginIsTimeOut),this.netClient.activeClose()},t.prototype.startCheckPing=function(){this.unschedule(this._loginIsTimeOut),this._reconTimes=0,this.netClient.lastReceivePingTime=Date.now(),this._lastPingTime=Date.now(),this._requestPing(),this.unschedule(this._checkPing),this.schedule(this._checkPing,this.netClient.heartbeatInterval,cc.macro.REPEAT_FOREVER)},t.prototype._checkPing=function(){var e=Date.now();this._requestPing(),null==this._lastPingTime&&(this._lastPingTime=e),e-this.netClient.lastReceivePingTime-this.netClient.heartbeatTimeout>0&&this.heartbeat_timeout_reconnect(),this.onNotifyPing&&this.onNotifyPing(this._pingDelayTime)},t.prototype._requestPing=function(){this.netClient.netState&&this.netClient.heartbeat()},t.prototype.reconnectServer=function(){if(s.default.instance.backGround)cc.warn("\u6b63\u5728\u540e\u53f0\u4e2d\uff0c\u4e0d\u91cd\u8fde\uff01");else{var e=1;this._reconTimes>=2&&(e=3),cc.log("\u65ad\u7ebf\u91cd\u8fde\uff01",e,this._reconTimes),this.unschedule(this._reconnect),this.unschedule(this.checkConnect),this.unschedule(this._checkPing),this.unschedule(this._loginIsTimeOut),this.scheduleOnce(this._reconnect,e)}},t.prototype.onReconnectServer=function(){},t.prototype.onConnected=function(){},t.prototype._reconnect=function(){this._reconTimes=this._reconTimes+1,this.connectTimes(this._reconTimes),this._reconTimes<this._maxReconTimes?this.connect(this.url,this._onConnectState):(cc.warn(this.clientName,"\u65ad\u7ebf\u91cd\u8fde\u6b21\u6570\u7528\u5b8c\u63d0\u793a\u767b\u9646\u5931\u8d25"),this.close(),this.reconnectServerFail())},t.prototype.connectTimes=function(e){},t.prototype.reconnectServerFail=function(){},t.prototype._loginIsTimeOut=function(){cc.warn(this.clientName,"\u670d\u52a1\u5668\u8fde\u63a5\u8d85\u65f6\uff01"),this.reconnectServer()},t.prototype._onConnectStateEvent=function(e){this.unschedule(this.checkConnect),cc.warn(this.clientName,"onConnectStateEvent",e),"OPEN"==e?(this._reconTimes=0,this.subscibeMsgEvent(),this.scheduleOnce(this._loginIsTimeOut,10)):"error"==e?this.reconnectServer():"CLOSE"==e?(cc.warn("\u8fde\u63a5\u4e2d\u65ad\uff0c\u81ea\u52a8\u91cd\u8fde\uff01"),this.reconnectServer()):"TIMEOUT"==e?this.reconnectServer():"handshake"==e&&this.onConnected(),null!=this._onConnectState&&this._onConnectState(e)},t.prototype.subscibeMsgEvent=function(){this.model.clearMsgEvent()},t.prototype.heartbeat_timeout_reconnect=function(){cc.warn("\u65ad\u7ebf\u91cd\u8fde...\uff01");var e=this;e.close(),e.scheduleOnce(function(){e.reconnectServer()},.5)},t.prototype.exit=function(){this.onNotifyPing=null},t=r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../framework/core/mvvm/model_base":"model_base","../../framework/net/net_client":"net_client","../../manager/time_manager":"time_manager"}],setting_view:[function(e,t,o){"use strict";cc._RF.push(t,"32ec5lz8CFBIrp7M5FlVY9S","setting_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/view_base"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeBtn=null,t.musicToggle=null,t.soundToggle=null,t.musicSlider=null,t.musicProgressBar=null,t.soundSlider=null,t.soundProgressBar=null,t.labVersion=null,t}return n(t,e),t.prototype.start=function(){},r([c(cc.Button)],t.prototype,"closeBtn",void 0),r([c(cc.Toggle)],t.prototype,"musicToggle",void 0),r([c(cc.Toggle)],t.prototype,"soundToggle",void 0),r([c(cc.Slider)],t.prototype,"musicSlider",void 0),r([c(cc.ProgressBar)],t.prototype,"musicProgressBar",void 0),r([c(cc.Slider)],t.prototype,"soundSlider",void 0),r([c(cc.ProgressBar)],t.prototype,"soundProgressBar",void 0),r([c(cc.Label)],t.prototype,"labVersion",void 0),t=r([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],setting:[function(e,t,o){"use strict";cc._RF.push(t,"6cc28zDWrtPDIPl9xYeawAb","setting");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../../framework/core/mvvm/module_base"),a=e("./setting_view"),s=e("../../../../manager/audio_manager"),c=e("../../../../utility/Utility"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){var t=e.call(this)||this;return t.isClick=!1,t.layer=i.ViewLayer.High,t.windowPrefabResPath="package/hall/module/setting/hall_setting",t.viewType=a.default,t.modelType=null,t.needAnim=!0,t.needViewMask=!0,t}return n(t,e),t.prototype.onButtonClickName=function(e){switch(e){case"closeBtn":c.default.instance.playButtonSound(),this.hide()}},t.prototype.onButtonCancel=function(){this.hide()},t.prototype.onButtonSure=function(){},t.prototype.onInit=function(){var e=this;this.isClick=!1,this.view.musicToggle.node.on("toggle",function(t){this.isClick&&c.default.instance.playButtonSound();var o=t,n=e.view.musicToggle.node.getChildByName("Background"),r=e.view.musicToggle.node.getChildByName("checkmark");1==o.isChecked?(n.active=!1,r.active=!0,s.default.instance.setMusicOpen(!0),s.default.instance.resumeMusic()):(n.active=!0,r.active=!1,s.default.instance.setMusicOpen(!1),s.default.instance.pauseMusic())},this),this.view.soundToggle.node.on("toggle",function(t){this.isClick&&c.default.instance.playButtonSound();var o=e.view.soundToggle.node.getChildByName("Background"),n=e.view.soundToggle.node.getChildByName("checkmark");1==t.isChecked?(o.active=!1,n.active=!0,s.default.instance.setSoundOpen(!0)):(o.active=!0,n.active=!1,s.default.instance.setSoundOpen(!1))},this),this.view.musicSlider.node.on("slide",function(t){var o=e.view.musicSlider.progress;s.default.instance.setMusicVolume(o),this.view.musicProgressBar.progress=o},this),this.view.soundSlider.node.on("slide",function(t){var o=e.view.soundSlider.progress;s.default.instance.setSoundVolume(o),this.view.soundProgressBar.progress=o},this)},t.prototype.onShow=function(){this.isClick=!1,s.default.instance.isMusicOpen()?this.view.musicToggle.check():this.view.musicToggle.uncheck(),s.default.instance.isSoundOpen()?this.view.soundToggle.check():this.view.soundToggle.uncheck(),this.view.soundSlider.progress=cc.audioEngine.getEffectsVolume(),this.view.soundProgressBar.progress=cc.audioEngine.getEffectsVolume(),this.view.musicSlider.progress=cc.audioEngine.getMusicVolume(),this.view.musicProgressBar.progress=cc.audioEngine.getMusicVolume(),this.isClick=!0},r([i.bindButtonClickEvent("btnCancel")],t.prototype,"onButtonCancel",null),r([i.bindButtonClickEvent("btnSure")],t.prototype,"onButtonSure",null),t=r([u,i.moduleInit("Setting")],t)}(i.default));o.default=p,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","../../../../manager/audio_manager":"audio_manager","../../../../utility/Utility":"utility","./setting_view":"setting_view"}],shader_component:[function(e,t,o){"use strict";cc._RF.push(t,"bdbdeJEoJ1J3or89GLZChUl","shader_component");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_material"),a=cc._decorator,s=a.ccclass,c=(a.property,a.executeInEditMode),l=a.requireComponent,u=(a.disallowMultiple,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._material=null,t._color=cc.color(),t._start=0,t._shaderName="",t._state=100,t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 clrx = color * texture2D(texture, uv0);\n        float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n        float gray = (1.5)*brightness;\n        clrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n        gl_FragColor =clrx;\n    }\n    ",t._defines=[],t._params=[],t._needUpdate=!1,t}return n(t,e),t.prototype.start=function(){this.init()},t.prototype.init=function(){this.node.getComponent(cc.Sprite).setState(0),this._applyShader()},t.prototype.onEnable=function(){this.init()},t.prototype.update=function(e){this._material&&(this._setShaderColor(),this._setShaderTime(e))},t.prototype.useShader=function(){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){var e=this.node.getComponent(cc.Sprite);if(e&&e.spriteFrame&&e.getState()!==cc.Sprite.State.GRAY){var t=(new i.default).create(this._shaderName,this._vert,this._frag,this._defines,this._params),o=e.spriteFrame.getTexture();t.setTexture(o),t.updateHash(),this.setParamValue(t);var n=e;return n._material=t,n._renderData._material=t,n._state=this._state,t}}else console.warn("Shader not surpport for canvas")},t.prototype.setParamValue=function(e){},t.prototype._applyShader=function(){var e=this.useShader();this._material=e,this._start=0;var t=this._color;t.setR(255),t.setG(255),t.setB(255),t.setA(255),this._setShaderColor()},t.prototype._setShaderColor=function(){var e=this.node,t=e.color,o=this._color,n=t.getR(),r=t.getG(),i=t.getB(),a=e.opacity,s=!1;o.getR()!==n&&(o.setR(n),s=!0),o.getG()!==r&&(o.setG(r),s=!0),o.getB()!==i&&(o.setB(i),s=!0),o.getA()!==a&&(o.setA(a),s=!0),s&&this._material.setColor(n/255,r/255,i/255,a/255)},t.prototype._setShaderTime=function(e){if(this._needUpdate){var t=this._start;t>65535&&(t=0),t+=e,this._material.setTime(t),this._start=t}},t=r([s,l(cc.Sprite),c],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./shader_material":"shader_material"}],shader_material:[function(e,t,o){"use strict";cc._RF.push(t,"0d074HtiIhLz73nmpL6QH6n","shader_material"),cc._RF.pop()},{}],shader_test:[function(e,t,o){"use strict";cc._RF.push(t,"4104c5K28RIwpDG6P+eH6ux","shader_test");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shaderRoot=null,t.lastBtn=null,t.nextBtn=null,t.spriteFrame=null,t._curIndex=0,t._totalCount=0,t}return n(t,e),t.prototype.start=function(){this._totalCount=this.shaderRoot.childrenCount,this.lastBtn.on("click",this.onLastBtnClick,this),this.nextBtn.on("click",this.onNextBtnClick,this),this.shoChild()},t.prototype.onLastBtnClick=function(){this._curIndex--,this._curIndex<0&&(this._curIndex=this._totalCount-1),this.shoChild()},t.prototype.onNextBtnClick=function(){this._curIndex++,this._curIndex>=this._totalCount&&(this._curIndex=0),this.shoChild()},t.prototype.shoChild=function(){for(var e=this._totalCount,t=0;t<e;t++)this.shaderRoot.children[t].active=t==this._curIndex},r([s(cc.Node)],t.prototype,"shaderRoot",void 0),r([s(cc.Node)],t.prototype,"lastBtn",void 0),r([s(cc.Node)],t.prototype,"nextBtn",void 0),r([s(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),t=r([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],simple_rotation:[function(e,t,o){"use strict";cc._RF.push(t,"ae356Ka5RxB96s2zBElWt2S","simple_rotation");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a=cc._decorator,s=a.ccclass,c=a.property;(function(e){e[e.Normal=0]="Normal",e[e.RotationY=1]="RotationY",e[e.RotationX=2]="RotationX"})(i||(i={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=400,t.rotationType=i.Normal,t}return n(t,e),t.prototype.update=function(e){this.rotationType==i.Normal?this.node.rotation+=this.angle*e:this.rotationType==i.RotationY?this.node.rotationY+=this.angle*e:this.rotationType==i.RotationX&&(this.node.rotationX+=this.angle*e)},r([c(Number)],t.prototype,"angle",void 0),r([c({type:cc.Enum(i)})],t.prototype,"rotationType",void 0),t=r([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],spriteFrameHolder:[function(e,t,o){"use strict";cc._RF.push(t,"271c1S8IK9HgoIZkor7kbOi","spriteFrameHolder");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=i.menu,l=function(){function e(){this.spriteFrame=null,this.key=""}return r([s(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),r([s(cc.String)],e.prototype,"key",void 0),e=r([a("SpriteFrameKeyPair")],e)}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrameList=[],t}return n(t,e),t.prototype.getSpriteFrameByKey=function(e){for(var t=0;t<this.spriteFrameList.length;t++){var o=this.spriteFrameList[t];if(o.key==e)return o.spriteFrame}return null},r([s([l])],t.prototype,"spriteFrameList",void 0),t=r([a,c("custom/SpriteFrameHolder")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],stone_shader:[function(e,t,o){"use strict";cc._RF.push(t,"3bbfaQ1MZBN05FKmnLmaZu4","stone_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc._decorator,s=a.ccclass,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Stone",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    void main () {\n        vec4 c = color * texture2D(texture, uv0);\n        float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n        float gray = (0.6) * clrbright;\n        gl_FragColor = vec4(gray, gray, gray, c.a);\n    }\n    ",t}return n(t,e),t=r([s,c("custom/Shader/Stone")],t)}(i.default);o.default=l,cc._RF.pop()},{"./shader_component":"shader_component"}],template_model:[function(e,t,o){"use strict";cc._RF.push(t,"99c36UEeDZFwoUH7xF7T9bS","template_model"),cc._RF.pop()},{}],template_view:[function(e,t,o){"use strict";cc._RF.push(t,"39203RYc1VNkYY4dgaccCOQ","template_view"),cc._RF.pop()},{}],template:[function(e,t,o){"use strict";cc._RF.push(t,"67aa2l/f+tH1JoX5eq3Cu6D","template"),cc._RF.pop()},{}],texture_manager:[function(e,t,o){"use strict";cc._RF.push(t,"cdf0dyhpgBG7pucOaciq9X4","texture_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../utility/game_util"),a=e("./time_manager"),s=e("../manager/debug"),c=cc._decorator.ccclass,l=function(){return function(){}}(),u=function(){return function(){}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteCache=[],t.reloadCache=[],t.reloadTimeArray=[1,3,5],t}var o;return n(t,e),o=t,t.prototype.clear=function(){for(var e=this.spriteCache.length,t=0;t<e;t++)cc.loader.releaseAsset(this.spriteCache[t].spriteFrame);this.spriteCache=[],this.reloadCache=[]},t.prototype.getSprite=function(e,t){var o=this.hasSprite(e);if(o>=0)return t(this.spriteCache[o].spriteFrame);var n=this;i.default.loadTexture(e,function(o,r){if(r){var i=new cc.SpriteFrame(r);return n.addSprite(e,i),n.removeReloadCache(e),t(i)}s.default.warn("\u4e0b\u8f7d\u56fe\u7247\u51fa\u9519\uff1a",e);var c=n.getReloadTime(e);c>0&&a.default.instance.scheduleOnce(function(){n.getSprite(e,t)},c)})},t.prototype.getLocalSprite=function(e,t){var o=this.hasSprite(e);if(o>=0)return t(this.spriteCache[o].spriteFrame);var n=this;cc.loader.loadRes("image/"+e,cc.SpriteFrame,function(o,r){if(!o){var i=r;return n.addSprite(e,i),t(i)}s.default.log(o)})},t.prototype.hasSprite=function(e){for(var t=this.spriteCache.length,o=0;o<t;o++)if(this.spriteCache[o].key==e)return o;return-1},t.prototype.addSprite=function(e,t){var o=this.hasSprite(e);if(o<0){var n=new l;n.key=e,n.spriteFrame=t,this.spriteCache.push(n)}else this.spriteCache[o].spriteFrame=t},t.prototype.hasReloadCache=function(e){for(var t=this.reloadCache.length,o=0;o<t;o++)if(this.reloadCache[o].key==e)return o;return-1},t.prototype.removeReloadCache=function(e){var t=this.hasReloadCache(e);t>0&&this.reloadCache.splice(t,1)},t.prototype.getReloadTime=function(e){var t,o=this.hasReloadCache(e);return o<0?((t=new u).key=e,t.count=0,this.reloadCache.push(t),t.count>=this.reloadTimeArray.length?-1:this.reloadTimeArray[t.count]):((t=this.reloadCache[o]).count=t.count+1,t.count>=this.reloadTimeArray.length?-1:this.reloadTimeArray[t.count])},t.instance=new o,t=o=r([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/debug":"debug","../utility/game_util":"game_util","./time_manager":"time_manager"}],time_manager:[function(e,t,o){"use strict";cc._RF.push(t,"6902di9a5FNrYbxbHyiYNMF","time_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,a=e("./event_manager"),s=e("./audio_manager"),c=e("../framework/core/module_manager"),l=e("./log_report_manager"),u=e("./debug"),p=cc._decorator.ccclass;(function(e){e[e.INTERVAL=0]="INTERVAL",e[e.COUNT_DOWN=1]="COUNT_DOWN"})(i||(i={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._needCheckModule=["AuthModule","HallModule","RandomAwardModule","RankingMatchStarup","DouDiZhuTableModule","DouDiZhuMatchingTableModule","Match","GoldEntranceModule","Bag","ShopModule","CreatRoom","HallRank"],t.backGround=!1,t._handles=[],t._serverMarkTime=0,t._serverLocalDifTime=0,t._lastTime=0,t._hideTime=0,t._showTime=0,t._startCheckBlack=!1,t._blackTimes=0,t._backTarget="",t.m_maxId=0,t.m_callbackMap={},t.AppRunningTime=0,t}var o;return n(t,e),o=t,t.prototype.start=function(){cc.game.off(cc.game.EVENT_HIDE,this.onApplicationHide.bind(this)),cc.game.off(cc.game.EVENT_SHOW,this.onApplicationShow.bind(this)),cc.game.on(cc.game.EVENT_HIDE,this.onApplicationHide.bind(this)),cc.game.on(cc.game.EVENT_RESTART,this.onApplicationShow.bind(this)),cc.view.getScaleX},t.prototype.setBackTarget=function(e){o.instance._backTarget=e},t.prototype.getBackTarget=function(){return o.instance._backTarget},t.prototype.onApplicationHide=function(){o.instance._hideTime=Date.now(),u.default.log("\u5207\u5230\u540e\u53f0\u4e86\uff01",o.instance._hideTime),this.backGround=!0,s.default.instance.release(),a.default.instance.dispatch("game_event_show",!1)},t.prototype.onApplicationShow=function(){o.instance._showTime=Date.now();var e=o.instance._showTime-o.instance._hideTime;u.default.log("\u5207\u5230\u524d\u53f0\u4e86\uff01",o.instance._showTime,e),this.backGround=!1,a.default.instance.dispatch("game_event_show",!0,e,o.instance._backTarget)},t.prototype.setInerval=function(e,t,n,r,a){var s=this.hasHander(e,t,i.INTERVAL);s>0&&(o.instance._handles[s].remove=!0);var c={type:i.INTERVAL,name:e,callback:t,target:n,interval:r,totalCount:a||0,curCount:0,progress:0,remove:!1,step:function(e){(c.progress++,c.progress>=c.interval)&&(c.progress=0,c.curCount++,c.callback.call(c.target,c.curCount),c.curCount>=c.totalCount&&c.totalCount&&(c.remove=!0))}};o.instance._handles.push(c)},t.prototype.countDown=function(e,t,n,r){var a=this.getServerTime(),s=this.hasHander(e,t);s>0&&(o.instance._handles[s].remove=!0);var c={type:i.COUNT_DOWN,name:e,callback:t,target:n,targetTime:a+r,remove:!1,step:function(e){c.targetTime<=e&&0==c.remove&&c.target&&(c.callback.call(c.target),c.remove=!0)}};o.instance._handles.push(c)},t.prototype.countDownTargetTime=function(e,t,n,r){var a=this.hasHander(e,t);a>=0&&(o.instance._handles[a].remove=!0);var s={type:i.COUNT_DOWN,name:e,callback:t,target:n,targetTime:r,remove:!1,step:function(e){s.targetTime<=e&&0==s.remove&&s.target&&(s.callback.call(s.target),s.remove=!0)}};o.instance._handles.push(s)},t.prototype.offAllByKey=function(e){for(var t=o.instance._handles.length,n=0;n<t;n++){o.instance._handles[n].name==e&&(o.instance._handles[n].remove=!0)}},t.prototype.offCountDown=function(e,t){this.offHander(e,t,i.COUNT_DOWN)},t.prototype.offInterval=function(e,t){this.offHander(e,t,i.INTERVAL)},t.prototype.offHander=function(e,t,n){void 0===n&&(n=i.COUNT_DOWN);var r=this.hasHander(e,t,n);r>=0&&(o.instance._handles[r].remove=!0)},t.prototype.hasHander=function(e,t,n){void 0===n&&(n=i.COUNT_DOWN);for(var r=o.instance._handles.length,a=0;a<r;a++){var s=o.instance._handles[a];if(s.type==n&&s.callback==t&&s.name==e)return a}return-1},t.prototype.initServerTime=function(e){this._serverMarkTime=e,this._serverLocalDifTime=Math.floor((new Date).getTime()/1e3)-e},t.prototype.getServerTime=function(){var e=Math.floor((new Date).getTime()/1e3);return this._serverMarkTime<=0?e:e-this._serverLocalDifTime},t.prototype.step=function(){for(var e=this.getServerTime(),t=0;t<o.instance._handles.length;t++){var n=o.instance._handles[t];!n.remove&&n.target?n.step(e):(o.instance._handles.splice(t,1),t--)}},t.prototype.update=function(e){o.instance.AppRunningTime+=e;var t=Date.now();(0==this._lastTime||this._lastTime+1e3<t)&&(this._lastTime=t,this.step(),this.checkBlack())},t.prototype.startCheckBlack=function(){o.instance._startCheckBlack=!0},t.prototype.checkBlack=function(){if(o.instance._startCheckBlack){for(var e=0;e<o.instance._needCheckModule.length;e++){if(c.default.instance.moduleHasActive(o.instance._needCheckModule[e]))return void(o.instance._blackTimes=0)}o.instance._blackTimes=o.instance._blackTimes+1,o.instance._blackTimes>3&&(o.instance._blackTimes=0,c.default.instance.setModuleActive("HallModule"),cc.error("\u51fa\u73b0\u4e86\u9ed1\u5c4f"),l.default.report("\u51fa\u73b0\u4e86\u9ed1\u5c4f"))}},t.prototype.genId=function(){return++this.m_maxId},t.prototype.doSchedule=function(e,t,o,n){var r=this,i=this.genId(),a=function(){o||r.cancelSchedule(i),e()};return this.m_callbackMap[Number(i)]=a,this.schedule(a,t,o,n),i},t.prototype.doScheduleOnce=function(e,t){var o=this.genId(),n=function(){this.m_callbackMap[o.toString()]=null,e()};return this.m_callbackMap[Number(o)]=n,this.scheduleOnce(n,t),o},t.prototype.cancelSchedule=function(e){var t=e.toString(),o=this.m_callbackMap[t];o&&(this.unschedule(o),this.m_callbackMap[t]=null)},t.prototype.cleanDoShedules=function(){var e=this.m_callbackMap,t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o);for(var n=0;n<t.length;n++){o=t[n];this.cancelSchedule(Number(o))}this.m_callbackMap={}},t.instance=new o,t=o=r([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../framework/core/module_manager":"module_manager","./audio_manager":"audio_manager","./debug":"debug","./event_manager":"event_manager","./log_report_manager":"log_report_manager"}],toast_view:[function(e,t,o){"use strict";cc._RF.push(t,"4d2b9qBQMxO342B27nK380R","toast_view");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.holder=null,t}return n(t,e),r([s(cc.Node)],t.prototype,"holder",void 0),t=r([a],t)}(e("../../../../framework/core/mvvm/view_base").default);o.default=c,cc._RF.pop()},{"../../../../framework/core/mvvm/view_base":"view_base"}],toast:[function(e,t,o){"use strict";cc._RF.push(t,"ff4e7xChNdEOYGTWHqUzXWu","toast");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,e("../../../../framework/core/mvvm/module_base")),c=e("./toast_view"),l=function(e){function t(){var t=e.call(this)||this;return t.package="public",t.layer=s.ViewLayer.High,t.windowPrefabResPath="package/public/public_toast",t.viewType=c.default,t}return n(t,e),t.prototype.onShow=function(e){if(e&&"object"==typeof e){var t=e.text,o=e.long;this._show(t,o)}else this._show(e)},t.prototype._show=function(e,t){var o=cc.instantiate(this.view.holder);this.view.node.addChild(o);var n=o.getChildByName("SpriteBackground").getComponent(cc.Sprite),r=o.getChildByName("Label").getComponent(cc.Label);r.string=e,r._updateRenderData(!0),n.node.width=r.node.width+40;var i=cc.callFunc(function(e){o.destroy()},this),a=1,s=.6;t&&(a=2,s=1.2);var c=cc.sequence(cc.moveBy(a,cc.v2(0,50)),cc.fadeOut(s),i);o.runAction(c)},t=r([a,s.moduleInit("Toast")],t)}(s.default);o.default=l,cc._RF.pop()},{"../../../../framework/core/mvvm/module_base":"module_base","./toast_view":"toast_view"}],toggle_item:[function(e,t,o){"use strict";cc._RF.push(t,"4cf2aAQysVFkqKS1dG87Qvh","toggle_item");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPos=0,t.dis=0,t.childToggle=[],t}return n(t,e),t.prototype.init=function(){},r([s(cc.Float)],t.prototype,"startPos",void 0),r([s(cc.Float)],t.prototype,"dis",void 0),t=r([a],t)}(cc.Component);o.ToggleItem=c,cc._RF.pop()},{}],ui_state_switcher:[function(e,t,o){"use strict";cc._RF.push(t,"ed34bY5yjJPtbHZzCFbx/Mj","ui_state_switcher");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=(i.property,i.menu),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.showChild=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);for(var n=this.node.childrenCount,r=0;r<n;r++){var i=this.node.children[r];i.name==e?i.active=!0:i.active=!1}},t.prototype._findMask=function(e){for(var t=e.childrenCount,o=0;o<t;o++)if("Mask"==e.children[o].name)return e.children[o];return null},t.prototype.isChildActive=function(e){for(var t=this.node.childrenCount,o=0;o<t;o++){var n=this.node.children[o];if(n.name==e)return n.active}},t.prototype.hasChildActive=function(){for(var e=this.node.childrenCount,t=0;t<e;t++){if(this.node.children[t].active)return!0}return!1},t.prototype.hideAll=function(){for(var e=this.node.childrenCount,t=0;t<e;t++)this.node.children[t].active=!1},t=r([a,s("custom/UIStateSwitcher")],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],user_manager:[function(e,t,o){"use strict";cc._RF.push(t,"f5becpzc6xGNY1pj16ycD3I","user_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this._userInfo=null,this.mChairID=null,this.mPlayerCount=null}return e.prototype.setUserData=function(e){this._userInfo=e},e.prototype.getUserData=function(){return this._userInfo},e.prototype.isMale=function(){return 1==this._userInfo.gender},e.instance=new e,e}();o.default=n,cc._RF.pop()},{}],utility:[function(e,t,o){"use strict";cc._RF.push(t,"57df6HeHaREDoHlG4+A5lOj","utility"),Object.defineProperty(o,"__esModule",{value:!0});var n,r,i=e("../manager/audio_manager"),a=e("../pacakge/public/ui/GrayLable"),s=e("../manager/texture_manager"),c=e("../utility/base64"),l=function(){function e(){this._lastClickTime=0,this._lastAnimTime=0,this._screenSize=null}return e.prototype.random=function(e,t){var o=t-e;return e+Math.random()*o},e.prototype.randomToInt=function(e,t){var o=t-e;return Math.round(e+Math.random()*o)},e.prototype.randomInsideRadius=function(e){void 0===e&&(e=1);var t=new cc.Vec2;return t.x=this.random(-e,e),t.y=Math.sqrt(e*e-t.x*t.x)*this.random(-1,1),t},e.prototype.decodeBase64=function(e){return c.Base64.decode(e)},e.prototype.nowTimestamp=function(){return Math.floor(.001*Date.now())},e.prototype.formateNumb=function(e){return e?e<1e4?e:e<1e6?(e/1e4).toFixed(2)+"\u4e07":e<1e8?Math.floor(e/1e4)+"\u4e07":(e/1e8).toFixed(3)+"\u4ebf":0},e.prototype.setBtnGray=function(e,t){null!=e?(e.interactable=!t,e.enableAutoGrayEffect=t,this.setNodeGray(e.node,t)):cc.warn("\u7f6e\u7070\u6309\u94ae\u4e3anull")},e.prototype.setNodeGray=function(e,t){for(var o=e.getComponents(cc.Sprite).concat(e.getComponentsInChildren(cc.Sprite)),n=0;n<o.length;n++){var r=o[n];t?this.setGray(r):this.resetGray(r)}var i=e.getComponents(a.default).concat(e.getComponentsInChildren(a.default));for(n=0;n<i.length;n++){(r=i[n]).enabled=!!t}},e.prototype.isGray=function(e){return e.getState()==cc.Sprite.State.GRAY},e.prototype.setGray=function(e){n=n||cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.setMaterial(0,n)},e.prototype.resetGray=function(e){r=r||(r=cc.Material.getBuiltinMaterial("2d-sprite",e)),e.setMaterial(0,r)},e.prototype.formatTime=function(e,t){var o=null;o=null==e?new Date:new Date(1e3*e),null!=t&&""!=t||(t="yyyy-MM-dd hh:mm");var n={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},e.prototype.getDate=function(e){var t=new Date(e.replace(/-/g,"/"));return{year:t.getFullYear()<10?"0"+t.getFullYear():""+t.getFullYear(),month:t.getMonth()+1<10?"0"+(t.getMonth()+1):""+(t.getMonth()+1),day:t.getDate()<10?"0"+t.getDate():""+t.getDate()}},e.prototype.notIOS=function(){return!this.isMobile()||cc.sys.OS_IOS!=cc.sys.os},e.prototype.isMobile=function(){return cc.sys.isMobile},e.prototype.playerNameClamp=function(e,t,o){o=null==o?"..":o,t*=2;for(var n=function(e){for(var t=[],o=0,n=0,r=0;r<e.length;){var i=r;if(65039!=(o=e.charCodeAt(r++)))if(n){var a=65536+(n-55296<<10)+(o-56320);t.push({v:a,pos:i}),n=0}else 55296<=o&&o<=56319?n=o:t.push({v:o,pos:i})}return t}(e),r=0,i=0,a=0;a<n.length;++a){var s=1;if(n[a].v>=128&&(s=2),r+s>t)break;i=a,r+=s}if(n.length-1==i)return e;var c=o?1:0;return e.substring(0,n[i-c].pos+1)+o},e.prototype.getNameLen=function(e){if(""==e)return 0;for(var t=e.length,o=0,n=0;n<t;){var r=e.charCodeAt(n);o+=r>0&&r<=127?.5:1,n+=1}return o},e.prototype.filterPlayerName=function(e,t){if(""==e)return"";t=t||8;for(var o="",n=e.length,r=0,i=0;i<n;){var a=e.charCodeAt(i),s=0;if(a>0&&a<=127?(1,s=1):a>=192&&a<223?(2,s=2):a>=224&&a<239?(3,s=2):a>=240&&a<=247?(4,s=2):(3,s=2),r+s>t)return o+"..";r+=s;var c=e.charAt(i);i+=1,o+=c}return o},e.prototype.hideAllChildren=function(e){for(var t=e.childrenCount,o=0;o<t;o++)e.children[o].active=!1},e.prototype.getIntRandom=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),Math.floor(Math.random()*(t-e+1)+e)},e.prototype.playButtonSound=function(){i.default.instance.playSound("sound/public/button",!1)},e.prototype.playRewardSound=function(){i.default.instance.playSound("sound/public/huojiang",!1)},e.prototype.isNumArrayEquel=function(e,t){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++){if(t.indexOf(e[o])<0)return!1}return!0},e.prototype.timeStamp=function(){return""+(new Date).getTime()/1e3},e.prototype.randomString=function(){for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",t=e.length,o="",n=0;n<32;n++)o+=e.charAt(Math.floor(Math.random()*t));return o},e.prototype.resetSpriteSize=function(e,t){if(t){var o=e.spriteFrame.getOriginalSize(),n=Math.max(o.width,o.height),r=1;n>t&&(r=t/n),e.node.setContentSize(o.width*r,o.height*r)}else{o=e.spriteFrame.getOriginalSize();e.node.setContentSize(o)}},e.prototype.scaleSpriteToSize=function(e,t,o){var n=t.getOriginalSize(),r=n.width,i=n.height;r>i?(r=o,i=n.height/n.width*o):(i=o,r=n.width/n.height*o),e.spriteFrame=t,e.node.setContentSize(r,i)},e.prototype.lastAnimValid=function(e){var t=300;e&&(t=e);var o=(new Date).getTime();return!(o-this._lastAnimTime<t)&&(this._lastAnimTime=o,!0)},e.prototype.btnClickValid=function(e){var t=400;e&&(t=e);var o=(new Date).getTime();return!(o-this._lastClickTime<t)&&(this._lastClickTime=o,!0)},e.prototype.getUserHeadImagePath=function(e){return e&&""!=e&&"http://www.sincebest.com/app/lyfivestar/images/guest.png"!=e?e:"https://game.oss.sincebest.com/image/guest.png"},e.prototype.getLabelSize=function(e,t){return t.string=e,t._updateRenderData(!0),t.node.getContentSize()},e.prototype.getPrefabNode=function(e,t,o){if(t.childrenCount<=e){var n=cc.instantiate(o);return n.position=cc.v2(0,0),n.scale=1,n.parent=t,n.active=!1,this.getPrefabNode(e,t,o)}return t.children[e]},e.prototype.getScreenSize=function(){return this._screenSize?this._screenSize:cc.find("GameRoot/UI").getContentSize()},e.prototype.getDesignResolutionSize=function(){return this._screenSize?this._screenSize:cc.find("GameRoot/UI").getComponent(cc.Canvas).designResolution},e.prototype.strIsContain=function(e,t){return!!e&&(!!t&&-1!=e.indexOf(t))},e.prototype.setHeadFrame=function(e,t,o,n){void 0===n&&(n=95),e&&s.default.instance.getSprite(e,function(e){o&&o.isValid&&e&&(t.spriteFrame=e)})},e.prototype.getStrLength=function(e){if(e)return 0;for(var t=function(e){for(var t=[],o=0,n=0,r=0;r<e.length;){var i=r;if(65039!=(o=e.charCodeAt(r++)))if(n){var a=65536+(n-55296<<10)+(o-56320);t.push({v:a,pos:i}),n=0}else 55296<=o&&o<=56319?n=o:t.push({v:o,pos:i})}return t}(e),o=0,n=0;n<t.length;++n){var r=1;t[n].v>=128&&(r=2),o+=r}return o},e.prototype.resetAnimation=function(e){e&&e.setCurrentTime(0)},e.prototype.findChildNode=function(e,t){var o=t.indexOf("/");if(o>0){var n=t.substring(0,o);if(o+1<t.length){t=t.substring(o+1);var r=e.getChildByName(n);return r?this.findChildNode(r,t):null}return e.getChildByName(n)}return e.getChildByName(t)},e.currencyFormatting=function(e,t){void 0===t&&(t=!1);for(var o="",n=(e.toFixed(2)||0).toString().split("."),r=n[0];r.length>3;)o=","+r.slice(-3)+o,r=r.slice(0,r.length-3);return r&&(o=r+o),t?o:(n.length>1&&(o=o+"."+n[1]),o)},e.instance=new e,e}();o.default=l,cc._RF.pop()},{"../manager/audio_manager":"audio_manager","../manager/texture_manager":"texture_manager","../pacakge/public/ui/GrayLable":"GrayLable","../utility/base64":"base64"}],version_manager:[function(e,t,o){"use strict";cc._RF.push(t,"7befe1nhylHsK2mLzLAyiyR","version_manager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./debug"),a=e("./event_manager"),s=e("../pacakge/public/const/app_data"),c=e("./local_storage"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.manifestUrl=null,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.checkVersion=function(){if(cc.sys.isNative)if(this.manifestUrl){this.storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset-ssqp",cc.log("Storage path for remote asset : "+this.storagePath);this.assetManager=new jsb.AssetsManager("",this.storagePath,this.versionCompareHandle.bind(this)),this.assetManager.setVerifyCallback(function(e,t){t.compressed,t.md5,t.path,t.size;return!0}),cc.sys.os===cc.sys.OS_ANDROID&&this.assetManager.setMaxConcurrentTask(2),this.checkUpdate()}else i.default.error(" the manifestUrl is null ")},t.prototype.versionCompare=function(e,t){for(var o=e.split("."),n=t.split("."),r=0;r<o.length;++r){var i=parseInt(o[r]),a=parseInt(n[r]||0);if(i!=a)return i-a}return n.length>o.length?-1:0},t.prototype.versionCompareHandle=function(e,t){cc.log("JS Custom Version Compare: local version is "+e+", remote version is "+t);var o=e.split("."),n=t.split(".");s.default.appVersion=e,c.default.setNumber("version",e),a.default.instance.dispatch("get_app_version",e);for(var r=0;r<o.length;++r){var i=parseInt(o[r]),l=parseInt(n[r]||0);if(i!=l)return 0==r&&i<l?(console.log("please down load the lastest app package ."),0):i-l}return n.length>o.length?-1:0},t.prototype.checkUpdate=function(){if(!this.updating){if(this.assetManager.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this.assetManager.loadLocalManifest(e)}this.assetManager.getLocalManifest()&&this.assetManager.getLocalManifest().isLoaded()&&(this.assetManager.setEventCallback(this.checkCb.bind(this)),this.assetManager.checkUpdate(),this.updating=!0)}},t.prototype.checkCb=function(e){var t=e.getEventCode();switch(cc.log("checkCb Code: "+t),this.updating=!1,t){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),a.default.instance.dispatch("error_no_local_manifest.");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),a.default.instance.dispatch("error_download_manifest_file.");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),a.default.instance.dispatch("already_up_to_date");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:a.default.instance.dispatch("new_version_found"),cc.log("New version found, do update."),this.scheduleOnce(this.hotUpdate,.01);break;default:return void cc.log(" check cb default")}this.assetManager.setEventCallback(null)},t.prototype.hotUpdate=function(){if(this.assetManager&&!this.updating){if(this.assetManager.setEventCallback(this.updateCb.bind(this)),this.assetManager.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this.assetManager.loadLocalManifest(e)}this.assetManager.update(),this.updating=!0}},t.prototype.updateCb=function(e){var t=!1,o=!1;switch(console.log(" updateCb ",e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("No local manifest file found, hot update skipped."),o=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var n=e.getMessage();n&&console.log(" updateProgress msg ",n);var r=Number(e.getDownloadedFiles()),i=Number(e.getTotalFiles()),s=Number(e.getDownloadedBytes()),c=Number(e.getTotalBytes());console.log(" update progress files : ",r+" / "+i),console.log("update progress bytes : ",s+" / "+c);var l=0==c?0:Number((s/c).toFixed(2));console.log(" progress ",l),this.progress!=l&&a.default.instance.dispatch("update_progress",l),this.progress=l;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("Fail to download manifest file, hot update skipped."),o=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("Already up to date with the latest remote version."),o=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:console.log(" Update finished",e.getMessage()),a.default.instance.dispatch("update_finished"),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.updating=!1,this.canRetry=!0,console.log("Update failed. ",e.getMessage());break;case jsb.EventAssetsManager.ERROR_UPDATING:console.log("Asset update error: ",e.getAssetId()+", ",e.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:console.log(" ERROR_DECOMPRESS ",e.getMessage())}if(o&&(this.assetManager.setEventCallback(null),this.updating=!1),t){this.assetManager.setEventCallback(null);var u=jsb.fileUtils.getSearchPaths(),p=this.assetManager.getLocalManifest().getSearchPaths();console.log(JSON.stringify(p)),Array.prototype.unshift.apply(u,p),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(u)),jsb.fileUtils.setSearchPaths(u),cc.audioEngine.stopAll(),cc.game.restart()}},t.prototype.retry=function(){!this.updating&&this.canRetry&&(this.canRetry=!1,this.assetManager.downloadFailedAssets())},r([p(cc.Object)],t.prototype,"manifestUrl",void 0),t=o=r([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../pacakge/public/const/app_data":"app_data","./debug":"debug","./event_manager":"event_manager","./local_storage":"local_storage"}],view_base:[function(e,t,o){"use strict";cc._RF.push(t,"a414aWqKqZMArC29GaUZY67","view_base");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../module_manager"),a=e("./mvvm_base"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cacheComponent=[],t}return n(t,e),t.prototype.onShow=function(e){},t.prototype.onLoad=function(){},t.prototype._show=function(e){this.onShow(e)},t.prototype.on_destroy=function(){},t.prototype.destroyView=function(){this.isDestroyed=!0,this._baseDestroy()},t.prototype.onInit=function(){},t.prototype.cacheComponent=function(e,t){this._cacheComponent.push(t)},t.prototype.showNetPrompt=function(e){e?i.default.instance.showModuleName("NetPrompt"):i.default.instance.hideModule("NetPrompt")},t.prototype.buttonClick=function(e,t){this._moduleBase._ButtonClick(e,t)},t=r([c],t)}(a.default));o.default=l,cc._RF.pop()},{"../module_manager":"module_manager","./mvvm_base":"mvvm_base"}],water_shader:[function(e,t,o){"use strict";cc._RF.push(t,"ceb59k2DJ1Mp7bkTM6C2K4F","water_shader");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./shader_component"),a=cc.renderer.renderEngine.renderer,s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shaderName="Water",t._vert="\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",t._frag="uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float time;\n    varying vec2 uv0;\n\n    #define F cos(x-y)*cos(y),sin(x+y)*sin(y)\n\n    vec2 s(vec2 p)\n    {\n        float d=time*0.2,x=8.*(p.x+d),y=8.*(p.y+d);\n        return vec2(F);\n    }\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        // \u6362\u6210resolution\n        vec2 rs = iResolution.xy;\n        // \u6362\u6210\u7eb9\u7406\u5750\u6807v_texCoord.xy\n        vec2 uv = fragCoord;\n        vec2 q = uv+2./iResolution.x*(s(uv)-s(uv+rs));\n        //\u53cd\u8f6cy\n        //q.y=1.-q.y;\n        fragColor = texture2D(texture, q);\n    }\n    void main()\n    {\n        mainImage(gl_FragColor, uv0.xy);\n    }",t._defines=[],t._params=[{name:"iResolution",type:a.PARAM_FLOAT3}],t._needUpdate=!0,t}return n(t,e),t.prototype.setParamValue=function(e){var t=new cc.Vec3(this.node.width,this.node.height,0);e.setParamValue("iResolution",t)},t=r([c,l("custom/Shader/Water")],t)}(i.default);o.default=u,cc._RF.pop()},{"./shader_component":"shader_component"}]},{},["template","template_model","template_view","play_anim","simple_rotation","JsonOb","module_manager","model_base","module_base","mvvm_base","view_base","descriptor","net_client","listview","listview_demo","scrollview","init","loader_wrap","ConfigLanguageData","TLabel","countUp","pomelo","audio_manager","auto_dialog_manager","debug","event_manager","game_manager","language_manager","local_storage","log_report_manager","make_points_manager","memory_storage","scene_manager","sdk_manager","texture_manager","time_manager","user_manager","version_manager","club_data","club_model","club_module","club_view","component_club","component_marquee","component_table","clubMemList_model","clubMemList_module","clubMemList_view","net_clubRoute","clubRank_model","clubRank_module","clubRank_view","clubList_item","hall_model","hall_module","hall_route","hall_view","auth_module","auth_view","toggle_item","createroom_model","createroom_module","createroom_view","rule_data","rule_factory","marquee_component","setting","setting_view","joinClub_model","joinClub_module","joinClub_route","joinClub_view","pdk_myseat_pokers","pdk_seat_pokers","pdk_table_seat_view","pdk_table_sound","poker_node","poker_node_set","PdkUtils","pdk_help","result_module","result_view","room_config","public_rule","public_rule_view","pdk_const","pdk_data","pdk_base_view","pdk_model","pdk_module","pdk_module_base","pdk_view","poker_data","poker_logic_set","poker_pattern","poker_recommend","recommend_tools","pdk_route","app_data","const_code","game_cfg","module_data","loading","loading_view","model_data","dialog_view","diaolog","dialog_tips","dialog_tips_view","netprompt","netprompt_view","toast","toast_view","ping_component","poker_myseat_pokers","poker_seat_pokers_base","poker_table_poker_base","poker_table_seat_base_view","GrayLable","custom_ui_state_switcher","editor_box_center","layout_grid","menu_scroll_widget","screenAdaptationUtil","spriteFrameHolder","ui_state_switcher","game_net_route","game_server","hall_net_route","hall_server","login_net_route","login_server","server_base","String","SdkBridge","SdkHandler","SdkInterface","SdkStorage","sdk_define","sdk_facebook","sdk_line","blur_shader","dissolve_shader","flash_shader","fluxay_shader","fluxay_super_shader","frozen_shader","gauss_blur_shader","glowing_shader","ice_shader","mirror_shader","mosaic_shader","outline_shader","poison_shader","rain_shader","shader_component","shader_material","shader_test","stone_shader","water_shader","CustomRichText","CustomToggle","ToggleObjectContral","UButton","ULabel","USprite","aes","base64","center_horizont_layout","game_util","image_font","md5","pool","promiseUtility","utility"]);